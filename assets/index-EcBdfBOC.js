(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function e1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var sp={exports:{}},gc={};var Y0;function JA(){if(Y0)return gc;Y0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:d,ref:o!==void 0?o:null,props:c}}return gc.Fragment=e,gc.jsx=n,gc.jsxs=n,gc}var Q0;function WA(){return Q0||(Q0=1,sp.exports=JA()),sp.exports}var f=WA(),ap={exports:{}},Oe={};var K0;function ZA(){if(K0)return Oe;K0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.iterator;function D(P){return P===null||typeof P!="object"?null:(P=w&&P[w]||P["@@iterator"],typeof P=="function"?P:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,k={};function j(P,ee,ue){this.props=P,this.context=ee,this.refs=k,this.updater=ue||R}j.prototype.isReactComponent={},j.prototype.setState=function(P,ee){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ee,"setState")},j.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function X(){}X.prototype=j.prototype;function Q(P,ee,ue){this.props=P,this.context=ee,this.refs=k,this.updater=ue||R}var re=Q.prototype=new X;re.constructor=Q,q(re,j.prototype),re.isPureReactComponent=!0;var ce=Array.isArray;function de(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(P,ee,ue){var fe=ue.ref;return{$$typeof:i,type:P,key:ee,ref:fe!==void 0?fe:null,props:ue}}function U(P,ee){return C(P.type,ee,P.props)}function V(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function B(P){var ee={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ue){return ee[ue]})}var I=/\/+/g;function ot(P,ee){return typeof P=="object"&&P!==null&&P.key!=null?B(""+P.key):ee.toString(36)}function Ie(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(de,de):(P.status="pending",P.then(function(ee){P.status==="pending"&&(P.status="fulfilled",P.value=ee)},function(ee){P.status==="pending"&&(P.status="rejected",P.reason=ee)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function J(P,ee,ue,fe,Te){var Ae=typeof P;(Ae==="undefined"||Ae==="boolean")&&(P=null);var Ve=!1;if(P===null)Ve=!0;else switch(Ae){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(P.$$typeof){case i:case e:Ve=!0;break;case _:return Ve=P._init,J(Ve(P._payload),ee,ue,fe,Te)}}if(Ve)return Te=Te(P),Ve=fe===""?"."+ot(P,0):fe,ce(Te)?(ue="",Ve!=null&&(ue=Ve.replace(I,"$&/")+"/"),J(Te,ee,ue,"",function(pi){return pi})):Te!=null&&(V(Te)&&(Te=U(Te,ue+(Te.key==null||P&&P.key===Te.key?"":(""+Te.key).replace(I,"$&/")+"/")+Ve)),ee.push(Te)),1;Ve=0;var lt=fe===""?".":fe+":";if(ce(P))for(var nt=0;nt<P.length;nt++)fe=P[nt],Ae=lt+ot(fe,nt),Ve+=J(fe,ee,ue,Ae,Te);else if(nt=D(P),typeof nt=="function")for(P=nt.call(P),nt=0;!(fe=P.next()).done;)fe=fe.value,Ae=lt+ot(fe,nt++),Ve+=J(fe,ee,ue,Ae,Te);else if(Ae==="object"){if(typeof P.then=="function")return J(Ie(P),ee,ue,fe,Te);throw ee=String(P),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function ae(P,ee,ue){if(P==null)return P;var fe=[],Te=0;return J(P,fe,"","",function(Ae){return ee.call(ue,Ae,Te++)}),fe}function ge(P){if(P._status===-1){var ee=P._result;ee=ee(),ee.then(function(ue){(P._status===0||P._status===-1)&&(P._status=1,P._result=ue)},function(ue){(P._status===0||P._status===-1)&&(P._status=2,P._result=ue)}),P._status===-1&&(P._status=0,P._result=ee)}if(P._status===1)return P._result.default;throw P._result}var De=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Ye={map:ae,forEach:function(P,ee,ue){ae(P,function(){ee.apply(this,arguments)},ue)},count:function(P){var ee=0;return ae(P,function(){ee++}),ee},toArray:function(P){return ae(P,function(ee){return ee})||[]},only:function(P){if(!V(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Oe.Activity=x,Oe.Children=Ye,Oe.Component=j,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=Q,Oe.StrictMode=s,Oe.Suspense=g,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(P){return N.H.useMemoCache(P)}},Oe.cache=function(P){return function(){return P.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(P,ee,ue){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var fe=q({},P.props),Te=P.key;if(ee!=null)for(Ae in ee.key!==void 0&&(Te=""+ee.key),ee)!S.call(ee,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ee.ref===void 0||(fe[Ae]=ee[Ae]);var Ae=arguments.length-2;if(Ae===1)fe.children=ue;else if(1<Ae){for(var Ve=Array(Ae),lt=0;lt<Ae;lt++)Ve[lt]=arguments[lt+2];fe.children=Ve}return C(P.type,Te,fe)},Oe.createContext=function(P){return P={$$typeof:d,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:c,_context:P},P},Oe.createElement=function(P,ee,ue){var fe,Te={},Ae=null;if(ee!=null)for(fe in ee.key!==void 0&&(Ae=""+ee.key),ee)S.call(ee,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Te[fe]=ee[fe]);var Ve=arguments.length-2;if(Ve===1)Te.children=ue;else if(1<Ve){for(var lt=Array(Ve),nt=0;nt<Ve;nt++)lt[nt]=arguments[nt+2];Te.children=lt}if(P&&P.defaultProps)for(fe in Ve=P.defaultProps,Ve)Te[fe]===void 0&&(Te[fe]=Ve[fe]);return C(P,Ae,Te)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(P){return{$$typeof:p,render:P}},Oe.isValidElement=V,Oe.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:ge}},Oe.memo=function(P,ee){return{$$typeof:y,type:P,compare:ee===void 0?null:ee}},Oe.startTransition=function(P){var ee=N.T,ue={};N.T=ue;try{var fe=P(),Te=N.S;Te!==null&&Te(ue,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(de,De)}catch(Ae){De(Ae)}finally{ee!==null&&ue.types!==null&&(ee.types=ue.types),N.T=ee}},Oe.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Oe.use=function(P){return N.H.use(P)},Oe.useActionState=function(P,ee,ue){return N.H.useActionState(P,ee,ue)},Oe.useCallback=function(P,ee){return N.H.useCallback(P,ee)},Oe.useContext=function(P){return N.H.useContext(P)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(P,ee){return N.H.useDeferredValue(P,ee)},Oe.useEffect=function(P,ee){return N.H.useEffect(P,ee)},Oe.useEffectEvent=function(P){return N.H.useEffectEvent(P)},Oe.useId=function(){return N.H.useId()},Oe.useImperativeHandle=function(P,ee,ue){return N.H.useImperativeHandle(P,ee,ue)},Oe.useInsertionEffect=function(P,ee){return N.H.useInsertionEffect(P,ee)},Oe.useLayoutEffect=function(P,ee){return N.H.useLayoutEffect(P,ee)},Oe.useMemo=function(P,ee){return N.H.useMemo(P,ee)},Oe.useOptimistic=function(P,ee){return N.H.useOptimistic(P,ee)},Oe.useReducer=function(P,ee,ue){return N.H.useReducer(P,ee,ue)},Oe.useRef=function(P){return N.H.useRef(P)},Oe.useState=function(P){return N.H.useState(P)},Oe.useSyncExternalStore=function(P,ee,ue){return N.H.useSyncExternalStore(P,ee,ue)},Oe.useTransition=function(){return N.H.useTransition()},Oe.version="19.2.0",Oe}var X0;function ug(){return X0||(X0=1,ap.exports=ZA()),ap.exports}var M=ug();const Jc=e1(M);var op={exports:{}},yc={},lp={exports:{}},cp={};var J0;function eS(){return J0||(J0=1,(function(i){function e(J,ae){var ge=J.length;J.push(ae);e:for(;0<ge;){var De=ge-1>>>1,Ye=J[De];if(0<o(Ye,ae))J[De]=ae,J[ge]=Ye,ge=De;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ae=J[0],ge=J.pop();if(ge!==ae){J[0]=ge;e:for(var De=0,Ye=J.length,P=Ye>>>1;De<P;){var ee=2*(De+1)-1,ue=J[ee],fe=ee+1,Te=J[fe];if(0>o(ue,ge))fe<Ye&&0>o(Te,ue)?(J[De]=Te,J[fe]=ge,De=fe):(J[De]=ue,J[ee]=ge,De=ee);else if(fe<Ye&&0>o(Te,ge))J[De]=Te,J[fe]=ge,De=fe;else break e}}return ae}function o(J,ae){var ge=J.sortIndex-ae.sortIndex;return ge!==0?ge:J.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var g=[],y=[],_=1,x=null,w=3,D=!1,R=!1,q=!1,k=!1,j=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function re(J){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=J)s(y),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(y)}}function ce(J){if(q=!1,re(J),!R)if(n(g)!==null)R=!0,de||(de=!0,B());else{var ae=n(y);ae!==null&&Ie(ce,ae.startTime-J)}}var de=!1,N=-1,S=5,C=-1;function U(){return k?!0:!(i.unstable_now()-C<S)}function V(){if(k=!1,de){var J=i.unstable_now();C=J;var ae=!0;try{e:{R=!1,q&&(q=!1,X(N),N=-1),D=!0;var ge=w;try{t:{for(re(J),x=n(g);x!==null&&!(x.expirationTime>J&&U());){var De=x.callback;if(typeof De=="function"){x.callback=null,w=x.priorityLevel;var Ye=De(x.expirationTime<=J);if(J=i.unstable_now(),typeof Ye=="function"){x.callback=Ye,re(J),ae=!0;break t}x===n(g)&&s(g),re(J)}else s(g);x=n(g)}if(x!==null)ae=!0;else{var P=n(y);P!==null&&Ie(ce,P.startTime-J),ae=!1}}break e}finally{x=null,w=ge,D=!1}ae=void 0}}finally{ae?B():de=!1}}}var B;if(typeof Q=="function")B=function(){Q(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ot=I.port2;I.port1.onmessage=V,B=function(){ot.postMessage(null)}}else B=function(){j(V,0)};function Ie(J,ae){N=j(function(){J(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(J){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var ge=w;w=ae;try{return J()}finally{w=ge}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ge=w;w=J;try{return ae()}finally{w=ge}},i.unstable_scheduleCallback=function(J,ae,ge){var De=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?De+ge:De):ge=De,J){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=ge+Ye,J={id:_++,callback:ae,priorityLevel:J,startTime:ge,expirationTime:Ye,sortIndex:-1},ge>De?(J.sortIndex=ge,e(y,J),n(g)===null&&J===n(y)&&(q?(X(N),N=-1):q=!0,Ie(ce,ge-De))):(J.sortIndex=Ye,e(g,J),R||D||(R=!0,de||(de=!0,B()))),J},i.unstable_shouldYield=U,i.unstable_wrapCallback=function(J){var ae=w;return function(){var ge=w;w=ae;try{return J.apply(this,arguments)}finally{w=ge}}}})(cp)),cp}var W0;function tS(){return W0||(W0=1,lp.exports=eS()),lp.exports}var up={exports:{}},fn={};var Z0;function nS(){if(Z0)return fn;Z0=1;var i=ug();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,_){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:g,containerInfo:y,implementation:_}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,fn.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,_)},fn.flushSync=function(g){var y=d.T,_=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=y,s.p=_,s.d.f()}},fn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},fn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},fn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,x=p(_,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,D=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:D}):_==="script"&&s.d.X(g,{crossOrigin:x,integrity:w,fetchPriority:D,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},fn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},fn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,x=p(_,y.crossOrigin);s.d.L(g,_,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},fn.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},fn.requestFormReset=function(g){s.d.r(g)},fn.unstable_batchedUpdates=function(g,y){return g(y)},fn.useFormState=function(g,y,_){return d.H.useFormState(g,y,_)},fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},fn.version="19.2.0",fn}var eb;function iS(){if(eb)return up.exports;eb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),up.exports=nS(),up.exports}var tb;function rS(){if(tb)return yc;tb=1;var i=tS(),e=ug(),n=iS();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function y(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return g(h),t;if(m===l)return g(h),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=m;else{for(var b=!1,T=h.child;T;){if(T===a){b=!0,a=h,l=m;break}if(T===l){b=!0,l=h,a=m;break}T=T.sibling}if(!b){for(T=m.child;T;){if(T===a){b=!0,a=m,l=h;break}if(T===l){b=!0,l=m,a=h;break}T=T.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function _(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=_(t),r!==null)return r;t=t.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case j:return"Profiler";case k:return"StrictMode";case ce:return"Suspense";case de:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case R:return"Portal";case Q:return t.displayName||"Context";case X:return(t._context.displayName||"Context")+".Consumer";case re:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:ot(t.type)||"Memo";case S:r=t._payload,t=t._init;try{return ot(t(r))}catch{}}return null}var Ie=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},De=[],Ye=-1;function P(t){return{current:t}}function ee(t){0>Ye||(t.current=De[Ye],De[Ye]=null,Ye--)}function ue(t,r){Ye++,De[Ye]=t.current,t.current=r}var fe=P(null),Te=P(null),Ae=P(null),Ve=P(null);function lt(t,r){switch(ue(Ae,r),ue(Te,t),ue(fe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?g0(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=g0(r),t=y0(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(fe),ue(fe,t)}function nt(){ee(fe),ee(Te),ee(Ae)}function pi(t){t.memoizedState!==null&&ue(Ve,t);var r=fe.current,a=y0(r,t.type);r!==a&&(ue(Te,t),ue(fe,a))}function gi(t){Te.current===t&&(ee(fe),ee(Te)),Ve.current===t&&(ee(Ve),hc._currentValue=ge)}var An,ti;function yn(t){if(An===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);An=r&&r[1]||"",ti=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+An+t+ti}var ji=!1;function yi(t,r){if(!t||ji)return"";ji=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(K){var $=K}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(K){$=K}t.call(ne.prototype)}}else{try{throw Error()}catch(K){$=K}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(K){if(K&&$&&typeof K.stack=="string")return[K.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],T=m[1];if(b&&T){var O=b.split(`
`),G=T.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===G.length)for(l=O.length-1,h=G.length-1;1<=l&&0<=h&&O[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==G[h]){var W=`
`+O[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{ji=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?yn(a):""}function se(t,r){switch(t.tag){case 26:case 27:case 5:return yn(t.type);case 16:return yn("Lazy");case 13:return t.child!==r&&r!==null?yn("Suspense Fallback"):yn("Suspense");case 19:return yn("SuspenseList");case 0:case 15:return yi(t.type,!1);case 11:return yi(t.type.render,!1);case 1:return yi(t.type,!0);case 31:return yn("Activity");default:return""}}function ve(t){try{var r="",a=null;do r+=se(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var be=Object.prototype.hasOwnProperty,je=i.unstable_scheduleCallback,gt=i.unstable_cancelCallback,vn=i.unstable_shouldYield,Ln=i.unstable_requestPaint,Gt=i.unstable_now,ur=i.unstable_getCurrentPriorityLevel,Zs=i.unstable_ImmediatePriority,ea=i.unstable_UserBlockingPriority,Mi=i.unstable_NormalPriority,gl=i.unstable_LowPriority,$a=i.unstable_IdlePriority,Ya=i.log,Qa=i.unstable_setDisableYieldValue,Un=null,$t=null;function Sn(t){if(typeof Ya=="function"&&Qa(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(Un,t)}catch{}}var Tt=Math.clz32?Math.clz32:ta,Ka=Math.log,$r=Math.LN2;function ta(t){return t>>>=0,t===0?32:31-(Ka(t)/$r|0)|0}var oe=256,Ze=262144,Ue=4194304;function Yt(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _n(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~m,l!==0?h=Yt(l):(b&=T,b!==0?h=Yt(b):a||(a=T&~t,a!==0&&(h=Yt(a))))):(T=l&~m,T!==0?h=Yt(T):b!==0?h=Yt(b):a||(a=l&~t,a!==0&&(h=Yt(a)))),h===0?0:r!==0&&r!==h&&(r&m)===0&&(m=h&-h,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:h}function hn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function vi(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rn(){var t=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),t}function Nn(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function dr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function uf(t,r,a,l,h,m){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,O=t.expirationTimes,G=t.hiddenUpdates;for(a=b&~a;0<a;){var W=31-Tt(a),ne=1<<W;T[W]=0,O[W]=-1;var $=G[W];if($!==null)for(G[W]=null,W=0;W<$.length;W++){var K=$[W];K!==null&&(K.lane&=-536870913)}a&=~ne}l!==0&&na(t,l,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~r))}function na(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Tt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function yl(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Tt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function vl(t,r){var a=r&-r;return a=(a&42)!==0?1:ia(a),(a&(t.suspendedLanes|r))!==0?0:a}function ia(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function hr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:z0(t.type))}function _i(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var bi=Math.random().toString(36).slice(2),Mt="__reactFiber$"+bi,Jt="__reactProps$"+bi,ki="__reactContainer$"+bi,Xa="__reactEvents$"+bi,df="__reactListeners$"+bi,vu="__reactHandles$"+bi,_u="__reactResources$"+bi,Vi="__reactMarker$"+bi;function Ja(t){delete t[Mt],delete t[Jt],delete t[Xa],delete t[df],delete t[vu]}function Pi(t){var r=t[Mt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[ki]||a[Mt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=w0(t);t!==null;){if(a=t[Mt])return a;t=w0(t)}return r}t=a,a=t.parentNode}return null}function ni(t){if(t=t[Mt]||t[ki]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function zn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Li(t){var r=t[_u];return r||(r=t[_u]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function kt(t){t[Vi]=!0}var _l=new Set,bl={};function Ui(t,r){zi(t,r),zi(t+"Capture",r)}function zi(t,r){for(bl[t]=r,t=0;t<r.length;t++)_l.add(r[t])}var El=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xl={},Tl={};function bu(t){return be.call(Tl,t)?!0:be.call(xl,t)?!1:El.test(t)?Tl[t]=!0:(xl[t]=!0,!1)}function Wa(t,r,a){if(bu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Bn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Vt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function wl(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,m=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(b){a=""+b,m.call(this,b)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function it(t){if(!t._valueTracker){var r=Yr(t)?"checked":"value";t._valueTracker=wl(t,r,""+t[r])}}function ra(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Yr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Bi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var sa=/[\n"\\]/g;function Cn(t){return t.replace(sa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Za(t,r,a,l,h,m,b,T){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),r!=null?b==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Wt(r)):t.value!==""+Wt(r)&&(t.value=""+Wt(r)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),r!=null?Al(t,b,Wt(r)):a!=null?Al(t,b,Wt(a)):l!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Wt(T):t.removeAttribute("name")}function Eu(t,r,a,l,h,m,b,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){it(t);return}a=a!=null?""+Wt(a):"",r=r!=null?""+Wt(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),it(t)}function Al(t,r,a){r==="number"&&Bi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Qr(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Wt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function xu(t,r,a){if(r!=null&&(r=""+Wt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Wt(a):""}function Kr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Wt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),it(t)}function In(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Tu.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Rl(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Sl(t,h,l)}else for(var m in r)r.hasOwnProperty(m)&&Sl(t,m,r[m])}function eo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(t){return Xr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ei(){}var Nl=null;function ii(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jr=null,qi=null;function aa(t){var r=ni(t);if(r&&(t=r.stateNode)){var a=t[Jt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Za(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Cn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[Jt]||null;if(!h)throw Error(s(90));Za(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&ra(l)}break e;case"textarea":xu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Qr(t,!!a.multiple,r,!1)}}}var no=!1;function Wr(t,r,a){if(no)return t(r,a);no=!0;try{var l=t(r);return l}finally{if(no=!1,(Jr!==null||qi!==null)&&(yd(),Jr&&(r=Jr,t=qi,qi=Jr=null,aa(r),t)))for(r=0;r<t.length;r++)aa(t[r])}}function xi(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Jt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oa=!1;if(ri)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){oa=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{oa=!1}var Fi=null,Cl=null,la=null;function Il(){if(la)return la;var t,r=Cl,a=r.length,l,h="value"in Fi?Fi.value:Fi.textContent,m=h.length;for(t=0;t<a&&r[t]===h[t];t++);var b=a-t;for(l=1;l<=b&&r[a-l]===h[m-l];l++);return la=h.slice(t,1<l?1-l:void 0)}function ca(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function fr(){return!0}function Ti(){return!1}function nn(t){function r(a,l,h,m,b){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?fr:Ti,this.isPropagationStopped=Ti,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),r}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=nn(mr),Zr=x({},mr,{view:0,detail:0}),Dl=nn(Zr),es,io,Gi,ro=x({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ts,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gi&&(Gi&&t.type==="mousemove"?(es=t.screenX-Gi.screenX,io=t.screenY-Gi.screenY):io=es=0,Gi=t),es)},movementY:function(t){return"movementY"in t?t.movementY:io}}),Ol=nn(ro),ua=x({},ro,{dataTransfer:0}),Au=nn(ua),Su=x({},Zr,{relatedTarget:0}),da=nn(Su),jl=x({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ru=nn(jl),so=x({},mr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nu=nn(so),Cu=x({},mr,{data:0}),$i=nn(Cu),Iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ou[t])?!!r[t]:!1}function ts(){return ju}var bn=x({},Zr,{key:function(t){if(t.key){var r=Iu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ca(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ts,charCode:function(t){return t.type==="keypress"?ca(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ca(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mu=nn(bn),ku=x({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pr=nn(ku),u=x({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ts}),v=nn(u),E=x({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=nn(E),F=x({},ro,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=nn(F),le=x({},mr,{newState:0,oldState:0}),Me=nn(le),It=[9,13,27,32],et=ri&&"CompositionEvent"in window,bt=null;ri&&"documentMode"in document&&(bt=document.documentMode);var si=ri&&"TextEvent"in window&&!bt,Yi=ri&&(!et||bt&&8<bt&&11>=bt),wi=" ",Ai=!1;function ha(t,r){switch(t){case"keyup":return It.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ao(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oo=!1;function Ew(t,r){switch(t){case"compositionend":return ao(r);case"keypress":return r.which!==32?null:(Ai=!0,wi);case"textInput":return t=r.data,t===wi&&Ai?null:t;default:return null}}function xw(t,r){if(oo)return t==="compositionend"||!et&&ha(t,r)?(t=Il(),la=Cl=Fi=null,oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Yi&&r.locale!=="ko"?null:r.data;default:return null}}var Tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ry(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Tw[t.type]:r==="textarea"}function Ny(t,r,a,l){Jr?qi?qi.push(l):qi=[l]:Jr=l,r=wd(r,"onChange"),0<r.length&&(a=new Hi("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Ml=null,kl=null;function ww(t){u0(t,0)}function Vu(t){var r=zn(t);if(ra(r))return t}function Cy(t,r){if(t==="change")return r}var Iy=!1;if(ri){var hf;if(ri){var ff="oninput"in document;if(!ff){var Dy=document.createElement("div");Dy.setAttribute("oninput","return;"),ff=typeof Dy.oninput=="function"}hf=ff}else hf=!1;Iy=hf&&(!document.documentMode||9<document.documentMode)}function Oy(){Ml&&(Ml.detachEvent("onpropertychange",jy),kl=Ml=null)}function jy(t){if(t.propertyName==="value"&&Vu(kl)){var r=[];Ny(r,kl,t,ii(t)),Wr(ww,r)}}function Aw(t,r,a){t==="focusin"?(Oy(),Ml=r,kl=a,Ml.attachEvent("onpropertychange",jy)):t==="focusout"&&Oy()}function Sw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vu(kl)}function Rw(t,r){if(t==="click")return Vu(r)}function Nw(t,r){if(t==="input"||t==="change")return Vu(r)}function Cw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var qn=typeof Object.is=="function"?Object.is:Cw;function Vl(t,r){if(qn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!be.call(r,h)||!qn(t[h],r[h]))return!1}return!0}function My(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ky(t,r){var a=My(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=My(a)}}function Vy(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Vy(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Py(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Bi(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Bi(t.document)}return r}function mf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Iw=ri&&"documentMode"in document&&11>=document.documentMode,lo=null,pf=null,Pl=null,gf=!1;function Ly(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gf||lo==null||lo!==Bi(l)||(l=lo,"selectionStart"in l&&mf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Pl&&Vl(Pl,l)||(Pl=l,l=wd(pf,"onSelect"),0<l.length&&(r=new Hi("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=lo)))}function fa(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var co={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},yf={},Uy={};ri&&(Uy=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function ma(t){if(yf[t])return yf[t];if(!co[t])return t;var r=co[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Uy)return yf[t]=r[a];return t}var zy=ma("animationend"),By=ma("animationiteration"),qy=ma("animationstart"),Dw=ma("transitionrun"),Ow=ma("transitionstart"),jw=ma("transitioncancel"),Fy=ma("transitionend"),Hy=new Map,vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vf.push("scrollEnd");function Si(t,r){Hy.set(t,r),Ui(r,[t])}var Pu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ai=[],uo=0,_f=0;function Lu(){for(var t=uo,r=_f=uo=0;r<t;){var a=ai[r];ai[r++]=null;var l=ai[r];ai[r++]=null;var h=ai[r];ai[r++]=null;var m=ai[r];if(ai[r++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}m!==0&&Gy(a,h,m)}}function Uu(t,r,a,l){ai[uo++]=t,ai[uo++]=r,ai[uo++]=a,ai[uo++]=l,_f|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function bf(t,r,a,l){return Uu(t,r,a,l),zu(t)}function pa(t,r){return Uu(t,null,null,r),zu(t)}function Gy(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&r!==null&&(h=31-Tt(a),t=m.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),m):null}function zu(t){if(50<sc)throw sc=0,Cm=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var ho={};function Mw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,r,a,l){return new Mw(t,r,a,l)}function Ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gr(t,r){var a=t.alternate;return a===null?(a=Fn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function $y(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Bu(t,r,a,l,h,m){var b=0;if(l=t,typeof t=="function")Ef(t)&&(b=1);else if(typeof t=="string")b=UA(t,a,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Fn(31,a,r,h),t.elementType=C,t.lanes=m,t;case q:return ga(a.children,h,m,r);case k:b=8,h|=24;break;case j:return t=Fn(12,a,r,h|2),t.elementType=j,t.lanes=m,t;case ce:return t=Fn(13,a,r,h),t.elementType=ce,t.lanes=m,t;case de:return t=Fn(19,a,r,h),t.elementType=de,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:b=10;break e;case X:b=9;break e;case re:b=11;break e;case N:b=14;break e;case S:b=16,l=null;break e}b=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Fn(b,a,r,h),r.elementType=t,r.type=l,r.lanes=m,r}function ga(t,r,a,l){return t=Fn(7,t,l,r),t.lanes=a,t}function xf(t,r,a){return t=Fn(6,t,null,r),t.lanes=a,t}function Yy(t){var r=Fn(18,null,null,0);return r.stateNode=t,r}function Tf(t,r,a){return r=Fn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Qy=new WeakMap;function oi(t,r){if(typeof t=="object"&&t!==null){var a=Qy.get(t);return a!==void 0?a:(r={value:t,source:r,stack:ve(r)},Qy.set(t,r),r)}return{value:t,source:r,stack:ve(r)}}var fo=[],mo=0,qu=null,Ll=0,li=[],ci=0,ns=null,Qi=1,Ki="";function yr(t,r){fo[mo++]=Ll,fo[mo++]=qu,qu=t,Ll=r}function Ky(t,r,a){li[ci++]=Qi,li[ci++]=Ki,li[ci++]=ns,ns=t;var l=Qi;t=Ki;var h=32-Tt(l)-1;l&=~(1<<h),a+=1;var m=32-Tt(r)+h;if(30<m){var b=h-h%5;m=(l&(1<<b)-1).toString(32),l>>=b,h-=b,Qi=1<<32-Tt(r)+h|a<<h|l,Ki=m+t}else Qi=1<<m|a<<h|l,Ki=t}function wf(t){t.return!==null&&(yr(t,1),Ky(t,1,0))}function Af(t){for(;t===qu;)qu=fo[--mo],fo[mo]=null,Ll=fo[--mo],fo[mo]=null;for(;t===ns;)ns=li[--ci],li[ci]=null,Ki=li[--ci],li[ci]=null,Qi=li[--ci],li[ci]=null}function Xy(t,r){li[ci++]=Qi,li[ci++]=Ki,li[ci++]=ns,Qi=r.id,Ki=r.overflow,ns=t}var rn=null,yt=null,Qe=!1,is=null,ui=!1,Sf=Error(s(519));function rs(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ul(oi(r,t)),Sf}function Jy(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Mt]=t,r[Jt]=l,a){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(a=0;a<oc.length;a++)Be(oc[a],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Be("invalid",r),Eu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Be("invalid",r);break;case"textarea":Be("invalid",r),Kr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||m0(r.textContent,a)?(l.popover!=null&&(Be("beforetoggle",r),Be("toggle",r)),l.onScroll!=null&&Be("scroll",r),l.onScrollEnd!=null&&Be("scrollend",r),l.onClick!=null&&(r.onclick=Ei),r=!0):r=!1,r||rs(t,!0)}function Wy(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:rn=rn.return}}function po(t){if(t!==rn)return!1;if(!Qe)return Wy(t),Qe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hm(t.type,t.memoizedProps)),a=!a),a&&yt&&rs(t),Wy(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));yt=T0(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));yt=T0(t)}else r===27?(r=yt,vs(t.type)?(t=Km,Km=null,yt=t):yt=r):yt=rn?hi(t.stateNode.nextSibling):null;return!0}function ya(){yt=rn=null,Qe=!1}function Rf(){var t=is;return t!==null&&(Mn===null?Mn=t:Mn.push.apply(Mn,t),is=null),t}function Ul(t){is===null?is=[t]:is.push(t)}var Nf=P(null),va=null,vr=null;function ss(t,r,a){ue(Nf,r._currentValue),r._currentValue=a}function _r(t){t._currentValue=Nf.current,ee(Nf)}function Cf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function If(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var b=h.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=h;for(var O=0;O<r.length;O++)if(T.context===r[O]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),Cf(m.return,a,t),l||(b=null);break e}m=T.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(s(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),Cf(b,a,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function go(t,r,a,l){t=null;for(var h=r,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var T=h.type;qn(h.pendingProps.value,b.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ve.current){if(b=h.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(hc):t=[hc])}h=h.return}t!==null&&If(r,t,a,l),r.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function _a(t){va=t,vr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return Zy(va,t)}function Hu(t,r){return va===null&&_a(t),Zy(t,r)}function Zy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},vr===null){if(t===null)throw Error(s(308));vr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else vr=vr.next=r;return a}var kw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Vw=i.unstable_scheduleCallback,Pw=i.unstable_NormalPriority,Pt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new kw,data:new Map,refCount:0}}function zl(t){t.refCount--,t.refCount===0&&Vw(Pw,function(){t.controller.abort()})}var Bl=null,Of=0,yo=0,vo=null;function Lw(t,r){if(Bl===null){var a=Bl=[];Of=0,yo=km(),vo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Of++,r.then(ev,ev),r}function ev(){if(--Of===0&&Bl!==null){vo!==null&&(vo.status="fulfilled");var t=Bl;Bl=null,yo=0,vo=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Uw(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var tv=J.S;J.S=function(t,r){L_=Gt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Lw(t,r),tv!==null&&tv(t,r)};var ba=P(null);function jf(){var t=ba.current;return t!==null?t:pt.pooledCache}function Gu(t,r){r===null?ue(ba,ba.current):ue(ba,r.pool)}function nv(){var t=jf();return t===null?null:{parent:Pt._currentValue,pool:t}}var _o=Error(s(460)),Mf=Error(s(474)),$u=Error(s(542)),Yu={then:function(){}};function iv(t){return t=t.status,t==="fulfilled"||t==="rejected"}function rv(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Ei,Ei),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,av(t),t;default:if(typeof r.status=="string")r.then(Ei,Ei);else{if(t=pt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,av(t),t}throw xa=r,_o}}function Ea(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(xa=a,_o):a}}var xa=null;function sv(){if(xa===null)throw Error(s(459));var t=xa;return xa=null,t}function av(t){if(t===_o||t===$u)throw Error(s(483))}var bo=null,ql=0;function Qu(t){var r=ql;return ql+=1,bo===null&&(bo=[]),rv(bo,t,r)}function Fl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Ku(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function ov(t){function r(z,L){if(t){var H=z.deletions;H===null?(z.deletions=[L],z.flags|=16):H.push(L)}}function a(z,L){if(!t)return null;for(;L!==null;)r(z,L),L=L.sibling;return null}function l(z){for(var L=new Map;z!==null;)z.key!==null?L.set(z.key,z):L.set(z.index,z),z=z.sibling;return L}function h(z,L){return z=gr(z,L),z.index=0,z.sibling=null,z}function m(z,L,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<L?(z.flags|=67108866,L):H):(z.flags|=67108866,L)):(z.flags|=1048576,L)}function b(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,L,H,te){return L===null||L.tag!==6?(L=xf(H,z.mode,te),L.return=z,L):(L=h(L,H),L.return=z,L)}function O(z,L,H,te){var Ee=H.type;return Ee===q?W(z,L,H.props.children,te,H.key):L!==null&&(L.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===S&&Ea(Ee)===L.type)?(L=h(L,H.props),Fl(L,H),L.return=z,L):(L=Bu(H.type,H.key,H.props,null,z.mode,te),Fl(L,H),L.return=z,L)}function G(z,L,H,te){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=Tf(H,z.mode,te),L.return=z,L):(L=h(L,H.children||[]),L.return=z,L)}function W(z,L,H,te,Ee){return L===null||L.tag!==7?(L=ga(H,z.mode,te,Ee),L.return=z,L):(L=h(L,H),L.return=z,L)}function ne(z,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=xf(""+L,z.mode,H),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case D:return H=Bu(L.type,L.key,L.props,null,z.mode,H),Fl(H,L),H.return=z,H;case R:return L=Tf(L,z.mode,H),L.return=z,L;case S:return L=Ea(L),ne(z,L,H)}if(Ie(L)||B(L))return L=ga(L,z.mode,H,null),L.return=z,L;if(typeof L.then=="function")return ne(z,Qu(L),H);if(L.$$typeof===Q)return ne(z,Hu(z,L),H);Ku(z,L)}return null}function $(z,L,H,te){var Ee=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ee!==null?null:T(z,L,""+H,te);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case D:return H.key===Ee?O(z,L,H,te):null;case R:return H.key===Ee?G(z,L,H,te):null;case S:return H=Ea(H),$(z,L,H,te)}if(Ie(H)||B(H))return Ee!==null?null:W(z,L,H,te,null);if(typeof H.then=="function")return $(z,L,Qu(H),te);if(H.$$typeof===Q)return $(z,L,Hu(z,H),te);Ku(z,H)}return null}function K(z,L,H,te,Ee){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return z=z.get(H)||null,T(L,z,""+te,Ee);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case D:return z=z.get(te.key===null?H:te.key)||null,O(L,z,te,Ee);case R:return z=z.get(te.key===null?H:te.key)||null,G(L,z,te,Ee);case S:return te=Ea(te),K(z,L,H,te,Ee)}if(Ie(te)||B(te))return z=z.get(H)||null,W(L,z,te,Ee,null);if(typeof te.then=="function")return K(z,L,H,Qu(te),Ee);if(te.$$typeof===Q)return K(z,L,H,Hu(L,te),Ee);Ku(L,te)}return null}function pe(z,L,H,te){for(var Ee=null,Je=null,ye=L,Pe=L=0,Fe=null;ye!==null&&Pe<H.length;Pe++){ye.index>Pe?(Fe=ye,ye=null):Fe=ye.sibling;var We=$(z,ye,H[Pe],te);if(We===null){ye===null&&(ye=Fe);break}t&&ye&&We.alternate===null&&r(z,ye),L=m(We,L,Pe),Je===null?Ee=We:Je.sibling=We,Je=We,ye=Fe}if(Pe===H.length)return a(z,ye),Qe&&yr(z,Pe),Ee;if(ye===null){for(;Pe<H.length;Pe++)ye=ne(z,H[Pe],te),ye!==null&&(L=m(ye,L,Pe),Je===null?Ee=ye:Je.sibling=ye,Je=ye);return Qe&&yr(z,Pe),Ee}for(ye=l(ye);Pe<H.length;Pe++)Fe=K(ye,z,Pe,H[Pe],te),Fe!==null&&(t&&Fe.alternate!==null&&ye.delete(Fe.key===null?Pe:Fe.key),L=m(Fe,L,Pe),Je===null?Ee=Fe:Je.sibling=Fe,Je=Fe);return t&&ye.forEach(function(Ts){return r(z,Ts)}),Qe&&yr(z,Pe),Ee}function Se(z,L,H,te){if(H==null)throw Error(s(151));for(var Ee=null,Je=null,ye=L,Pe=L=0,Fe=null,We=H.next();ye!==null&&!We.done;Pe++,We=H.next()){ye.index>Pe?(Fe=ye,ye=null):Fe=ye.sibling;var Ts=$(z,ye,We.value,te);if(Ts===null){ye===null&&(ye=Fe);break}t&&ye&&Ts.alternate===null&&r(z,ye),L=m(Ts,L,Pe),Je===null?Ee=Ts:Je.sibling=Ts,Je=Ts,ye=Fe}if(We.done)return a(z,ye),Qe&&yr(z,Pe),Ee;if(ye===null){for(;!We.done;Pe++,We=H.next())We=ne(z,We.value,te),We!==null&&(L=m(We,L,Pe),Je===null?Ee=We:Je.sibling=We,Je=We);return Qe&&yr(z,Pe),Ee}for(ye=l(ye);!We.done;Pe++,We=H.next())We=K(ye,z,Pe,We.value,te),We!==null&&(t&&We.alternate!==null&&ye.delete(We.key===null?Pe:We.key),L=m(We,L,Pe),Je===null?Ee=We:Je.sibling=We,Je=We);return t&&ye.forEach(function(XA){return r(z,XA)}),Qe&&yr(z,Pe),Ee}function ht(z,L,H,te){if(typeof H=="object"&&H!==null&&H.type===q&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case D:e:{for(var Ee=H.key;L!==null;){if(L.key===Ee){if(Ee=H.type,Ee===q){if(L.tag===7){a(z,L.sibling),te=h(L,H.props.children),te.return=z,z=te;break e}}else if(L.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===S&&Ea(Ee)===L.type){a(z,L.sibling),te=h(L,H.props),Fl(te,H),te.return=z,z=te;break e}a(z,L);break}else r(z,L);L=L.sibling}H.type===q?(te=ga(H.props.children,z.mode,te,H.key),te.return=z,z=te):(te=Bu(H.type,H.key,H.props,null,z.mode,te),Fl(te,H),te.return=z,z=te)}return b(z);case R:e:{for(Ee=H.key;L!==null;){if(L.key===Ee)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){a(z,L.sibling),te=h(L,H.children||[]),te.return=z,z=te;break e}else{a(z,L);break}else r(z,L);L=L.sibling}te=Tf(H,z.mode,te),te.return=z,z=te}return b(z);case S:return H=Ea(H),ht(z,L,H,te)}if(Ie(H))return pe(z,L,H,te);if(B(H)){if(Ee=B(H),typeof Ee!="function")throw Error(s(150));return H=Ee.call(H),Se(z,L,H,te)}if(typeof H.then=="function")return ht(z,L,Qu(H),te);if(H.$$typeof===Q)return ht(z,L,Hu(z,H),te);Ku(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(a(z,L.sibling),te=h(L,H),te.return=z,z=te):(a(z,L),te=xf(H,z.mode,te),te.return=z,z=te),b(z)):a(z,L)}return function(z,L,H,te){try{ql=0;var Ee=ht(z,L,H,te);return bo=null,Ee}catch(ye){if(ye===_o||ye===$u)throw ye;var Je=Fn(29,ye,null,z.mode);return Je.lanes=te,Je.return=z,Je}finally{}}}var Ta=ov(!0),lv=ov(!1),as=!1;function kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function os(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ls(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=zu(t),Gy(t,null,a),r}return Uu(t,l,r,a),zu(t)}function Hl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,yl(t,a)}}function Pf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?h=m=r:m=m.next=r}else h=m=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Lf=!1;function Gl(){if(Lf){var t=vo;if(t!==null)throw t}}function $l(t,r,a,l){Lf=!1;var h=t.updateQueue;as=!1;var m=h.firstBaseUpdate,b=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var O=T,G=O.next;O.next=null,b===null?m=G:b.next=G,b=O;var W=t.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==b&&(T===null?W.firstBaseUpdate=G:T.next=G,W.lastBaseUpdate=O))}if(m!==null){var ne=h.baseState;b=0,W=G=O=null,T=m;do{var $=T.lane&-536870913,K=$!==T.lane;if(K?(qe&$)===$:(l&$)===$){$!==0&&$===yo&&(Lf=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var pe=t,Se=T;$=r;var ht=a;switch(Se.tag){case 1:if(pe=Se.payload,typeof pe=="function"){ne=pe.call(ht,ne,$);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Se.payload,$=typeof pe=="function"?pe.call(ht,ne,$):pe,$==null)break e;ne=x({},ne,$);break e;case 2:as=!0}}$=T.callback,$!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[$]:K.push($))}else K={lane:$,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(G=W=K,O=ne):W=W.next=K,b|=$;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);W===null&&(O=ne),h.baseState=O,h.firstBaseUpdate=G,h.lastBaseUpdate=W,m===null&&(h.shared.lanes=0),fs|=b,t.lanes=b,t.memoizedState=ne}}function cv(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function uv(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)cv(a[t],r)}var Eo=P(null),Xu=P(0);function dv(t,r){t=Nr,ue(Xu,t),ue(Eo,r),Nr=t|r.baseLanes}function Uf(){ue(Xu,Nr),ue(Eo,Eo.current)}function zf(){Nr=Xu.current,ee(Eo),ee(Xu)}var Hn=P(null),di=null;function cs(t){var r=t.alternate;ue(Dt,Dt.current&1),ue(Hn,t),di===null&&(r===null||Eo.current!==null||r.memoizedState!==null)&&(di=t)}function Bf(t){ue(Dt,Dt.current),ue(Hn,t),di===null&&(di=t)}function hv(t){t.tag===22?(ue(Dt,Dt.current),ue(Hn,t),di===null&&(di=t)):us()}function us(){ue(Dt,Dt.current),ue(Hn,Hn.current)}function Gn(t){ee(Hn),di===t&&(di=null),ee(Dt)}var Dt=P(0);function Ju(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ym(a)||Qm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var br=0,ke=null,ut=null,Lt=null,Wu=!1,xo=!1,wa=!1,Zu=0,Yl=0,To=null,zw=0;function St(){throw Error(s(321))}function qf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!qn(t[a],r[a]))return!1;return!0}function Ff(t,r,a,l,h,m){return br=m,ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=t===null||t.memoizedState===null?Kv:rm,wa=!1,m=a(l,h),wa=!1,xo&&(m=mv(r,a,l,h)),fv(t),m}function fv(t){J.H=Xl;var r=ut!==null&&ut.next!==null;if(br=0,Lt=ut=ke=null,Wu=!1,Yl=0,To=null,r)throw Error(s(300));t===null||Ut||(t=t.dependencies,t!==null&&Fu(t)&&(Ut=!0))}function mv(t,r,a,l){ke=t;var h=0;do{if(xo&&(To=null),Yl=0,xo=!1,25<=h)throw Error(s(301));if(h+=1,Lt=ut=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}J.H=Xv,m=r(a,l)}while(xo);return m}function Bw(){var t=J.H,r=t.useState()[0];return r=typeof r.then=="function"?Ql(r):r,t=t.useState()[0],(ut!==null?ut.memoizedState:null)!==t&&(ke.flags|=1024),r}function Hf(){var t=Zu!==0;return Zu=0,t}function Gf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function $f(t){if(Wu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Wu=!1}br=0,Lt=ut=ke=null,xo=!1,Yl=Zu=0,To=null}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ke.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function Ot(){if(ut===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var r=Lt===null?ke.memoizedState:Lt.next;if(r!==null)Lt=r,ut=t;else{if(t===null)throw ke.alternate===null?Error(s(467)):Error(s(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Lt===null?ke.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(t){var r=Yl;return Yl+=1,To===null&&(To=[]),t=rv(To,t,r),r=ke,(Lt===null?r.memoizedState:Lt.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?Kv:rm),t}function td(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ql(t);if(t.$$typeof===Q)return sn(t)}throw Error(s(438,String(t)))}function Yf(t){var r=null,a=ke.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ed(),ke.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=U;return r.index++,a}function Er(t,r){return typeof r=="function"?r(t):r}function nd(t){var r=Ot();return Qf(r,ut,t)}function Qf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,m=l.pending;if(m!==null){if(h!==null){var b=h.next;h.next=m.next,m.next=b}r.baseQueue=h=m,l.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{r=h.next;var T=b=null,O=null,G=r,W=!1;do{var ne=G.lane&-536870913;if(ne!==G.lane?(qe&ne)===ne:(br&ne)===ne){var $=G.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ne===yo&&(W=!0);else if((br&$)===$){G=G.next,$===yo&&(W=!0);continue}else ne={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(T=O=ne,b=m):O=O.next=ne,ke.lanes|=$,fs|=$;ne=G.action,wa&&a(m,ne),m=G.hasEagerState?G.eagerState:a(m,ne)}else $={lane:ne,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(T=O=$,b=m):O=O.next=$,ke.lanes|=ne,fs|=ne;G=G.next}while(G!==null&&G!==r);if(O===null?b=m:O.next=T,!qn(m,t.memoizedState)&&(Ut=!0,W&&(a=vo,a!==null)))throw a;t.memoizedState=m,t.baseState=b,t.baseQueue=O,l.lastRenderedState=m}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Kf(t){var r=Ot(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,m=r.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do m=t(m,b.action),b=b.next;while(b!==h);qn(m,r.memoizedState)||(Ut=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function pv(t,r,a){var l=ke,h=Ot(),m=Qe;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var b=!qn((ut||h).memoizedState,a);if(b&&(h.memoizedState=a,Ut=!0),h=h.queue,Wf(vv.bind(null,l,h,t),[t]),h.getSnapshot!==r||b||Lt!==null&&Lt.memoizedState.tag&1){if(l.flags|=2048,wo(9,{destroy:void 0},yv.bind(null,l,h,a,r),null),pt===null)throw Error(s(349));m||(br&127)!==0||gv(l,r,a)}return a}function gv(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=ke.updateQueue,r===null?(r=ed(),ke.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function yv(t,r,a,l){r.value=a,r.getSnapshot=l,_v(r)&&bv(t)}function vv(t,r,a){return a(function(){_v(r)&&bv(t)})}function _v(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!qn(t,a)}catch{return!0}}function bv(t){var r=pa(t,2);r!==null&&kn(r,t,2)}function Xf(t){var r=En();if(typeof t=="function"){var a=t;if(t=a(),wa){Sn(!0);try{a()}finally{Sn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:t},r}function Ev(t,r,a,l){return t.baseState=a,Qf(t,ut,typeof l=="function"?l:Er)}function qw(t,r,a,l,h){if(sd(t))throw Error(s(485));if(t=r.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};J.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,xv(r,m)):(m.next=a.next,r.pending=a.next=m)}}function xv(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var m=J.T,b={};J.T=b;try{var T=a(h,l),O=J.S;O!==null&&O(b,T),Tv(t,r,T)}catch(G){Jf(t,r,G)}finally{m!==null&&b.types!==null&&(m.types=b.types),J.T=m}}else try{m=a(h,l),Tv(t,r,m)}catch(G){Jf(t,r,G)}}function Tv(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){wv(t,r,l)},function(l){return Jf(t,r,l)}):wv(t,r,a)}function wv(t,r,a){r.status="fulfilled",r.value=a,Av(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,xv(t,a)))}function Jf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Av(r),r=r.next;while(r!==l)}t.action=null}function Av(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Sv(t,r){return r}function Rv(t,r){if(Qe){var a=pt.formState;if(a!==null){e:{var l=ke;if(Qe){if(yt){t:{for(var h=yt,m=ui;h.nodeType!==8;){if(!m){h=null;break t}if(h=hi(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){yt=hi(h.nextSibling),l=h.data==="F!";break e}}rs(l)}l=!1}l&&(r=a[0])}}return a=En(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sv,lastRenderedState:r},a.queue=l,a=$v.bind(null,ke,l),l.dispatch=a,l=Xf(!1),m=im.bind(null,ke,!1,l.queue),l=En(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=qw.bind(null,ke,h,m,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Nv(t){var r=Ot();return Cv(r,ut,t)}function Cv(t,r,a){if(r=Qf(t,r,Sv)[0],t=nd(Er)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ql(r)}catch(b){throw b===_o?$u:b}else l=r;r=Ot();var h=r.queue,m=h.dispatch;return a!==r.memoizedState&&(ke.flags|=2048,wo(9,{destroy:void 0},Fw.bind(null,h,a),null)),[l,m,t]}function Fw(t,r){t.action=r}function Iv(t){var r=Ot(),a=ut;if(a!==null)return Cv(r,a,t);Ot(),r=r.memoizedState,a=Ot();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function wo(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=ke.updateQueue,r===null&&(r=ed(),ke.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Dv(){return Ot().memoizedState}function id(t,r,a,l){var h=En();ke.flags|=t,h.memoizedState=wo(1|r,{destroy:void 0},a,l===void 0?null:l)}function rd(t,r,a,l){var h=Ot();l=l===void 0?null:l;var m=h.memoizedState.inst;ut!==null&&l!==null&&qf(l,ut.memoizedState.deps)?h.memoizedState=wo(r,m,a,l):(ke.flags|=t,h.memoizedState=wo(1|r,m,a,l))}function Ov(t,r){id(8390656,8,t,r)}function Wf(t,r){rd(2048,8,t,r)}function Hw(t){ke.flags|=4;var r=ke.updateQueue;if(r===null)r=ed(),ke.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function jv(t){var r=Ot().memoizedState;return Hw({ref:r,nextImpl:t}),function(){if((tt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Mv(t,r){return rd(4,2,t,r)}function kv(t,r){return rd(4,4,t,r)}function Vv(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Pv(t,r,a){a=a!=null?a.concat([t]):null,rd(4,4,Vv.bind(null,r,t),a)}function Zf(){}function Lv(t,r){var a=Ot();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&qf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Uv(t,r){var a=Ot();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&qf(r,l[1]))return l[0];if(l=t(),wa){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,r],l}function em(t,r,a){return a===void 0||(br&1073741824)!==0&&(qe&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=z_(),ke.lanes|=t,fs|=t,a)}function zv(t,r,a,l){return qn(a,r)?a:Eo.current!==null?(t=em(t,a,l),qn(t,r)||(Ut=!0),t):(br&42)===0||(br&1073741824)!==0&&(qe&261930)===0?(Ut=!0,t.memoizedState=a):(t=z_(),ke.lanes|=t,fs|=t,r)}function Bv(t,r,a,l,h){var m=ae.p;ae.p=m!==0&&8>m?m:8;var b=J.T,T={};J.T=T,im(t,!1,r,a);try{var O=h(),G=J.S;if(G!==null&&G(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var W=Uw(O,l);Kl(t,r,W,Qn(t))}else Kl(t,r,l,Qn(t))}catch(ne){Kl(t,r,{then:function(){},status:"rejected",reason:ne},Qn())}finally{ae.p=m,b!==null&&T.types!==null&&(b.types=T.types),J.T=b}}function Gw(){}function tm(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=qv(t).queue;Bv(t,h,r,ge,a===null?Gw:function(){return Fv(t),a(l)})}function qv(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:ge},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Fv(t){var r=qv(t);r.next===null&&(r=t.alternate.memoizedState),Kl(t,r.next.queue,{},Qn())}function nm(){return sn(hc)}function Hv(){return Ot().memoizedState}function Gv(){return Ot().memoizedState}function $w(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Qn();t=os(a);var l=ls(r,t,a);l!==null&&(kn(l,r,a),Hl(l,r,a)),r={cache:Df()},t.payload=r;return}r=r.return}}function Yw(t,r,a){var l=Qn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},sd(t)?Yv(r,a):(a=bf(t,r,a,l),a!==null&&(kn(a,t,l),Qv(a,r,l)))}function $v(t,r,a){var l=Qn();Kl(t,r,a,l)}function Kl(t,r,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(sd(t))Yv(r,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var b=r.lastRenderedState,T=m(b,a);if(h.hasEagerState=!0,h.eagerState=T,qn(T,b))return Uu(t,r,h,0),pt===null&&Lu(),!1}catch{}finally{}if(a=bf(t,r,h,l),a!==null)return kn(a,t,l),Qv(a,r,l),!0}return!1}function im(t,r,a,l){if(l={lane:2,revertLane:km(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},sd(t)){if(r)throw Error(s(479))}else r=bf(t,a,l,2),r!==null&&kn(r,t,2)}function sd(t){var r=t.alternate;return t===ke||r!==null&&r===ke}function Yv(t,r){xo=Wu=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Qv(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,yl(t,a)}}var Xl={readContext:sn,use:td,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St};Xl.useEffectEvent=St;var Kv={readContext:sn,use:td,useCallback:function(t,r){return En().memoizedState=[t,r===void 0?null:r],t},useContext:sn,useEffect:Ov,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,id(4194308,4,Vv.bind(null,r,t),a)},useLayoutEffect:function(t,r){return id(4194308,4,t,r)},useInsertionEffect:function(t,r){id(4,2,t,r)},useMemo:function(t,r){var a=En();r=r===void 0?null:r;var l=t();if(wa){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=En();if(a!==void 0){var h=a(r);if(wa){Sn(!0);try{a(r)}finally{Sn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Yw.bind(null,ke,t),[l.memoizedState,t]},useRef:function(t){var r=En();return t={current:t},r.memoizedState=t},useState:function(t){t=Xf(t);var r=t.queue,a=$v.bind(null,ke,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Zf,useDeferredValue:function(t,r){var a=En();return em(a,t,r)},useTransition:function(){var t=Xf(!1);return t=Bv.bind(null,ke,t.queue,!0,!1),En().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=ke,h=En();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),pt===null)throw Error(s(349));(qe&127)!==0||gv(l,r,a)}h.memoizedState=a;var m={value:a,getSnapshot:r};return h.queue=m,Ov(vv.bind(null,l,m,t),[t]),l.flags|=2048,wo(9,{destroy:void 0},yv.bind(null,l,m,a,r),null),a},useId:function(){var t=En(),r=pt.identifierPrefix;if(Qe){var a=Ki,l=Qi;a=(l&~(1<<32-Tt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Zu++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=zw++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:nm,useFormState:Rv,useActionState:Rv,useOptimistic:function(t){var r=En();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=im.bind(null,ke,!0,a),a.dispatch=r,[t,r]},useMemoCache:Yf,useCacheRefresh:function(){return En().memoizedState=$w.bind(null,ke)},useEffectEvent:function(t){var r=En(),a={impl:t};return r.memoizedState=a,function(){if((tt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},rm={readContext:sn,use:td,useCallback:Lv,useContext:sn,useEffect:Wf,useImperativeHandle:Pv,useInsertionEffect:Mv,useLayoutEffect:kv,useMemo:Uv,useReducer:nd,useRef:Dv,useState:function(){return nd(Er)},useDebugValue:Zf,useDeferredValue:function(t,r){var a=Ot();return zv(a,ut.memoizedState,t,r)},useTransition:function(){var t=nd(Er)[0],r=Ot().memoizedState;return[typeof t=="boolean"?t:Ql(t),r]},useSyncExternalStore:pv,useId:Hv,useHostTransitionStatus:nm,useFormState:Nv,useActionState:Nv,useOptimistic:function(t,r){var a=Ot();return Ev(a,ut,t,r)},useMemoCache:Yf,useCacheRefresh:Gv};rm.useEffectEvent=jv;var Xv={readContext:sn,use:td,useCallback:Lv,useContext:sn,useEffect:Wf,useImperativeHandle:Pv,useInsertionEffect:Mv,useLayoutEffect:kv,useMemo:Uv,useReducer:Kf,useRef:Dv,useState:function(){return Kf(Er)},useDebugValue:Zf,useDeferredValue:function(t,r){var a=Ot();return ut===null?em(a,t,r):zv(a,ut.memoizedState,t,r)},useTransition:function(){var t=Kf(Er)[0],r=Ot().memoizedState;return[typeof t=="boolean"?t:Ql(t),r]},useSyncExternalStore:pv,useId:Hv,useHostTransitionStatus:nm,useFormState:Iv,useActionState:Iv,useOptimistic:function(t,r){var a=Ot();return ut!==null?Ev(a,ut,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Yf,useCacheRefresh:Gv};Xv.useEffectEvent=jv;function sm(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:x({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var am={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Qn(),h=os(l);h.payload=r,a!=null&&(h.callback=a),r=ls(t,h,l),r!==null&&(kn(r,t,l),Hl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Qn(),h=os(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=ls(t,h,l),r!==null&&(kn(r,t,l),Hl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Qn(),l=os(a);l.tag=2,r!=null&&(l.callback=r),r=ls(t,l,a),r!==null&&(kn(r,t,a),Hl(r,t,a))}};function Jv(t,r,a,l,h,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,b):r.prototype&&r.prototype.isPureReactComponent?!Vl(a,l)||!Vl(h,m):!0}function Wv(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&am.enqueueReplaceState(r,r.state,null)}function Aa(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Zv(t){Pu(t)}function e_(t){console.error(t)}function t_(t){Pu(t)}function ad(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function n_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function om(t,r,a){return a=os(a),a.tag=3,a.payload={element:null},a.callback=function(){ad(t,r)},a}function i_(t){return t=os(t),t.tag=3,t}function r_(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;t.payload=function(){return h(m)},t.callback=function(){n_(r,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){n_(r,a,l),typeof h!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Qw(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&go(r,a,h,!0),a=Hn.current,a!==null){switch(a.tag){case 31:case 13:return di===null?vd():a.alternate===null&&Rt===0&&(Rt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Yu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Om(t,l,h)),!1;case 22:return a.flags|=65536,l===Yu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Om(t,l,h)),!1}throw Error(s(435,a.tag))}return Om(t,l,h),vd(),!1}if(Qe)return r=Hn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Sf&&(t=Error(s(422),{cause:l}),Ul(oi(t,a)))):(l!==Sf&&(r=Error(s(423),{cause:l}),Ul(oi(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=oi(l,a),h=om(t.stateNode,l,h),Pf(t,h),Rt!==4&&(Rt=2)),!1;var m=Error(s(520),{cause:l});if(m=oi(m,a),rc===null?rc=[m]:rc.push(m),Rt!==4&&(Rt=2),r===null)return!0;l=oi(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=om(a.stateNode,l,t),Pf(a,t),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ms===null||!ms.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=i_(h),r_(h,t,a,l),Pf(a,h),!1}a=a.return}while(a!==null);return!1}var lm=Error(s(461)),Ut=!1;function an(t,r,a,l){r.child=t===null?lv(r,null,a,l):Ta(r,t.child,a,l)}function s_(t,r,a,l,h){a=a.render;var m=r.ref;if("ref"in l){var b={};for(var T in l)T!=="ref"&&(b[T]=l[T])}else b=l;return _a(r),l=Ff(t,r,a,b,m,h),T=Hf(),t!==null&&!Ut?(Gf(t,r,h),xr(t,r,h)):(Qe&&T&&wf(r),r.flags|=1,an(t,r,l,h),r.child)}function a_(t,r,a,l,h){if(t===null){var m=a.type;return typeof m=="function"&&!Ef(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,o_(t,r,m,l,h)):(t=Bu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!gm(t,h)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:Vl,a(b,l)&&t.ref===r.ref)return xr(t,r,h)}return r.flags|=1,t=gr(m,l),t.ref=r.ref,t.return=r,r.child=t}function o_(t,r,a,l,h){if(t!==null){var m=t.memoizedProps;if(Vl(m,l)&&t.ref===r.ref)if(Ut=!1,r.pendingProps=l=m,gm(t,h))(t.flags&131072)!==0&&(Ut=!0);else return r.lanes=t.lanes,xr(t,r,h)}return cm(t,r,a,l,h)}function l_(t,r,a,l){var h=l.children,m=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=r.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~m}else l=0,r.child=null;return c_(t,r,m,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gu(r,m!==null?m.cachePool:null),m!==null?dv(r,m):Uf(),hv(r);else return l=r.lanes=536870912,c_(t,r,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(Gu(r,m.cachePool),dv(r,m),us(),r.memoizedState=null):(t!==null&&Gu(r,null),Uf(),us());return an(t,r,h,a),r.child}function Jl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function c_(t,r,a,l,h){var m=jf();return m=m===null?null:{parent:Pt._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},t!==null&&Gu(r,null),Uf(),hv(r),t!==null&&go(t,r,l,!0),r.childLanes=h,null}function od(t,r){return r=cd({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function u_(t,r,a){return Ta(r,t.child,null,a),t=od(r,r.pendingProps),t.flags|=2,Gn(r),r.memoizedState=null,t}function Kw(t,r,a){var l=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Qe){if(l.mode==="hidden")return t=od(r,l),r.lanes=536870912,Jl(null,t);if(Bf(r),(t=yt)?(t=x0(t,ui),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:ns!==null?{id:Qi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},a=Yy(t),a.return=r,r.child=a,rn=r,yt=null)):t=null,t===null)throw rs(r);return r.lanes=536870912,null}return od(r,l)}var m=t.memoizedState;if(m!==null){var b=m.dehydrated;if(Bf(r),h)if(r.flags&256)r.flags&=-257,r=u_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ut||go(t,r,a,!1),h=(a&t.childLanes)!==0,Ut||h){if(l=pt,l!==null&&(b=vl(l,a),b!==0&&b!==m.retryLane))throw m.retryLane=b,pa(t,b),kn(l,t,b),lm;vd(),r=u_(t,r,a)}else t=m.treeContext,yt=hi(b.nextSibling),rn=r,Qe=!0,is=null,ui=!1,t!==null&&Xy(r,t),r=od(r,l),r.flags|=4096;return r}return t=gr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function ld(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function cm(t,r,a,l,h){return _a(r),a=Ff(t,r,a,l,void 0,h),l=Hf(),t!==null&&!Ut?(Gf(t,r,h),xr(t,r,h)):(Qe&&l&&wf(r),r.flags|=1,an(t,r,a,h),r.child)}function d_(t,r,a,l,h,m){return _a(r),r.updateQueue=null,a=mv(r,l,a,h),fv(t),l=Hf(),t!==null&&!Ut?(Gf(t,r,m),xr(t,r,m)):(Qe&&l&&wf(r),r.flags|=1,an(t,r,a,m),r.child)}function h_(t,r,a,l,h){if(_a(r),r.stateNode===null){var m=ho,b=a.contextType;typeof b=="object"&&b!==null&&(m=sn(b)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=am,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},kf(r),b=a.contextType,m.context=typeof b=="object"&&b!==null?sn(b):ho,m.state=r.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(sm(r,a,b,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&am.enqueueReplaceState(m,m.state,null),$l(r,l,m,h),Gl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){m=r.stateNode;var T=r.memoizedProps,O=Aa(a,T);m.props=O;var G=m.context,W=a.contextType;b=ho,typeof W=="object"&&W!==null&&(b=sn(W));var ne=a.getDerivedStateFromProps;W=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||G!==b)&&Wv(r,m,l,b),as=!1;var $=r.memoizedState;m.state=$,$l(r,l,m,h),Gl(),G=r.memoizedState,T||$!==G||as?(typeof ne=="function"&&(sm(r,a,ne,l),G=r.memoizedState),(O=as||Jv(r,a,O,l,$,G,b))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=G),m.props=l,m.state=G,m.context=b,l=O):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Vf(t,r),b=r.memoizedProps,W=Aa(a,b),m.props=W,ne=r.pendingProps,$=m.context,G=a.contextType,O=ho,typeof G=="object"&&G!==null&&(O=sn(G)),T=a.getDerivedStateFromProps,(G=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ne||$!==O)&&Wv(r,m,l,O),as=!1,$=r.memoizedState,m.state=$,$l(r,l,m,h),Gl();var K=r.memoizedState;b!==ne||$!==K||as||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof T=="function"&&(sm(r,a,T,l),K=r.memoizedState),(W=as||Jv(r,a,W,l,$,K,O)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(G||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,K,O),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,K,O)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),m.props=l,m.state=K,m.context=O,l=W):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),l=!1)}return m=l,ld(t,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&l?(r.child=Ta(r,t.child,null,h),r.child=Ta(r,null,a,h)):an(t,r,a,h),r.memoizedState=m.state,t=r.child):t=xr(t,r,h),t}function f_(t,r,a,l){return ya(),r.flags|=256,an(t,r,a,l),r.child}var um={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dm(t){return{baseLanes:t,cachePool:nv()}}function hm(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Yn),t}function m_(t,r,a){var l=r.pendingProps,h=!1,m=(r.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(Dt.current&2)!==0),b&&(h=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,t===null){if(Qe){if(h?cs(r):us(),(t=yt)?(t=x0(t,ui),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:ns!==null?{id:Qi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},a=Yy(t),a.return=r,r.child=a,rn=r,yt=null)):t=null,t===null)throw rs(r);return Qm(t)?r.lanes=32:r.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(us(),h=r.mode,T=cd({mode:"hidden",children:T},h),l=ga(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,l=r.child,l.memoizedState=dm(a),l.childLanes=hm(t,b,a),r.memoizedState=um,Jl(null,l)):(cs(r),fm(r,T))}var O=t.memoizedState;if(O!==null&&(T=O.dehydrated,T!==null)){if(m)r.flags&256?(cs(r),r.flags&=-257,r=mm(t,r,a)):r.memoizedState!==null?(us(),r.child=t.child,r.flags|=128,r=null):(us(),T=l.fallback,h=r.mode,l=cd({mode:"visible",children:l.children},h),T=ga(T,h,a,null),T.flags|=2,l.return=r,T.return=r,l.sibling=T,r.child=l,Ta(r,t.child,null,a),l=r.child,l.memoizedState=dm(a),l.childLanes=hm(t,b,a),r.memoizedState=um,r=Jl(null,l));else if(cs(r),Qm(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var G=b.dgst;b=G,l=Error(s(419)),l.stack="",l.digest=b,Ul({value:l,source:null,stack:null}),r=mm(t,r,a)}else if(Ut||go(t,r,a,!1),b=(a&t.childLanes)!==0,Ut||b){if(b=pt,b!==null&&(l=vl(b,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,pa(t,l),kn(b,t,l),lm;Ym(T)||vd(),r=mm(t,r,a)}else Ym(T)?(r.flags|=192,r.child=t.child,r=null):(t=O.treeContext,yt=hi(T.nextSibling),rn=r,Qe=!0,is=null,ui=!1,t!==null&&Xy(r,t),r=fm(r,l.children),r.flags|=4096);return r}return h?(us(),T=l.fallback,h=r.mode,O=t.child,G=O.sibling,l=gr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,G!==null?T=gr(G,T):(T=ga(T,h,a,null),T.flags|=2),T.return=r,l.return=r,l.sibling=T,r.child=l,Jl(null,l),l=r.child,T=t.child.memoizedState,T===null?T=dm(a):(h=T.cachePool,h!==null?(O=Pt._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=nv(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=hm(t,b,a),r.memoizedState=um,Jl(t.child,l)):(cs(r),a=t.child,t=a.sibling,a=gr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(b=r.deletions,b===null?(r.deletions=[t],r.flags|=16):b.push(t)),r.child=a,r.memoizedState=null,a)}function fm(t,r){return r=cd({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function cd(t,r){return t=Fn(22,t,null,r),t.lanes=0,t}function mm(t,r,a){return Ta(r,t.child,null,a),t=fm(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function p_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Cf(t.return,r,a)}function pm(t,r,a,l,h,m){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:m}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=a,b.tailMode=h,b.treeForkCount=m)}function g_(t,r,a){var l=r.pendingProps,h=l.revealOrder,m=l.tail;l=l.children;var b=Dt.current,T=(b&2)!==0;if(T?(b=b&1|2,r.flags|=128):b&=1,ue(Dt,b),an(t,r,l,a),l=Qe?Ll:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&p_(t,a,r);else if(t.tag===19)p_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&Ju(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),pm(r,!1,h,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Ju(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}pm(r,!0,a,null,m,l);break;case"together":pm(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function xr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),fs|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(go(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=gr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=gr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function gm(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function Xw(t,r,a){switch(r.tag){case 3:lt(r,r.stateNode.containerInfo),ss(r,Pt,t.memoizedState.cache),ya();break;case 27:case 5:pi(r);break;case 4:lt(r,r.stateNode.containerInfo);break;case 10:ss(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Bf(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(cs(r),r.flags|=128,null):(a&r.child.childLanes)!==0?m_(t,r,a):(cs(r),t=xr(t,r,a),t!==null?t.sibling:null);cs(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(go(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return g_(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ue(Dt,Dt.current),l)break;return null;case 22:return r.lanes=0,l_(t,r,a,r.pendingProps);case 24:ss(r,Pt,t.memoizedState.cache)}return xr(t,r,a)}function y_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ut=!0;else{if(!gm(t,a)&&(r.flags&128)===0)return Ut=!1,Xw(t,r,a);Ut=(t.flags&131072)!==0}else Ut=!1,Qe&&(r.flags&1048576)!==0&&Ky(r,Ll,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Ea(r.elementType),r.type=t,typeof t=="function")Ef(t)?(l=Aa(t,l),r.tag=1,r=h_(null,r,t,l,a)):(r.tag=0,r=cm(null,r,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===re){r.tag=11,r=s_(null,r,t,l,a);break e}else if(h===N){r.tag=14,r=a_(null,r,t,l,a);break e}}throw r=ot(t)||t,Error(s(306,r,""))}}return r;case 0:return cm(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Aa(l,r.pendingProps),h_(t,r,l,h,a);case 3:e:{if(lt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;h=m.element,Vf(t,r),$l(r,l,null,a);var b=r.memoizedState;if(l=b.cache,ss(r,Pt,l),l!==m.cache&&If(r,[Pt],a,!0),Gl(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=f_(t,r,l,a);break e}else if(l!==h){h=oi(Error(s(424)),r),Ul(h),r=f_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(yt=hi(t.firstChild),rn=r,Qe=!0,is=null,ui=!0,a=lv(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ya(),l===h){r=xr(t,r,a);break e}an(t,r,l,a)}r=r.child}return r;case 26:return ld(t,r),t===null?(a=N0(r.type,null,r.pendingProps,null))?r.memoizedState=a:Qe||(a=r.type,t=r.pendingProps,l=Ad(Ae.current).createElement(a),l[Mt]=r,l[Jt]=t,on(l,a,t),kt(l),r.stateNode=l):r.memoizedState=N0(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return pi(r),t===null&&Qe&&(l=r.stateNode=A0(r.type,r.pendingProps,Ae.current),rn=r,ui=!0,h=yt,vs(r.type)?(Km=h,yt=hi(l.firstChild)):yt=h),an(t,r,r.pendingProps.children,a),ld(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Qe&&((h=l=yt)&&(l=SA(l,r.type,r.pendingProps,ui),l!==null?(r.stateNode=l,rn=r,yt=hi(l.firstChild),ui=!1,h=!0):h=!1),h||rs(r)),pi(r),h=r.type,m=r.pendingProps,b=t!==null?t.memoizedProps:null,l=m.children,Hm(h,m)?l=null:b!==null&&Hm(h,b)&&(r.flags|=32),r.memoizedState!==null&&(h=Ff(t,r,Bw,null,null,a),hc._currentValue=h),ld(t,r),an(t,r,l,a),r.child;case 6:return t===null&&Qe&&((t=a=yt)&&(a=RA(a,r.pendingProps,ui),a!==null?(r.stateNode=a,rn=r,yt=null,t=!0):t=!1),t||rs(r)),null;case 13:return m_(t,r,a);case 4:return lt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ta(r,null,l,a):an(t,r,l,a),r.child;case 11:return s_(t,r,r.type,r.pendingProps,a);case 7:return an(t,r,r.pendingProps,a),r.child;case 8:return an(t,r,r.pendingProps.children,a),r.child;case 12:return an(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,ss(r,r.type,l.value),an(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,_a(r),h=sn(h),l=l(h),r.flags|=1,an(t,r,l,a),r.child;case 14:return a_(t,r,r.type,r.pendingProps,a);case 15:return o_(t,r,r.type,r.pendingProps,a);case 19:return g_(t,r,a);case 31:return Kw(t,r,a);case 22:return l_(t,r,a,r.pendingProps);case 24:return _a(r),l=sn(Pt),t===null?(h=jf(),h===null&&(h=pt,m=Df(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),r.memoizedState={parent:l,cache:h},kf(r),ss(r,Pt,h)):((t.lanes&a)!==0&&(Vf(t,r),$l(r,null,null,a),Gl()),h=t.memoizedState,m=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),ss(r,Pt,l)):(l=m.cache,ss(r,Pt,l),l!==h.cache&&If(r,[Pt],a,!0))),an(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Tr(t){t.flags|=4}function ym(t,r,a,l,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(H_())t.flags|=8192;else throw xa=Yu,Mf}else t.flags&=-16777217}function v_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!j0(r))if(H_())t.flags|=8192;else throw xa=Yu,Mf}function ud(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Rn():536870912,t.lanes|=r,No|=r)}function Wl(t,r){if(!Qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function vt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Jw(t,r,a){var l=r.pendingProps;switch(Af(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(r),null;case 1:return vt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),_r(Pt),nt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(po(r)?Tr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Rf())),vt(r),null;case 26:var h=r.type,m=r.memoizedState;return t===null?(Tr(r),m!==null?(vt(r),v_(r,m)):(vt(r),ym(r,h,null,l,a))):m?m!==t.memoizedState?(Tr(r),vt(r),v_(r,m)):(vt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&Tr(r),vt(r),ym(r,h,t,l,a)),null;case 27:if(gi(r),a=Ae.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Tr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return vt(r),null}t=fe.current,po(r)?Jy(r):(t=A0(h,l,a),r.stateNode=t,Tr(r))}return vt(r),null;case 5:if(gi(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Tr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return vt(r),null}if(m=fe.current,po(r))Jy(r);else{var b=Ad(Ae.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?b.createElement(h,{is:l.is}):b.createElement(h)}}m[Mt]=r,m[Jt]=l;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=m;e:switch(on(m,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Tr(r)}}return vt(r),ym(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Tr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ae.current,po(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Mt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||m0(t.nodeValue,a)),t||rs(r,!0)}else t=Ad(t).createTextNode(l),t[Mt]=r,r.stateNode=t}return vt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=po(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Mt]=r}else ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;vt(r),t=!1}else a=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Gn(r),r):(Gn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return vt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=po(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Mt]=r}else ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;vt(r),h=!1}else h=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Gn(r),r):(Gn(r),null)}return Gn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),ud(r,r.updateQueue),vt(r),null);case 4:return nt(),t===null&&Um(r.stateNode.containerInfo),vt(r),null;case 10:return _r(r.type),vt(r),null;case 19:if(ee(Dt),l=r.memoizedState,l===null)return vt(r),null;if(h=(r.flags&128)!==0,m=l.rendering,m===null)if(h)Wl(l,!1);else{if(Rt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=Ju(t),m!==null){for(r.flags|=128,Wl(l,!1),t=m.updateQueue,r.updateQueue=t,ud(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)$y(a,t),a=a.sibling;return ue(Dt,Dt.current&1|2),Qe&&yr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&Gt()>pd&&(r.flags|=128,h=!0,Wl(l,!1),r.lanes=4194304)}else{if(!h)if(t=Ju(m),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,ud(r,t),Wl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Qe)return vt(r),null}else 2*Gt()-l.renderingStartTime>pd&&a!==536870912&&(r.flags|=128,h=!0,Wl(l,!1),r.lanes=4194304);l.isBackwards?(m.sibling=r.child,r.child=m):(t=l.last,t!==null?t.sibling=m:r.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Gt(),t.sibling=null,a=Dt.current,ue(Dt,h?a&1|2:a&1),Qe&&yr(r,l.treeForkCount),t):(vt(r),null);case 22:case 23:return Gn(r),zf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(vt(r),r.subtreeFlags&6&&(r.flags|=8192)):vt(r),a=r.updateQueue,a!==null&&ud(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ee(ba),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),_r(Pt),vt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Ww(t,r){switch(Af(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return _r(Pt),nt(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return gi(r),null;case 31:if(r.memoizedState!==null){if(Gn(r),r.alternate===null)throw Error(s(340));ya()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Gn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ya()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ee(Dt),null;case 4:return nt(),null;case 10:return _r(r.type),null;case 22:case 23:return Gn(r),zf(),t!==null&&ee(ba),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return _r(Pt),null;case 25:return null;default:return null}}function __(t,r){switch(Af(r),r.tag){case 3:_r(Pt),nt();break;case 26:case 27:case 5:gi(r);break;case 4:nt();break;case 31:r.memoizedState!==null&&Gn(r);break;case 13:Gn(r);break;case 19:ee(Dt);break;case 10:_r(r.type);break;case 22:case 23:Gn(r),zf(),t!==null&&ee(ba);break;case 24:_r(Pt)}}function Zl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==h)}}catch(T){st(r,r.return,T)}}function ds(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&t)===t){var b=l.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,h=r;var O=a,G=T;try{G()}catch(W){st(h,O,W)}}}l=l.next}while(l!==m)}}catch(W){st(r,r.return,W)}}function b_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{uv(r,a)}catch(l){st(t,t.return,l)}}}function E_(t,r,a){a.props=Aa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){st(t,r,l)}}function ec(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){st(t,r,h)}}function Xi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){st(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){st(t,r,h)}else a.current=null}function x_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){st(t,t.return,h)}}function vm(t,r,a){try{var l=t.stateNode;bA(l,t.type,a,r),l[Jt]=r}catch(h){st(t,t.return,h)}}function T_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&vs(t.type)||t.tag===4}function _m(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||T_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&vs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bm(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Ei));else if(l!==4&&(l===27&&vs(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(bm(t,r,a),t=t.sibling;t!==null;)bm(t,r,a),t=t.sibling}function dd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&vs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(dd(t,r,a),t=t.sibling;t!==null;)dd(t,r,a),t=t.sibling}function w_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);on(r,l,a),r[Mt]=t,r[Jt]=a}catch(m){st(t,t.return,m)}}var wr=!1,zt=!1,Em=!1,A_=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function Zw(t,r){if(t=t.containerInfo,qm=Od,t=Py(t),mf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,T=-1,O=-1,G=0,W=0,ne=t,$=null;t:for(;;){for(var K;ne!==a||h!==0&&ne.nodeType!==3||(T=b+h),ne!==m||l!==0&&ne.nodeType!==3||(O=b+l),ne.nodeType===3&&(b+=ne.nodeValue.length),(K=ne.firstChild)!==null;)$=ne,ne=K;for(;;){if(ne===t)break t;if($===a&&++G===h&&(T=b),$===m&&++W===l&&(O=b),(K=ne.nextSibling)!==null)break;ne=$,$=ne.parentNode}ne=K}a=T===-1||O===-1?null:{start:T,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fm={focusedElem:t,selectionRange:a},Od=!1,Zt=r;Zt!==null;)if(r=Zt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Zt=t;else for(;Zt!==null;){switch(r=Zt,m=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=r,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var pe=Aa(a.type,h);t=l.getSnapshotBeforeUpdate(pe,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){st(a,a.return,Se)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)$m(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$m(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Zt=t;break}Zt=r.return}}function S_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Sr(t,a),l&4&&Zl(5,a);break;case 1:if(Sr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(b){st(a,a.return,b)}else{var h=Aa(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(b){st(a,a.return,b)}}l&64&&b_(a),l&512&&ec(a,a.return);break;case 3:if(Sr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{uv(t,r)}catch(b){st(a,a.return,b)}}break;case 27:r===null&&l&4&&w_(a);case 26:case 5:Sr(t,a),r===null&&l&4&&x_(a),l&512&&ec(a,a.return);break;case 12:Sr(t,a);break;case 31:Sr(t,a),l&4&&C_(t,a);break;case 13:Sr(t,a),l&4&&I_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=lA.bind(null,a),NA(t,a))));break;case 22:if(l=a.memoizedState!==null||wr,!l){r=r!==null&&r.memoizedState!==null||zt,h=wr;var m=zt;wr=l,(zt=r)&&!m?Rr(t,a,(a.subtreeFlags&8772)!==0):Sr(t,a),wr=h,zt=m}break;case 30:break;default:Sr(t,a)}}function R_(t){var r=t.alternate;r!==null&&(t.alternate=null,R_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ja(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Et=null,Dn=!1;function Ar(t,r,a){for(a=a.child;a!==null;)N_(t,r,a),a=a.sibling}function N_(t,r,a){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Un,a)}catch{}switch(a.tag){case 26:zt||Xi(a,r),Ar(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:zt||Xi(a,r);var l=Et,h=Dn;vs(a.type)&&(Et=a.stateNode,Dn=!1),Ar(t,r,a),cc(a.stateNode),Et=l,Dn=h;break;case 5:zt||Xi(a,r);case 6:if(l=Et,h=Dn,Et=null,Ar(t,r,a),Et=l,Dn=h,Et!==null)if(Dn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(a.stateNode)}catch(m){st(a,r,m)}else try{Et.removeChild(a.stateNode)}catch(m){st(a,r,m)}break;case 18:Et!==null&&(Dn?(t=Et,b0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Vo(t)):b0(Et,a.stateNode));break;case 4:l=Et,h=Dn,Et=a.stateNode.containerInfo,Dn=!0,Ar(t,r,a),Et=l,Dn=h;break;case 0:case 11:case 14:case 15:ds(2,a,r),zt||ds(4,a,r),Ar(t,r,a);break;case 1:zt||(Xi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&E_(a,r,l)),Ar(t,r,a);break;case 21:Ar(t,r,a);break;case 22:zt=(l=zt)||a.memoizedState!==null,Ar(t,r,a),zt=l;break;default:Ar(t,r,a)}}function C_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Vo(t)}catch(a){st(r,r.return,a)}}}function I_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vo(t)}catch(a){st(r,r.return,a)}}function eA(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new A_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new A_),r;default:throw Error(s(435,t.tag))}}function hd(t,r){var a=eA(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var h=cA.bind(null,t,l);l.then(h,h)}})}function On(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=t,b=r,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(vs(T.type)){Et=T.stateNode,Dn=!1;break e}break;case 5:Et=T.stateNode,Dn=!1;break e;case 3:case 4:Et=T.stateNode.containerInfo,Dn=!0;break e}T=T.return}if(Et===null)throw Error(s(160));N_(m,b,h),Et=null,Dn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)D_(r,t),r=r.sibling}var Ri=null;function D_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:On(r,t),jn(t),l&4&&(ds(3,t,t.return),Zl(3,t),ds(5,t,t.return));break;case 1:On(r,t),jn(t),l&512&&(zt||a===null||Xi(a,a.return)),l&64&&wr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ri;if(On(r,t),jn(t),l&512&&(zt||a===null||Xi(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Vi]||m[Mt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),on(m,l,a),m[Mt]=t,kt(m),l=m;break e;case"link":var b=D0("link","href",h).get(l+(a.href||""));if(b){for(var T=0;T<b.length;T++)if(m=b[T],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(T,1);break t}}m=h.createElement(l),on(m,l,a),h.head.appendChild(m);break;case"meta":if(b=D0("meta","content",h).get(l+(a.content||""))){for(T=0;T<b.length;T++)if(m=b[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(T,1);break t}}m=h.createElement(l),on(m,l,a),h.head.appendChild(m);break;default:throw Error(s(468,l))}m[Mt]=t,kt(m),l=m}t.stateNode=l}else O0(h,t.type,t.stateNode);else t.stateNode=I0(h,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?O0(h,t.type,t.stateNode):I0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&vm(t,t.memoizedProps,a.memoizedProps)}break;case 27:On(r,t),jn(t),l&512&&(zt||a===null||Xi(a,a.return)),a!==null&&l&4&&vm(t,t.memoizedProps,a.memoizedProps);break;case 5:if(On(r,t),jn(t),l&512&&(zt||a===null||Xi(a,a.return)),t.flags&32){h=t.stateNode;try{In(h,"")}catch(pe){st(t,t.return,pe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,vm(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Em=!0);break;case 6:if(On(r,t),jn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(pe){st(t,t.return,pe)}}break;case 3:if(Nd=null,h=Ri,Ri=Sd(r.containerInfo),On(r,t),Ri=h,jn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Vo(r.containerInfo)}catch(pe){st(t,t.return,pe)}Em&&(Em=!1,O_(t));break;case 4:l=Ri,Ri=Sd(t.stateNode.containerInfo),On(r,t),jn(t),Ri=l;break;case 12:On(r,t),jn(t);break;case 31:On(r,t),jn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,hd(t,l)));break;case 13:On(r,t),jn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(md=Gt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,hd(t,l)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,G=wr,W=zt;if(wr=G||h,zt=W||O,On(r,t),zt=W,wr=G,jn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||O||wr||zt||Sa(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){O=a=r;try{if(m=O.stateNode,h)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=O.stateNode;var ne=O.memoizedProps.style,$=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;T.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(pe){st(O,O.return,pe)}}}else if(r.tag===6){if(a===null){O=r;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(pe){st(O,O.return,pe)}}}else if(r.tag===18){if(a===null){O=r;try{var K=O.stateNode;h?E0(K,!0):E0(O.stateNode,!1)}catch(pe){st(O,O.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,hd(t,a))));break;case 19:On(r,t),jn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,hd(t,l)));break;case 30:break;case 21:break;default:On(r,t),jn(t)}}function jn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(T_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=_m(t);dd(t,m,h);break;case 5:var b=a.stateNode;a.flags&32&&(In(b,""),a.flags&=-33);var T=_m(t);dd(t,T,b);break;case 3:case 4:var O=a.stateNode.containerInfo,G=_m(t);bm(t,G,O);break;default:throw Error(s(161))}}catch(W){st(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function O_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;O_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Sr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)S_(t,r.alternate,r),r=r.sibling}function Sa(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:ds(4,r,r.return),Sa(r);break;case 1:Xi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&E_(r,r.return,a),Sa(r);break;case 27:cc(r.stateNode);case 26:case 5:Xi(r,r.return),Sa(r);break;case 22:r.memoizedState===null&&Sa(r);break;case 30:Sa(r);break;default:Sa(r)}t=t.sibling}}function Rr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,m=r,b=m.flags;switch(m.tag){case 0:case 11:case 15:Rr(h,m,a),Zl(4,m);break;case 1:if(Rr(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){st(l,l.return,G)}if(l=m,h=l.updateQueue,h!==null){var T=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)cv(O[h],T)}catch(G){st(l,l.return,G)}}a&&b&64&&b_(m),ec(m,m.return);break;case 27:w_(m);case 26:case 5:Rr(h,m,a),a&&l===null&&b&4&&x_(m),ec(m,m.return);break;case 12:Rr(h,m,a);break;case 31:Rr(h,m,a),a&&b&4&&C_(h,m);break;case 13:Rr(h,m,a),a&&b&4&&I_(h,m);break;case 22:m.memoizedState===null&&Rr(h,m,a),ec(m,m.return);break;case 30:break;default:Rr(h,m,a)}r=r.sibling}}function xm(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&zl(a))}function Tm(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&zl(t))}function Ni(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)j_(t,r,a,l),r=r.sibling}function j_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ni(t,r,a,l),h&2048&&Zl(9,r);break;case 1:Ni(t,r,a,l);break;case 3:Ni(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&zl(t)));break;case 12:if(h&2048){Ni(t,r,a,l),t=r.stateNode;try{var m=r.memoizedProps,b=m.id,T=m.onPostCommit;typeof T=="function"&&T(b,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){st(r,r.return,O)}}else Ni(t,r,a,l);break;case 31:Ni(t,r,a,l);break;case 13:Ni(t,r,a,l);break;case 23:break;case 22:m=r.stateNode,b=r.alternate,r.memoizedState!==null?m._visibility&2?Ni(t,r,a,l):tc(t,r):m._visibility&2?Ni(t,r,a,l):(m._visibility|=2,Ao(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),h&2048&&xm(b,r);break;case 24:Ni(t,r,a,l),h&2048&&Tm(r.alternate,r);break;default:Ni(t,r,a,l)}}function Ao(t,r,a,l,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=t,b=r,T=a,O=l,G=b.flags;switch(b.tag){case 0:case 11:case 15:Ao(m,b,T,O,h),Zl(8,b);break;case 23:break;case 22:var W=b.stateNode;b.memoizedState!==null?W._visibility&2?Ao(m,b,T,O,h):tc(m,b):(W._visibility|=2,Ao(m,b,T,O,h)),h&&G&2048&&xm(b.alternate,b);break;case 24:Ao(m,b,T,O,h),h&&G&2048&&Tm(b.alternate,b);break;default:Ao(m,b,T,O,h)}r=r.sibling}}function tc(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:tc(a,l),h&2048&&xm(l.alternate,l);break;case 24:tc(a,l),h&2048&&Tm(l.alternate,l);break;default:tc(a,l)}r=r.sibling}}var nc=8192;function So(t,r,a){if(t.subtreeFlags&nc)for(t=t.child;t!==null;)M_(t,r,a),t=t.sibling}function M_(t,r,a){switch(t.tag){case 26:So(t,r,a),t.flags&nc&&t.memoizedState!==null&&zA(a,Ri,t.memoizedState,t.memoizedProps);break;case 5:So(t,r,a);break;case 3:case 4:var l=Ri;Ri=Sd(t.stateNode.containerInfo),So(t,r,a),Ri=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=nc,nc=16777216,So(t,r,a),nc=l):So(t,r,a));break;default:So(t,r,a)}}function k_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function ic(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Zt=l,P_(l,t)}k_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)V_(t),t=t.sibling}function V_(t){switch(t.tag){case 0:case 11:case 15:ic(t),t.flags&2048&&ds(9,t,t.return);break;case 3:ic(t);break;case 12:ic(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,fd(t)):ic(t);break;default:ic(t)}}function fd(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Zt=l,P_(l,t)}k_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:ds(8,r,r.return),fd(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,fd(r));break;default:fd(r)}t=t.sibling}}function P_(t,r){for(;Zt!==null;){var a=Zt;switch(a.tag){case 0:case 11:case 15:ds(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Zt=l;else e:for(a=t;Zt!==null;){l=Zt;var h=l.sibling,m=l.return;if(R_(l),l===a){Zt=null;break e}if(h!==null){h.return=m,Zt=h;break e}Zt=m}}}var tA={getCacheForType:function(t){var r=sn(Pt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return sn(Pt).controller.signal}},nA=typeof WeakMap=="function"?WeakMap:Map,tt=0,pt=null,ze=null,qe=0,rt=0,$n=null,hs=!1,Ro=!1,wm=!1,Nr=0,Rt=0,fs=0,Ra=0,Am=0,Yn=0,No=0,rc=null,Mn=null,Sm=!1,md=0,L_=0,pd=1/0,gd=null,ms=null,Qt=0,ps=null,Co=null,Cr=0,Rm=0,Nm=null,U_=null,sc=0,Cm=null;function Qn(){return(tt&2)!==0&&qe!==0?qe&-qe:J.T!==null?km():yu()}function z_(){if(Yn===0)if((qe&536870912)===0||Qe){var t=Ze;Ze<<=1,(Ze&3932160)===0&&(Ze=262144),Yn=t}else Yn=536870912;return t=Hn.current,t!==null&&(t.flags|=32),Yn}function kn(t,r,a){(t===pt&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&(Io(t,0),gs(t,qe,Yn,!1)),dr(t,a),((tt&2)===0||t!==pt)&&(t===pt&&((tt&2)===0&&(Ra|=a),Rt===4&&gs(t,qe,Yn,!1)),Ji(t))}function B_(t,r,a){if((tt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||hn(t,r),h=l?sA(t,r):Dm(t,r,!0),m=l;do{if(h===0){Ro&&!l&&gs(t,r,0,!1);break}else{if(a=t.current.alternate,m&&!iA(a)){h=Dm(t,r,!1),m=!1;continue}if(h===2){if(m=r,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var T=t;h=rc;var O=T.current.memoizedState.isDehydrated;if(O&&(Io(T,b).flags|=256),b=Dm(T,b,!1),b!==2){if(wm&&!O){T.errorRecoveryDisabledLanes|=m,Ra|=m,h=4;break e}m=Mn,Mn=h,m!==null&&(Mn===null?Mn=m:Mn.push.apply(Mn,m))}h=b}if(m=!1,h!==2)continue}}if(h===1){Io(t,0),gs(t,r,0,!0);break}e:{switch(l=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:gs(l,r,Yn,!hs);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=md+300-Gt(),10<h)){if(gs(l,r,Yn,!hs),_n(l,0,!0)!==0)break e;Cr=r,l.timeoutHandle=v0(q_.bind(null,l,a,Mn,gd,Sm,r,Yn,Ra,No,hs,m,"Throttled",-0,0),h);break e}q_(l,a,Mn,gd,Sm,r,Yn,Ra,No,hs,m,null,-0,0)}}break}while(!0);Ji(t)}function q_(t,r,a,l,h,m,b,T,O,G,W,ne,$,K){if(t.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ei},M_(r,m,ne);var pe=(m&62914560)===m?md-Gt():(m&4194048)===m?L_-Gt():0;if(pe=BA(ne,pe),pe!==null){Cr=m,t.cancelPendingCommit=pe(X_.bind(null,t,r,m,a,l,h,b,T,O,W,ne,null,$,K)),gs(t,m,b,!G);return}}X_(t,r,m,a,l,h,b,T,O)}function iA(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!qn(m(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function gs(t,r,a,l){r&=~Am,r&=~Ra,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var m=31-Tt(h),b=1<<m;l[m]=-1,h&=~b}a!==0&&na(t,a,r)}function yd(){return(tt&6)===0?(ac(0),!1):!0}function Im(){if(ze!==null){if(rt===0)var t=ze.return;else t=ze,vr=va=null,$f(t),bo=null,ql=0,t=ze;for(;t!==null;)__(t.alternate,t),t=t.return;ze=null}}function Io(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,TA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Cr=0,Im(),pt=t,ze=a=gr(t.current,null),qe=r,rt=0,$n=null,hs=!1,Ro=hn(t,r),wm=!1,No=Yn=Am=Ra=fs=Rt=0,Mn=rc=null,Sm=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Tt(l),m=1<<h;r|=t[h],l&=~m}return Nr=r,Lu(),a}function F_(t,r){ke=null,J.H=Xl,r===_o||r===$u?(r=sv(),rt=3):r===Mf?(r=sv(),rt=4):rt=r===lm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,$n=r,ze===null&&(Rt=1,ad(t,oi(r,t.current)))}function H_(){var t=Hn.current;return t===null?!0:(qe&4194048)===qe?di===null:(qe&62914560)===qe||(qe&536870912)!==0?t===di:!1}function G_(){var t=J.H;return J.H=Xl,t===null?Xl:t}function $_(){var t=J.A;return J.A=tA,t}function vd(){Rt=4,hs||(qe&4194048)!==qe&&Hn.current!==null||(Ro=!0),(fs&134217727)===0&&(Ra&134217727)===0||pt===null||gs(pt,qe,Yn,!1)}function Dm(t,r,a){var l=tt;tt|=2;var h=G_(),m=$_();(pt!==t||qe!==r)&&(gd=null,Io(t,r)),r=!1;var b=Rt;e:do try{if(rt!==0&&ze!==null){var T=ze,O=$n;switch(rt){case 8:Im(),b=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(r=!0);var G=rt;if(rt=0,$n=null,Do(t,T,O,G),a&&Ro){b=0;break e}break;default:G=rt,rt=0,$n=null,Do(t,T,O,G)}}rA(),b=Rt;break}catch(W){F_(t,W)}while(!0);return r&&t.shellSuspendCounter++,vr=va=null,tt=l,J.H=h,J.A=m,ze===null&&(pt=null,qe=0,Lu()),b}function rA(){for(;ze!==null;)Y_(ze)}function sA(t,r){var a=tt;tt|=2;var l=G_(),h=$_();pt!==t||qe!==r?(gd=null,pd=Gt()+500,Io(t,r)):Ro=hn(t,r);e:do try{if(rt!==0&&ze!==null){r=ze;var m=$n;t:switch(rt){case 1:rt=0,$n=null,Do(t,r,m,1);break;case 2:case 9:if(iv(m)){rt=0,$n=null,Q_(r);break}r=function(){rt!==2&&rt!==9||pt!==t||(rt=7),Ji(t)},m.then(r,r);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:iv(m)?(rt=0,$n=null,Q_(r)):(rt=0,$n=null,Do(t,r,m,7));break;case 5:var b=null;switch(ze.tag){case 26:b=ze.memoizedState;case 5:case 27:var T=ze;if(b?j0(b):T.stateNode.complete){rt=0,$n=null;var O=T.sibling;if(O!==null)ze=O;else{var G=T.return;G!==null?(ze=G,_d(G)):ze=null}break t}}rt=0,$n=null,Do(t,r,m,5);break;case 6:rt=0,$n=null,Do(t,r,m,6);break;case 8:Im(),Rt=6;break e;default:throw Error(s(462))}}aA();break}catch(W){F_(t,W)}while(!0);return vr=va=null,J.H=l,J.A=h,tt=a,ze!==null?0:(pt=null,qe=0,Lu(),Rt)}function aA(){for(;ze!==null&&!vn();)Y_(ze)}function Y_(t){var r=y_(t.alternate,t,Nr);t.memoizedProps=t.pendingProps,r===null?_d(t):ze=r}function Q_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=d_(a,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=d_(a,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:$f(r);default:__(a,r),r=ze=$y(r,Nr),r=y_(a,r,Nr)}t.memoizedProps=t.pendingProps,r===null?_d(t):ze=r}function Do(t,r,a,l){vr=va=null,$f(r),bo=null,ql=0;var h=r.return;try{if(Qw(t,h,r,a,qe)){Rt=1,ad(t,oi(a,t.current)),ze=null;return}}catch(m){if(h!==null)throw ze=h,m;Rt=1,ad(t,oi(a,t.current)),ze=null;return}r.flags&32768?(Qe||l===1?t=!0:Ro||(qe&536870912)!==0?t=!1:(hs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),K_(r,t)):_d(r)}function _d(t){var r=t;do{if((r.flags&32768)!==0){K_(r,hs);return}t=r.return;var a=Jw(r.alternate,r,Nr);if(a!==null){ze=a;return}if(r=r.sibling,r!==null){ze=r;return}ze=r=t}while(r!==null);Rt===0&&(Rt=5)}function K_(t,r){do{var a=Ww(t.alternate,t);if(a!==null){a.flags&=32767,ze=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){ze=t;return}ze=t=a}while(t!==null);Rt=6,ze=null}function X_(t,r,a,l,h,m,b,T,O){t.cancelPendingCommit=null;do bd();while(Qt!==0);if((tt&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=_f,uf(t,a,m,b,T,O),t===pt&&(ze=pt=null,qe=0),Co=r,ps=t,Cr=a,Rm=m,Nm=h,U_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,uA(Mi,function(){return t0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,h=ae.p,ae.p=2,b=tt,tt|=4;try{Zw(t,r,a)}finally{tt=b,ae.p=h,J.T=l}}Qt=1,J_(),W_(),Z_()}}function J_(){if(Qt===1){Qt=0;var t=ps,r=Co,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=ae.p;ae.p=2;var h=tt;tt|=4;try{D_(r,t);var m=Fm,b=Py(t.containerInfo),T=m.focusedElem,O=m.selectionRange;if(b!==T&&T&&T.ownerDocument&&Vy(T.ownerDocument.documentElement,T)){if(O!==null&&mf(T)){var G=O.start,W=O.end;if(W===void 0&&(W=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(W,T.value.length);else{var ne=T.ownerDocument||document,$=ne&&ne.defaultView||window;if($.getSelection){var K=$.getSelection(),pe=T.textContent.length,Se=Math.min(O.start,pe),ht=O.end===void 0?Se:Math.min(O.end,pe);!K.extend&&Se>ht&&(b=ht,ht=Se,Se=b);var z=ky(T,Se),L=ky(T,ht);if(z&&L&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==L.node||K.focusOffset!==L.offset)){var H=ne.createRange();H.setStart(z.node,z.offset),K.removeAllRanges(),Se>ht?(K.addRange(H),K.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),K.addRange(H))}}}}for(ne=[],K=T;K=K.parentNode;)K.nodeType===1&&ne.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ne.length;T++){var te=ne[T];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Od=!!qm,Fm=qm=null}finally{tt=h,ae.p=l,J.T=a}}t.current=r,Qt=2}}function W_(){if(Qt===2){Qt=0;var t=ps,r=Co,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=ae.p;ae.p=2;var h=tt;tt|=4;try{S_(t,r.alternate,r)}finally{tt=h,ae.p=l,J.T=a}}Qt=3}}function Z_(){if(Qt===4||Qt===3){Qt=0,Ln();var t=ps,r=Co,a=Cr,l=U_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Qt=5:(Qt=0,Co=ps=null,e0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ms=null),hr(a),r=r.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Un,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=J.T,h=ae.p,ae.p=2,J.T=null;try{for(var m=t.onRecoverableError,b=0;b<l.length;b++){var T=l[b];m(T.value,{componentStack:T.stack})}}finally{J.T=r,ae.p=h}}(Cr&3)!==0&&bd(),Ji(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Cm?sc++:(sc=0,Cm=t):sc=0,ac(0)}}function e0(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,zl(r)))}function bd(){return J_(),W_(),Z_(),t0()}function t0(){if(Qt!==5)return!1;var t=ps,r=Rm;Rm=0;var a=hr(Cr),l=J.T,h=ae.p;try{ae.p=32>a?32:a,J.T=null,a=Nm,Nm=null;var m=ps,b=Cr;if(Qt=0,Co=ps=null,Cr=0,(tt&6)!==0)throw Error(s(331));var T=tt;if(tt|=4,V_(m.current),j_(m,m.current,b,a),tt=T,ac(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Un,m)}catch{}return!0}finally{ae.p=h,J.T=l,e0(t,r)}}function n0(t,r,a){r=oi(a,r),r=om(t.stateNode,r,2),t=ls(t,r,2),t!==null&&(dr(t,2),Ji(t))}function st(t,r,a){if(t.tag===3)n0(t,t,a);else for(;r!==null;){if(r.tag===3){n0(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ms===null||!ms.has(l))){t=oi(a,t),a=i_(2),l=ls(r,a,2),l!==null&&(r_(a,l,r,t),dr(l,2),Ji(l));break}}r=r.return}}function Om(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new nA;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(wm=!0,h.add(a),t=oA.bind(null,t,r,a),r.then(t,t))}function oA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,pt===t&&(qe&a)===a&&(Rt===4||Rt===3&&(qe&62914560)===qe&&300>Gt()-md?(tt&2)===0&&Io(t,0):Am|=a,No===qe&&(No=0)),Ji(t)}function i0(t,r){r===0&&(r=Rn()),t=pa(t,r),t!==null&&(dr(t,r),Ji(t))}function lA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),i0(t,a)}function cA(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),i0(t,a)}function uA(t,r){return je(t,r)}var Ed=null,Oo=null,jm=!1,xd=!1,Mm=!1,ys=0;function Ji(t){t!==Oo&&t.next===null&&(Oo===null?Ed=Oo=t:Oo=Oo.next=t),xd=!0,jm||(jm=!0,hA())}function ac(t,r){if(!Mm&&xd){Mm=!0;do for(var a=!1,l=Ed;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var b=l.suspendedLanes,T=l.pingedLanes;m=(1<<31-Tt(42|t)+1)-1,m&=h&~(b&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,o0(l,m))}else m=qe,m=_n(l,l===pt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||hn(l,m)||(a=!0,o0(l,m));l=l.next}while(a);Mm=!1}}function dA(){r0()}function r0(){xd=jm=!1;var t=0;ys!==0&&xA()&&(t=ys);for(var r=Gt(),a=null,l=Ed;l!==null;){var h=l.next,m=s0(l,r);m===0?(l.next=null,a===null?Ed=h:a.next=h,h===null&&(Oo=a)):(a=l,(t!==0||(m&3)!==0)&&(xd=!0)),l=h}Qt!==0&&Qt!==5||ac(t),ys!==0&&(ys=0)}function s0(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-Tt(m),T=1<<b,O=h[b];O===-1?((T&a)===0||(T&l)!==0)&&(h[b]=vi(T,r)):O<=r&&(t.expiredLanes|=T),m&=~T}if(r=pt,a=qe,a=_n(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&gt(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||hn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&gt(l),hr(a)){case 2:case 8:a=ea;break;case 32:a=Mi;break;case 268435456:a=$a;break;default:a=Mi}return l=a0.bind(null,t),a=je(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&gt(l),t.callbackPriority=2,t.callbackNode=null,2}function a0(t,r){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(bd()&&t.callbackNode!==a)return null;var l=qe;return l=_n(t,t===pt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(B_(t,l,r),s0(t,Gt()),t.callbackNode!=null&&t.callbackNode===a?a0.bind(null,t):null)}function o0(t,r){if(bd())return null;B_(t,r,!0)}function hA(){wA(function(){(tt&6)!==0?je(Zs,dA):r0()})}function km(){if(ys===0){var t=yo;t===0&&(t=oe,oe<<=1,(oe&261888)===0&&(oe=256)),ys=t}return ys}function l0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:to(""+t)}function c0(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function fA(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var m=l0((h[Jt]||null).action),b=l.submitter;b&&(r=(r=b[Jt]||null)?l0(r.formAction):b.getAttribute("formAction"),r!==null&&(m=r,b=null));var T=new Hi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ys!==0){var O=b?c0(h,b):new FormData(h);tm(a,{pending:!0,data:O,method:h.method,action:m},null,O)}}else typeof m=="function"&&(T.preventDefault(),O=b?c0(h,b):new FormData(h),tm(a,{pending:!0,data:O,method:h.method,action:m},m,O))},currentTarget:h}]})}}for(var Vm=0;Vm<vf.length;Vm++){var Pm=vf[Vm],mA=Pm.toLowerCase(),pA=Pm[0].toUpperCase()+Pm.slice(1);Si(mA,"on"+pA)}Si(zy,"onAnimationEnd"),Si(By,"onAnimationIteration"),Si(qy,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(Dw,"onTransitionRun"),Si(Ow,"onTransitionStart"),Si(jw,"onTransitionCancel"),Si(Fy,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oc));function u0(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var b=l.length-1;0<=b;b--){var T=l[b],O=T.instance,G=T.currentTarget;if(T=T.listener,O!==m&&h.isPropagationStopped())break e;m=T,h.currentTarget=G;try{m(h)}catch(W){Pu(W)}h.currentTarget=null,m=O}else for(b=0;b<l.length;b++){if(T=l[b],O=T.instance,G=T.currentTarget,T=T.listener,O!==m&&h.isPropagationStopped())break e;m=T,h.currentTarget=G;try{m(h)}catch(W){Pu(W)}h.currentTarget=null,m=O}}}}function Be(t,r){var a=r[Xa];a===void 0&&(a=r[Xa]=new Set);var l=t+"__bubble";a.has(l)||(d0(r,t,2,!1),a.add(l))}function Lm(t,r,a){var l=0;r&&(l|=4),d0(a,t,l,r)}var Td="_reactListening"+Math.random().toString(36).slice(2);function Um(t){if(!t[Td]){t[Td]=!0,_l.forEach(function(a){a!=="selectionchange"&&(gA.has(a)||Lm(a,!1,t),Lm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Td]||(r[Td]=!0,Lm("selectionchange",!1,r))}}function d0(t,r,a,l){switch(z0(r)){case 2:var h=HA;break;case 8:h=GA;break;default:h=ep}a=h.bind(null,r,a,t),h=void 0,!oa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function zm(t,r,a,l,h){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var T=l.stateNode.containerInfo;if(T===h)break;if(b===4)for(b=l.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;T!==null;){if(b=Pi(T),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){l=m=b;continue e}T=T.parentNode}}l=l.return}Wr(function(){var G=m,W=ii(a),ne=[];e:{var $=Hy.get(t);if($!==void 0){var K=Hi,pe=t;switch(t){case"keypress":if(ca(a)===0)break e;case"keydown":case"keyup":K=Mu;break;case"focusin":pe="focus",K=da;break;case"focusout":pe="blur",K=da;break;case"beforeblur":case"afterblur":K=da;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=v;break;case zy:case By:case qy:K=Ru;break;case Fy:K=A;break;case"scroll":case"scrollend":K=Dl;break;case"wheel":K=Y;break;case"copy":case"cut":case"paste":K=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=pr;break;case"toggle":case"beforetoggle":K=Me}var Se=(r&4)!==0,ht=!Se&&(t==="scroll"||t==="scrollend"),z=Se?$!==null?$+"Capture":null:$;Se=[];for(var L=G,H;L!==null;){var te=L;if(H=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||H===null||z===null||(te=xi(L,z),te!=null&&Se.push(lc(L,te,H))),ht)break;L=L.return}0<Se.length&&($=new K($,pe,null,a,W),ne.push({event:$,listeners:Se}))}}if((r&7)===0){e:{if($=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",$&&a!==Nl&&(pe=a.relatedTarget||a.fromElement)&&(Pi(pe)||pe[ki]))break e;if((K||$)&&($=W.window===W?W:($=W.ownerDocument)?$.defaultView||$.parentWindow:window,K?(pe=a.relatedTarget||a.toElement,K=G,pe=pe?Pi(pe):null,pe!==null&&(ht=c(pe),Se=pe.tag,pe!==ht||Se!==5&&Se!==27&&Se!==6)&&(pe=null)):(K=null,pe=G),K!==pe)){if(Se=Ol,te="onMouseLeave",z="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Se=pr,te="onPointerLeave",z="onPointerEnter",L="pointer"),ht=K==null?$:zn(K),H=pe==null?$:zn(pe),$=new Se(te,L+"leave",K,a,W),$.target=ht,$.relatedTarget=H,te=null,Pi(W)===G&&(Se=new Se(z,L+"enter",pe,a,W),Se.target=H,Se.relatedTarget=ht,te=Se),ht=te,K&&pe)t:{for(Se=yA,z=K,L=pe,H=0,te=z;te;te=Se(te))H++;te=0;for(var Ee=L;Ee;Ee=Se(Ee))te++;for(;0<H-te;)z=Se(z),H--;for(;0<te-H;)L=Se(L),te--;for(;H--;){if(z===L||L!==null&&z===L.alternate){Se=z;break t}z=Se(z),L=Se(L)}Se=null}else Se=null;K!==null&&h0(ne,$,K,Se,!1),pe!==null&&ht!==null&&h0(ne,ht,pe,Se,!0)}}e:{if($=G?zn(G):window,K=$.nodeName&&$.nodeName.toLowerCase(),K==="select"||K==="input"&&$.type==="file")var Je=Cy;else if(Ry($))if(Iy)Je=Nw;else{Je=Sw;var ye=Aw}else K=$.nodeName,!K||K.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&eo(G.elementType)&&(Je=Cy):Je=Rw;if(Je&&(Je=Je(t,G))){Ny(ne,Je,a,W);break e}ye&&ye(t,$,G),t==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&Al($,"number",$.value)}switch(ye=G?zn(G):window,t){case"focusin":(Ry(ye)||ye.contentEditable==="true")&&(lo=ye,pf=G,Pl=null);break;case"focusout":Pl=pf=lo=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,Ly(ne,a,W);break;case"selectionchange":if(Iw)break;case"keydown":case"keyup":Ly(ne,a,W)}var Pe;if(et)e:{switch(t){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else oo?ha(t,a)&&(Fe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Fe="onCompositionStart");Fe&&(Yi&&a.locale!=="ko"&&(oo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&oo&&(Pe=Il()):(Fi=W,Cl="value"in Fi?Fi.value:Fi.textContent,oo=!0)),ye=wd(G,Fe),0<ye.length&&(Fe=new $i(Fe,t,null,a,W),ne.push({event:Fe,listeners:ye}),Pe?Fe.data=Pe:(Pe=ao(a),Pe!==null&&(Fe.data=Pe)))),(Pe=si?Ew(t,a):xw(t,a))&&(Fe=wd(G,"onBeforeInput"),0<Fe.length&&(ye=new $i("onBeforeInput","beforeinput",null,a,W),ne.push({event:ye,listeners:Fe}),ye.data=Pe)),fA(ne,t,G,a,W)}u0(ne,r)})}function lc(t,r,a){return{instance:t,listener:r,currentTarget:a}}function wd(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=xi(t,a),h!=null&&l.unshift(lc(t,h,m)),h=xi(t,r),h!=null&&l.push(lc(t,h,m))),t.tag===3)return l;t=t.return}return[]}function yA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function h0(t,r,a,l,h){for(var m=r._reactName,b=[];a!==null&&a!==l;){var T=a,O=T.alternate,G=T.stateNode;if(T=T.tag,O!==null&&O===l)break;T!==5&&T!==26&&T!==27||G===null||(O=G,h?(G=xi(a,m),G!=null&&b.unshift(lc(a,G,O))):h||(G=xi(a,m),G!=null&&b.push(lc(a,G,O)))),a=a.return}b.length!==0&&t.push({event:r,listeners:b})}var vA=/\r\n?/g,_A=/\u0000|\uFFFD/g;function f0(t){return(typeof t=="string"?t:""+t).replace(vA,`
`).replace(_A,"")}function m0(t,r){return r=f0(r),f0(t)===r}function dt(t,r,a,l,h,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||In(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&In(t,""+l);break;case"className":Bn(t,"class",l);break;case"tabIndex":Bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,a,l);break;case"style":Rl(t,l,m);break;case"data":if(r!=="object"){Bn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=to(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&dt(t,r,"name",h.name,h,null),dt(t,r,"formEncType",h.formEncType,h,null),dt(t,r,"formMethod",h.formMethod,h,null),dt(t,r,"formTarget",h.formTarget,h,null)):(dt(t,r,"encType",h.encType,h,null),dt(t,r,"method",h.method,h,null),dt(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=to(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ei);break;case"onScroll":l!=null&&Be("scroll",t);break;case"onScrollEnd":l!=null&&Be("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=to(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Be("beforetoggle",t),Be("toggle",t),Wa(t,"popover",l);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Wa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wu.get(a)||a,Wa(t,a,l))}}function Bm(t,r,a,l,h,m){switch(a){case"style":Rl(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?In(t,l):(typeof l=="number"||typeof l=="bigint")&&In(t,""+l);break;case"onScroll":l!=null&&Be("scroll",t);break;case"onScrollEnd":l!=null&&Be("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),m=t[Jt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(r,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Wa(t,a,l)}}}function on(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",t),Be("load",t);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:dt(t,r,m,b,a,null)}}h&&dt(t,r,"srcSet",a.srcSet,a,null),l&&dt(t,r,"src",a.src,a,null);return;case"input":Be("invalid",t);var T=m=b=h=null,O=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":b=W;break;case"checked":O=W;break;case"defaultChecked":G=W;break;case"value":m=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:dt(t,r,l,W,a,null)}}Eu(t,m,T,O,G,b,h,!1);return;case"select":Be("invalid",t),l=b=m=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":m=T;break;case"defaultValue":b=T;break;case"multiple":l=T;default:dt(t,r,h,T,a,null)}r=m,a=b,t.multiple=!!l,r!=null?Qr(t,!!l,r,!1):a!=null&&Qr(t,!!l,a,!0);return;case"textarea":Be("invalid",t),m=h=l=null;for(b in a)if(a.hasOwnProperty(b)&&(T=a[b],T!=null))switch(b){case"value":l=T;break;case"defaultValue":h=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:dt(t,r,b,T,a,null)}Kr(t,l,h,m);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:dt(t,r,O,l,a,null)}return;case"dialog":Be("beforetoggle",t),Be("toggle",t),Be("cancel",t),Be("close",t);break;case"iframe":case"object":Be("load",t);break;case"video":case"audio":for(l=0;l<oc.length;l++)Be(oc[l],t);break;case"image":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"embed":case"source":case"link":Be("error",t),Be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:dt(t,r,G,l,a,null)}return;default:if(eo(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Bm(t,r,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&dt(t,r,T,l,a,null))}function bA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,b=null,T=null,O=null,G=null,W=null;for(K in a){var ne=a[K];if(a.hasOwnProperty(K)&&ne!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=ne;default:l.hasOwnProperty(K)||dt(t,r,K,null,l,ne)}}for(var $ in l){var K=l[$];if(ne=a[$],l.hasOwnProperty($)&&(K!=null||ne!=null))switch($){case"type":m=K;break;case"name":h=K;break;case"checked":G=K;break;case"defaultChecked":W=K;break;case"value":b=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==ne&&dt(t,r,$,K,l,ne)}}Za(t,b,T,O,G,W,m,h);return;case"select":K=b=T=$=null;for(m in a)if(O=a[m],a.hasOwnProperty(m)&&O!=null)switch(m){case"value":break;case"multiple":K=O;default:l.hasOwnProperty(m)||dt(t,r,m,null,l,O)}for(h in l)if(m=l[h],O=a[h],l.hasOwnProperty(h)&&(m!=null||O!=null))switch(h){case"value":$=m;break;case"defaultValue":T=m;break;case"multiple":b=m;default:m!==O&&dt(t,r,h,m,l,O)}r=T,a=b,l=K,$!=null?Qr(t,!!a,$,!1):!!l!=!!a&&(r!=null?Qr(t,!!a,r,!0):Qr(t,!!a,a?[]:"",!1));return;case"textarea":K=$=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:dt(t,r,T,null,l,h)}for(b in l)if(h=l[b],m=a[b],l.hasOwnProperty(b)&&(h!=null||m!=null))switch(b){case"value":$=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&dt(t,r,b,h,l,m)}xu(t,$,K);return;case"option":for(var pe in a)if($=a[pe],a.hasOwnProperty(pe)&&$!=null&&!l.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:dt(t,r,pe,null,l,$)}for(O in l)if($=l[O],K=a[O],l.hasOwnProperty(O)&&$!==K&&($!=null||K!=null))switch(O){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:dt(t,r,O,$,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)$=a[Se],a.hasOwnProperty(Se)&&$!=null&&!l.hasOwnProperty(Se)&&dt(t,r,Se,null,l,$);for(G in l)if($=l[G],K=a[G],l.hasOwnProperty(G)&&$!==K&&($!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:dt(t,r,G,$,l,K)}return;default:if(eo(r)){for(var ht in a)$=a[ht],a.hasOwnProperty(ht)&&$!==void 0&&!l.hasOwnProperty(ht)&&Bm(t,r,ht,void 0,l,$);for(W in l)$=l[W],K=a[W],!l.hasOwnProperty(W)||$===K||$===void 0&&K===void 0||Bm(t,r,W,$,l,K);return}}for(var z in a)$=a[z],a.hasOwnProperty(z)&&$!=null&&!l.hasOwnProperty(z)&&dt(t,r,z,null,l,$);for(ne in l)$=l[ne],K=a[ne],!l.hasOwnProperty(ne)||$===K||$==null&&K==null||dt(t,r,ne,$,l,K)}function p0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function EA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],m=h.transferSize,b=h.initiatorType,T=h.duration;if(m&&T&&p0(b)){for(b=0,T=h.responseEnd,l+=1;l<a.length;l++){var O=a[l],G=O.startTime;if(G>T)break;var W=O.transferSize,ne=O.initiatorType;W&&p0(ne)&&(O=O.responseEnd,b+=W*(O<T?1:(T-G)/(O-G)))}if(--l,r+=8*(m+b)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var qm=null,Fm=null;function Ad(t){return t.nodeType===9?t:t.ownerDocument}function g0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y0(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Hm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Gm=null;function xA(){var t=window.event;return t&&t.type==="popstate"?t===Gm?!1:(Gm=t,!0):(Gm=null,!1)}var v0=typeof setTimeout=="function"?setTimeout:void 0,TA=typeof clearTimeout=="function"?clearTimeout:void 0,_0=typeof Promise=="function"?Promise:void 0,wA=typeof queueMicrotask=="function"?queueMicrotask:typeof _0<"u"?function(t){return _0.resolve(null).then(t).catch(AA)}:v0;function AA(t){setTimeout(function(){throw t})}function vs(t){return t==="head"}function b0(t,r){var a=r,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Vo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")cc(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,cc(a);for(var m=a.firstChild;m;){var b=m.nextSibling,T=m.nodeName;m[Vi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=b}}else a==="body"&&cc(t.ownerDocument.body);a=h}while(a);Vo(r)}function E0(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function $m(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$m(a),Ja(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function SA(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Vi])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=hi(t.nextSibling),t===null)break}return null}function RA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=hi(t.nextSibling),t===null))return null;return t}function x0(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=hi(t.nextSibling),t===null))return null;return t}function Ym(t){return t.data==="$?"||t.data==="$~"}function Qm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function NA(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function hi(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Km=null;function T0(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return hi(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function w0(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function A0(t,r,a){switch(r=Ad(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function cc(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ja(t)}var fi=new Map,S0=new Set;function Sd(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ir=ae.d;ae.d={f:CA,r:IA,D:DA,C:OA,L:jA,m:MA,X:VA,S:kA,M:PA};function CA(){var t=Ir.f(),r=yd();return t||r}function IA(t){var r=ni(t);r!==null&&r.tag===5&&r.type==="form"?Fv(r):Ir.r(t)}var jo=typeof document>"u"?null:document;function R0(t,r,a){var l=jo;if(l&&typeof r=="string"&&r){var h=Cn(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),S0.has(h)||(S0.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),on(r,"link",t),kt(r),l.head.appendChild(r)))}}function DA(t){Ir.D(t),R0("dns-prefetch",t,null)}function OA(t,r){Ir.C(t,r),R0("preconnect",t,r)}function jA(t,r,a){Ir.L(t,r,a);var l=jo;if(l&&t&&r){var h='link[rel="preload"][as="'+Cn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Cn(a.imageSizes)+'"]')):h+='[href="'+Cn(t)+'"]';var m=h;switch(r){case"style":m=Mo(t);break;case"script":m=ko(t)}fi.has(m)||(t=x({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),fi.set(m,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(uc(m))||r==="script"&&l.querySelector(dc(m))||(r=l.createElement("link"),on(r,"link",t),kt(r),l.head.appendChild(r)))}}function MA(t,r){Ir.m(t,r);var a=jo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Cn(l)+'"][href="'+Cn(t)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ko(t)}if(!fi.has(m)&&(t=x({rel:"modulepreload",href:t},r),fi.set(m,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(dc(m)))return}l=a.createElement("link"),on(l,"link",t),kt(l),a.head.appendChild(l)}}}function kA(t,r,a){Ir.S(t,r,a);var l=jo;if(l&&t){var h=Li(l).hoistableStyles,m=Mo(t);r=r||"default";var b=h.get(m);if(!b){var T={loading:0,preload:null};if(b=l.querySelector(uc(m)))T.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":r},a),(a=fi.get(m))&&Xm(t,a);var O=b=l.createElement("link");kt(O),on(O,"link",t),O._p=new Promise(function(G,W){O.onload=G,O.onerror=W}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Rd(b,r,l)}b={type:"stylesheet",instance:b,count:1,state:T},h.set(m,b)}}}function VA(t,r){Ir.X(t,r);var a=jo;if(a&&t){var l=Li(a).hoistableScripts,h=ko(t),m=l.get(h);m||(m=a.querySelector(dc(h)),m||(t=x({src:t,async:!0},r),(r=fi.get(h))&&Jm(t,r),m=a.createElement("script"),kt(m),on(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function PA(t,r){Ir.M(t,r);var a=jo;if(a&&t){var l=Li(a).hoistableScripts,h=ko(t),m=l.get(h);m||(m=a.querySelector(dc(h)),m||(t=x({src:t,async:!0,type:"module"},r),(r=fi.get(h))&&Jm(t,r),m=a.createElement("script"),kt(m),on(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function N0(t,r,a,l){var h=(h=Ae.current)?Sd(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Mo(a.href),a=Li(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Mo(a.href);var m=Li(h).hoistableStyles,b=m.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=h.querySelector(uc(t)))&&!m._p&&(b.instance=m,b.state.loading=5),fi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},fi.set(t,a),m||LA(h,t,a,b.state))),r&&l===null)throw Error(s(528,""));return b}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ko(a),a=Li(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Mo(t){return'href="'+Cn(t)+'"'}function uc(t){return'link[rel="stylesheet"]['+t+"]"}function C0(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function LA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),on(r,"link",a),kt(r),t.head.appendChild(r))}function ko(t){return'[src="'+Cn(t)+'"]'}function dc(t){return"script[async]"+t}function I0(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Cn(a.href)+'"]');if(l)return r.instance=l,kt(l),l;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),kt(l),on(l,"style",h),Rd(l,a.precedence,t),r.instance=l;case"stylesheet":h=Mo(a.href);var m=t.querySelector(uc(h));if(m)return r.state.loading|=4,r.instance=m,kt(m),m;l=C0(a),(h=fi.get(h))&&Xm(l,h),m=(t.ownerDocument||t).createElement("link"),kt(m);var b=m;return b._p=new Promise(function(T,O){b.onload=T,b.onerror=O}),on(m,"link",l),r.state.loading|=4,Rd(m,a.precedence,t),r.instance=m;case"script":return m=ko(a.src),(h=t.querySelector(dc(m)))?(r.instance=h,kt(h),h):(l=a,(h=fi.get(m))&&(l=x({},a),Jm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),kt(h),on(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Rd(l,a.precedence,t));return r.instance}function Rd(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,b=0;b<l.length;b++){var T=l[b];if(T.dataset.precedence===r)m=T;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Xm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Jm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Nd=null;function D0(t,r,a){if(Nd===null){var l=new Map,h=Nd=new Map;h.set(a,l)}else h=Nd,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[Vi]||m[Mt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(r)||"";b=t+b;var T=l.get(b);T?T.push(m):l.set(b,[m])}}return l}function O0(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function UA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function j0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function zA(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Mo(l.href),m=r.querySelector(uc(h));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Cd.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=m,kt(m);return}m=r.ownerDocument||r,l=C0(l),(h=fi.get(h))&&Xm(l,h),m=m.createElement("link"),kt(m);var b=m;b._p=new Promise(function(T,O){b.onload=T,b.onerror=O}),on(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Cd.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Wm=0;function BA(t,r){return t.stylesheets&&t.count===0&&Dd(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Dd(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+r);0<t.imgBytes&&Wm===0&&(Wm=62500*EA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Dd(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Wm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Cd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Id=null;function Dd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Id=new Map,r.forEach(qA,t),Id=null,Cd.call(t))}function qA(t,r){if(!(r.state.loading&4)){var a=Id.get(t);if(a)var l=a.get(null);else{a=new Map,Id.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var b=h[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}h=r.instance,b=h.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,h),a.set(b,h),this.count++,l=Cd.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var hc={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function FA(t,r,a,l,h,m,b,T,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nn(0),this.hiddenUpdates=Nn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function M0(t,r,a,l,h,m,b,T,O,G,W,ne){return t=new FA(t,r,a,b,O,G,W,ne,T),r=1,m===!0&&(r|=24),m=Fn(3,null,null,r),t.current=m,m.stateNode=t,r=Df(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},kf(m),t}function k0(t){return t?(t=ho,t):ho}function V0(t,r,a,l,h,m){h=k0(h),l.context===null?l.context=h:l.pendingContext=h,l=os(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=ls(t,l,r),a!==null&&(kn(a,t,r),Hl(a,t,r))}function P0(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Zm(t,r){P0(t,r),(t=t.alternate)&&P0(t,r)}function L0(t){if(t.tag===13||t.tag===31){var r=pa(t,67108864);r!==null&&kn(r,t,67108864),Zm(t,67108864)}}function U0(t){if(t.tag===13||t.tag===31){var r=Qn();r=ia(r);var a=pa(t,r);a!==null&&kn(a,t,r),Zm(t,r)}}var Od=!0;function HA(t,r,a,l){var h=J.T;J.T=null;var m=ae.p;try{ae.p=2,ep(t,r,a,l)}finally{ae.p=m,J.T=h}}function GA(t,r,a,l){var h=J.T;J.T=null;var m=ae.p;try{ae.p=8,ep(t,r,a,l)}finally{ae.p=m,J.T=h}}function ep(t,r,a,l){if(Od){var h=tp(l);if(h===null)zm(t,r,l,jd,a),B0(t,l);else if(YA(h,t,r,a,l))l.stopPropagation();else if(B0(t,l),r&4&&-1<$A.indexOf(t)){for(;h!==null;){var m=ni(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Yt(m.pendingLanes);if(b!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var O=1<<31-Tt(b);T.entanglements[1]|=O,b&=~O}Ji(m),(tt&6)===0&&(pd=Gt()+500,ac(0))}}break;case 31:case 13:T=pa(m,2),T!==null&&kn(T,m,2),yd(),Zm(m,2)}if(m=tp(l),m===null&&zm(t,r,l,jd,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else zm(t,r,l,null,a)}}function tp(t){return t=ii(t),np(t)}var jd=null;function np(t){if(jd=null,t=Pi(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=d(r),t!==null)return t;t=null}else if(a===31){if(t=p(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return jd=t,null}function z0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case Zs:return 2;case ea:return 8;case Mi:case gl:return 32;case $a:return 268435456;default:return 32}default:return 32}}var ip=!1,_s=null,bs=null,Es=null,fc=new Map,mc=new Map,xs=[],$A="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B0(t,r){switch(t){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":fc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":mc.delete(r.pointerId)}}function pc(t,r,a,l,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},r!==null&&(r=ni(r),r!==null&&L0(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function YA(t,r,a,l,h){switch(r){case"focusin":return _s=pc(_s,t,r,a,l,h),!0;case"dragenter":return bs=pc(bs,t,r,a,l,h),!0;case"mouseover":return Es=pc(Es,t,r,a,l,h),!0;case"pointerover":var m=h.pointerId;return fc.set(m,pc(fc.get(m)||null,t,r,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,mc.set(m,pc(mc.get(m)||null,t,r,a,l,h)),!0}return!1}function q0(t){var r=Pi(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){t.blockedOn=r,_i(t.priority,function(){U0(a)});return}}else if(r===31){if(r=p(a),r!==null){t.blockedOn=r,_i(t.priority,function(){U0(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Md(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=tp(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Nl=l,a.target.dispatchEvent(l),Nl=null}else return r=ni(a),r!==null&&L0(r),t.blockedOn=a,!1;r.shift()}return!0}function F0(t,r,a){Md(t)&&a.delete(r)}function QA(){ip=!1,_s!==null&&Md(_s)&&(_s=null),bs!==null&&Md(bs)&&(bs=null),Es!==null&&Md(Es)&&(Es=null),fc.forEach(F0),mc.forEach(F0)}function kd(t,r){t.blockedOn===r&&(t.blockedOn=null,ip||(ip=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,QA)))}var Vd=null;function H0(t){Vd!==t&&(Vd=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Vd===t&&(Vd=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(np(l||a)===null)continue;break}var m=ni(a);m!==null&&(t.splice(r,3),r-=3,tm(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Vo(t){function r(O){return kd(O,t)}_s!==null&&kd(_s,t),bs!==null&&kd(bs,t),Es!==null&&kd(Es,t),fc.forEach(r),mc.forEach(r);for(var a=0;a<xs.length;a++){var l=xs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<xs.length&&(a=xs[0],a.blockedOn===null);)q0(a),a.blockedOn===null&&xs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],b=h[Jt]||null;if(typeof m=="function")b||H0(a);else if(b){var T=null;if(m&&m.hasAttribute("formAction")){if(h=m,b=m[Jt]||null)T=b.formAction;else if(np(h)!==null)continue}else T=b.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),H0(a)}}}function G0(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function rp(t){this._internalRoot=t}Pd.prototype.render=rp.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Qn();V0(a,l,t,r,null,null)},Pd.prototype.unmount=rp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;V0(t.current,2,null,t,null,null),yd(),r[ki]=null}};function Pd(t){this._internalRoot=t}Pd.prototype.unstable_scheduleHydration=function(t){if(t){var r=yu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<xs.length&&r!==0&&r<xs[a].priority;a++);xs.splice(a,0,t),a===0&&q0(t)}};var $0=e.version;if($0!=="19.2.0")throw Error(s(527,$0,"19.2.0"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(r),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var KA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ld.isDisabled&&Ld.supportsFiber)try{Un=Ld.inject(KA),$t=Ld}catch{}}return yc.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Zv,m=e_,b=t_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=M0(t,1,!1,null,null,a,l,null,h,m,b,G0),t[ki]=r.current,Um(t),new rp(r)},yc.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",m=Zv,b=e_,T=t_,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),r=M0(t,1,!0,r,a??null,l,h,O,m,b,T,G0),r.context=k0(null),a=r.current,l=Qn(),l=ia(l),h=os(l),h.callback=null,ls(a,h,l),a=l,r.current.lanes=a,dr(r,a),Ji(r),t[ki]=r.current,Um(t),new Pd(r)},yc.version="19.2.0",yc}var nb;function sS(){if(nb)return op.exports;nb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),op.exports=rS(),op.exports}var aS=sS();const oS=e1(aS);var ib="popstate";function lS(i={}){function e(o,c){let{pathname:d="/",search:p="",hash:g=""}=za(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Dp("",{pathname:d,search:p,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let d=o.document.querySelector("base"),p="";if(d&&d.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");p=y===-1?g:g.slice(0,y)}return p+"#"+(typeof c=="string"?c:Pc(c))}function s(o,c){ei(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return uS(e,n,s,i)}function xt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ei(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cS(){return Math.random().toString(36).substring(2,10)}function rb(i,e){return{usr:i.state,key:i.key,idx:e}}function Dp(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?za(e):e,state:n,key:e&&e.key||s||cS()}}function Pc({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function za(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function uS(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,p="POP",g=null,y=_();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function _(){return(d.state||{idx:null}).idx}function x(){p="POP";let k=_(),j=k==null?null:k-y;y=k,g&&g({action:p,location:q.location,delta:j})}function w(k,j){p="PUSH";let X=Dp(q.location,k,j);n&&n(X,k),y=_()+1;let Q=rb(X,y),re=q.createHref(X);try{d.pushState(Q,"",re)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(re)}c&&g&&g({action:p,location:q.location,delta:1})}function D(k,j){p="REPLACE";let X=Dp(q.location,k,j);n&&n(X,k),y=_();let Q=rb(X,y),re=q.createHref(X);d.replaceState(Q,"",re),c&&g&&g({action:p,location:q.location,delta:0})}function R(k){return dS(k)}let q={get action(){return p},get location(){return i(o,d)},listen(k){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(ib,x),g=k,()=>{o.removeEventListener(ib,x),g=null}},createHref(k){return e(o,k)},createURL:R,encodeLocation(k){let j=R(k);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:w,replace:D,go(k){return d.go(k)}};return q}function dS(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),xt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Pc(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function t1(i,e,n="/"){return hS(i,e,n,!1)}function hS(i,e,n,s){let o=typeof e=="string"?za(e):e,c=Ur(o.pathname||"/",n);if(c==null)return null;let d=n1(i);fS(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=wS(c);p=xS(d[g],y,s)}return p}function n1(i,e=[],n=[],s="",o=!1){let c=(d,p,g=o,y)=>{let _={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&g)return;xt(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let x=Vr([s,_.relativePath]),w=n.concat(_);d.children&&d.children.length>0&&(xt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),n1(d.children,e,w,x,g)),!(d.path==null&&!d.index)&&e.push({path:x,score:bS(x,d.index),routesMeta:w})};return i.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))c(d,p);else for(let g of i1(d.path))c(d,p,!0,g)}),e}function i1(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=i1(s.join("/")),p=[];return p.push(...d.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...d),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function fS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:ES(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var mS=/^:[\w-]+$/,pS=3,gS=2,yS=1,vS=10,_S=-2,sb=i=>i==="*";function bS(i,e){let n=i.split("/"),s=n.length;return n.some(sb)&&(s+=_S),e&&(s+=gS),n.filter(o=>!sb(o)).reduce((o,c)=>o+(mS.test(c)?pS:c===""?yS:vS),s)}function ES(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function xS(i,e,n=!1){let{routesMeta:s}=i,o={},c="/",d=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,_=c==="/"?e:e.slice(c.length)||"/",x=lh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},_),w=g.route;if(!x&&y&&n&&!s[s.length-1].route.index&&(x=lh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!x)return null;Object.assign(o,x.params),d.push({params:o,pathname:Vr([c,x.pathname]),pathnameBase:NS(Vr([c,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(c=Vr([c,x.pathnameBase]))}return d}function lh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=TS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:_,isOptional:x},w)=>{if(_==="*"){let R=p[w]||"";d=c.slice(0,c.length-R.length).replace(/(.)\/+$/,"$1")}const D=p[w];return x&&!D?y[_]=void 0:y[_]=(D||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:i}}function TS(i,e=!1,n=!0){ei(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function wS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ei(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ur(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function AS(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?za(i):i;return{pathname:n?n.startsWith("/")?n:SS(n,e):e,search:CS(s),hash:IS(o)}}function SS(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function dp(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dg(i){let e=RS(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function hg(i,e,n,s=!1){let o;typeof i=="string"?o=za(i):(o={...i},xt(!o.pathname||!o.pathname.includes("?"),dp("?","pathname","search",o)),xt(!o.pathname||!o.pathname.includes("#"),dp("#","pathname","hash",o)),xt(!o.search||!o.search.includes("#"),dp("#","search","hash",o)));let c=i===""||o.pathname==="",d=c?"/":o.pathname,p;if(d==null)p=n;else{let x=e.length-1;if(!s&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),x-=1;o.pathname=w.join("/")}p=x>=0?e[x]:"/"}let g=AS(o,p),y=d&&d!=="/"&&d.endsWith("/"),_=(c||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||_)&&(g.pathname+="/"),g}var Vr=i=>i.join("/").replace(/\/\/+/g,"/"),NS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),CS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,IS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function DS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var r1=["POST","PUT","PATCH","DELETE"];new Set(r1);var OS=["GET",...r1];new Set(OS);var al=M.createContext(null);al.displayName="DataRouter";var kh=M.createContext(null);kh.displayName="DataRouterState";M.createContext(!1);var s1=M.createContext({isTransitioning:!1});s1.displayName="ViewTransition";var jS=M.createContext(new Map);jS.displayName="Fetchers";var MS=M.createContext(null);MS.displayName="Await";var Oi=M.createContext(null);Oi.displayName="Navigation";var Wc=M.createContext(null);Wc.displayName="Location";var mi=M.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var fg=M.createContext(null);fg.displayName="RouteError";function kS(i,{relative:e}={}){xt(ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=M.useContext(Oi),{hash:o,pathname:c,search:d}=Zc(i,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:Vr([n,c])),s.createHref({pathname:p,search:d,hash:o})}function ol(){return M.useContext(Wc)!=null}function lr(){return xt(ol(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Wc).location}var a1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function o1(i){M.useContext(Oi).static||M.useLayoutEffect(i)}function Hr(){let{isDataRoute:i}=M.useContext(mi);return i?XS():VS()}function VS(){xt(ol(),"useNavigate() may be used only in the context of a <Router> component.");let i=M.useContext(al),{basename:e,navigator:n}=M.useContext(Oi),{matches:s}=M.useContext(mi),{pathname:o}=lr(),c=JSON.stringify(dg(s)),d=M.useRef(!1);return o1(()=>{d.current=!0}),M.useCallback((g,y={})=>{if(ei(d.current,a1),!d.current)return;if(typeof g=="number"){n.go(g);return}let _=hg(g,JSON.parse(c),o,y.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Vr([e,_.pathname])),(y.replace?n.replace:n.push)(_,y.state,y)},[e,n,c,o,i])}var PS=M.createContext(null);function LS(i){let e=M.useContext(mi).outlet;return M.useMemo(()=>e&&M.createElement(PS.Provider,{value:i},e),[e,i])}function mg(){let{matches:i}=M.useContext(mi),e=i[i.length-1];return e?e.params:{}}function Zc(i,{relative:e}={}){let{matches:n}=M.useContext(mi),{pathname:s}=lr(),o=JSON.stringify(dg(n));return M.useMemo(()=>hg(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function US(i,e){return l1(i,e)}function l1(i,e,n,s,o){xt(ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=M.useContext(Oi),{matches:d}=M.useContext(mi),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",_=p?p.pathnameBase:"/",x=p&&p.route;{let X=x&&x.path||"";c1(y,!x||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let w=lr(),D;if(e){let X=typeof e=="string"?za(e):e;xt(_==="/"||X.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${X.pathname}" was given in the \`location\` prop.`),D=X}else D=w;let R=D.pathname||"/",q=R;if(_!=="/"){let X=_.replace(/^\//,"").split("/");q="/"+R.replace(/^\//,"").split("/").slice(X.length).join("/")}let k=t1(i,{pathname:q});ei(x||k!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),ei(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=HS(k&&k.map(X=>Object.assign({},X,{params:Object.assign({},g,X.params),pathname:Vr([_,c.encodeLocation?c.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?_:Vr([_,c.encodeLocation?c.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),d,n,s,o);return e&&j?M.createElement(Wc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},j):j}function zS(){let i=KS(),e=DS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:c},"ErrorBoundary")," or"," ",M.createElement("code",{style:c},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:o},n):null,d)}var BS=M.createElement(zS,null),qS=class extends M.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?M.createElement(mi.Provider,{value:this.props.routeContext},M.createElement(fg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FS({routeContext:i,match:e,children:n}){let s=M.useContext(al);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(mi.Provider,{value:i},n)}function HS(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,d=n?.errors;if(d!=null){let y=c.findIndex(_=>_.route.id&&d?.[_.route.id]!==void 0);xt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let p=!1,g=-1;if(n)for(let y=0;y<c.length;y++){let _=c[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=y),_.route.id){let{loaderData:x,errors:w}=n,D=_.route.loader&&!x.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||D){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((y,_,x)=>{let w,D=!1,R=null,q=null;n&&(w=d&&_.route.id?d[_.route.id]:void 0,R=_.route.errorElement||BS,p&&(g<0&&x===0?(c1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,q=null):g===x&&(D=!0,q=_.route.hydrateFallbackElement||null)));let k=e.concat(c.slice(0,x+1)),j=()=>{let X;return w?X=R:D?X=q:_.route.Component?X=M.createElement(_.route.Component,null):_.route.element?X=_.route.element:X=y,M.createElement(FS,{match:_,routeContext:{outlet:y,matches:k,isDataRoute:n!=null},children:X})};return n&&(_.route.ErrorBoundary||_.route.errorElement||x===0)?M.createElement(qS,{location:n.location,revalidation:n.revalidation,component:R,error:w,children:j(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:s}):j()},null)}function pg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GS(i){let e=M.useContext(al);return xt(e,pg(i)),e}function $S(i){let e=M.useContext(kh);return xt(e,pg(i)),e}function YS(i){let e=M.useContext(mi);return xt(e,pg(i)),e}function gg(i){let e=YS(i),n=e.matches[e.matches.length-1];return xt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function QS(){return gg("useRouteId")}function KS(){let i=M.useContext(fg),e=$S("useRouteError"),n=gg("useRouteError");return i!==void 0?i:e.errors?.[n]}function XS(){let{router:i}=GS("useNavigate"),e=gg("useNavigate"),n=M.useRef(!1);return o1(()=>{n.current=!0}),M.useCallback(async(o,c={})=>{ei(n.current,a1),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var ab={};function c1(i,e,n){!e&&!ab[i]&&(ab[i]=!0,ei(!1,n))}M.memo(JS);function JS({routes:i,future:e,state:n,unstable_onError:s}){return l1(i,void 0,n,s,e)}function Lc({to:i,replace:e,state:n,relative:s}){xt(ol(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=M.useContext(Oi);ei(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=M.useContext(mi),{pathname:d}=lr(),p=Hr(),g=hg(i,dg(c),d,s==="path"),y=JSON.stringify(g);return M.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:s})},[p,y,s,e,n]),null}function WS(i){return LS(i.context)}function Tn(i){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZS({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1}){xt(!ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),p=M.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof n=="string"&&(n=za(n));let{pathname:g="/",search:y="",hash:_="",state:x=null,key:w="default"}=n,D=M.useMemo(()=>{let R=Ur(g,d);return R==null?null:{location:{pathname:R,search:y,hash:_,state:x,key:w},navigationType:s}},[d,g,y,_,x,w,s]);return ei(D!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:M.createElement(Oi.Provider,{value:p},M.createElement(Wc.Provider,{children:e,value:D}))}function e2({children:i,location:e}){return US(Op(i),e)}function Op(i,e=[]){let n=[];return M.Children.forEach(i,(s,o)=>{if(!M.isValidElement(s))return;let c=[...e,o];if(s.type===M.Fragment){n.push.apply(n,Op(s.props.children,c));return}xt(s.type===Tn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Op(s.props.children,c)),n.push(d)}),n}var Kd="get",Xd="application/x-www-form-urlencoded";function Vh(i){return i!=null&&typeof i.tagName=="string"}function t2(i){return Vh(i)&&i.tagName.toLowerCase()==="button"}function n2(i){return Vh(i)&&i.tagName.toLowerCase()==="form"}function i2(i){return Vh(i)&&i.tagName.toLowerCase()==="input"}function r2(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function s2(i,e){return i.button===0&&(!e||e==="_self")&&!r2(i)}function jp(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,n)=>{let s=i[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function a2(i,e){let n=jp(i);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(c=>{n.append(o,c)})}),n}var Ud=null;function o2(){if(Ud===null)try{new FormData(document.createElement("form"),0),Ud=!1}catch{Ud=!0}return Ud}var l2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hp(i){return i!=null&&!l2.has(i)?(ei(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xd}"`),null):i}function c2(i,e){let n,s,o,c,d;if(n2(i)){let p=i.getAttribute("action");s=p?Ur(p,e):null,n=i.getAttribute("method")||Kd,o=hp(i.getAttribute("enctype"))||Xd,c=new FormData(i)}else if(t2(i)||i2(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||p.getAttribute("action");if(s=g?Ur(g,e):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||Kd,o=hp(i.getAttribute("formenctype"))||hp(p.getAttribute("enctype"))||Xd,c=new FormData(p,i),!o2()){let{name:y,type:_,value:x}=i;if(_==="image"){let w=y?`${y}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else y&&c.append(y,x)}}else{if(Vh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kd,s=null,o=Xd,d=i}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function u2(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ur(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function d2(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h2(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function f2(i,e,n){let s=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await d2(c,n);return d.links?d.links():[]}return[]}));return y2(s.flat(1).filter(h2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ob(i,e,n,s,o,c){let d=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let _=s.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function m2(i,e,{includeHydrateFallback:n}={}){return p2(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function p2(i){return[...new Set(i)]}function g2(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function y2(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let c=JSON.stringify(g2(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function u1(){let i=M.useContext(al);return yg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function v2(){let i=M.useContext(kh);return yg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var vg=M.createContext(void 0);vg.displayName="FrameworkContext";function d1(){let i=M.useContext(vg);return yg(i,"You must render this element inside a <HydratedRouter> element"),i}function _2(i,e){let n=M.useContext(vg),[s,o]=M.useState(!1),[c,d]=M.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:_,onTouchStart:x}=e,w=M.useRef(null);M.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let q=j=>{j.forEach(X=>{d(X.isIntersecting)})},k=new IntersectionObserver(q,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[i]),M.useEffect(()=>{if(s){let q=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(q)}}},[s]);let D=()=>{o(!0)},R=()=>{o(!1),d(!1)};return n?i!=="intent"?[c,w,{}]:[c,w,{onFocus:vc(p,D),onBlur:vc(g,R),onMouseEnter:vc(y,D),onMouseLeave:vc(_,R),onTouchStart:vc(x,D)}]:[!1,w,{}]}function vc(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function b2({page:i,...e}){let{router:n}=u1(),s=M.useMemo(()=>t1(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?M.createElement(x2,{page:i,matches:s,...e}):null}function E2(i){let{manifest:e,routeModules:n}=d1(),[s,o]=M.useState([]);return M.useEffect(()=>{let c=!1;return f2(i,e,n).then(d=>{c||o(d)}),()=>{c=!0}},[i,e,n]),s}function x2({page:i,matches:e,...n}){let s=lr(),{manifest:o,routeModules:c}=d1(),{basename:d}=u1(),{loaderData:p,matches:g}=v2(),y=M.useMemo(()=>ob(i,e,g,o,s,"data"),[i,e,g,o,s]),_=M.useMemo(()=>ob(i,e,g,o,s,"assets"),[i,e,g,o,s]),x=M.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let R=new Set,q=!1;if(e.forEach(j=>{let X=o.routes[j.route.id];!X||!X.hasLoader||(!y.some(Q=>Q.route.id===j.route.id)&&j.route.id in p&&c[j.route.id]?.shouldRevalidate||X.hasClientLoader?q=!0:R.add(j.route.id))}),R.size===0)return[];let k=u2(i,d,"data");return q&&R.size>0&&k.searchParams.set("_routes",e.filter(j=>R.has(j.route.id)).map(j=>j.route.id).join(",")),[k.pathname+k.search]},[d,p,s,o,y,e,i,c]),w=M.useMemo(()=>m2(_,o),[_,o]),D=E2(_);return M.createElement(M.Fragment,null,x.map(R=>M.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),w.map(R=>M.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),D.map(({key:R,link:q})=>M.createElement("link",{key:R,nonce:n.nonce,...q})))}function T2(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var h1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h1&&(window.__reactRouterVersion="7.9.5")}catch{}function w2({basename:i,children:e,window:n}){let s=M.useRef();s.current==null&&(s.current=lS({window:n,v5Compat:!0}));let o=s.current,[c,d]=M.useState({action:o.action,location:o.location}),p=M.useCallback(g=>{M.startTransition(()=>d(g))},[d]);return M.useLayoutEffect(()=>o.listen(p),[o,p]),M.createElement(ZS,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:o})}var f1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ch=M.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:p,target:g,to:y,preventScrollReset:_,viewTransition:x,...w},D){let{basename:R}=M.useContext(Oi),q=typeof y=="string"&&f1.test(y),k,j=!1;if(typeof y=="string"&&q&&(k=y,h1))try{let C=new URL(window.location.href),U=y.startsWith("//")?new URL(C.protocol+y):new URL(y),V=Ur(U.pathname,R);U.origin===C.origin&&V!=null?y=V+U.search+U.hash:j=!0}catch{ei(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=kS(y,{relative:o}),[Q,re,ce]=_2(s,w),de=N2(y,{replace:d,state:p,target:g,preventScrollReset:_,relative:o,viewTransition:x});function N(C){e&&e(C),C.defaultPrevented||de(C)}let S=M.createElement("a",{...w,...ce,href:k||X,onClick:j||c?e:N,ref:T2(D,re),target:g,"data-discover":!q&&n==="render"?"true":void 0});return Q&&!q?M.createElement(M.Fragment,null,S,M.createElement(b2,{page:X})):S});ch.displayName="Link";var A2=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:p,children:g,...y},_){let x=Zc(d,{relative:y.relative}),w=lr(),D=M.useContext(kh),{navigator:R,basename:q}=M.useContext(Oi),k=D!=null&&M2(x)&&p===!0,j=R.encodeLocation?R.encodeLocation(x).pathname:x.pathname,X=w.pathname,Q=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(X=X.toLowerCase(),Q=Q?Q.toLowerCase():null,j=j.toLowerCase()),Q&&q&&(Q=Ur(Q,q)||Q);const re=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ce=X===j||!o&&X.startsWith(j)&&X.charAt(re)==="/",de=Q!=null&&(Q===j||!o&&Q.startsWith(j)&&Q.charAt(j.length)==="/"),N={isActive:ce,isPending:de,isTransitioning:k},S=ce?e:void 0,C;typeof s=="function"?C=s(N):C=[s,ce?"active":null,de?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let U=typeof c=="function"?c(N):c;return M.createElement(ch,{...y,"aria-current":S,className:C,ref:_,style:U,to:d,viewTransition:p},typeof g=="function"?g(N):g)});A2.displayName="NavLink";var S2=M.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:d=Kd,action:p,onSubmit:g,relative:y,preventScrollReset:_,viewTransition:x,...w},D)=>{let R=O2(),q=j2(p,{relative:y}),k=d.toLowerCase()==="get"?"get":"post",j=typeof p=="string"&&f1.test(p),X=Q=>{if(g&&g(Q),Q.defaultPrevented)return;Q.preventDefault();let re=Q.nativeEvent.submitter,ce=re?.getAttribute("formmethod")||d;R(re||Q.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:c,relative:y,preventScrollReset:_,viewTransition:x})};return M.createElement("form",{ref:D,method:k,action:q,onSubmit:s?g:X,...w,"data-discover":!j&&i==="render"?"true":void 0})});S2.displayName="Form";function R2(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m1(i){let e=M.useContext(al);return xt(e,R2(i)),e}function N2(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let p=Hr(),g=lr(),y=Zc(i,{relative:c});return M.useCallback(_=>{if(s2(_,e)){_.preventDefault();let x=n!==void 0?n:Pc(g)===Pc(y);p(i,{replace:x,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[g,p,y,n,s,e,i,o,c,d])}function C2(i){ei(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=M.useRef(jp(i)),n=M.useRef(!1),s=lr(),o=M.useMemo(()=>a2(s.search,n.current?null:e.current),[s.search]),c=Hr(),d=M.useCallback((p,g)=>{const y=jp(typeof p=="function"?p(new URLSearchParams(o)):p);n.current=!0,c("?"+y,g)},[c,o]);return[o,d]}var I2=0,D2=()=>`__${String(++I2)}__`;function O2(){let{router:i}=m1("useSubmit"),{basename:e}=M.useContext(Oi),n=QS();return M.useCallback(async(s,o={})=>{let{action:c,method:d,encType:p,formData:g,body:y}=c2(s,e);if(o.navigate===!1){let _=o.fetcherKey||D2();await i.fetch(_,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await i.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function j2(i,{relative:e}={}){let{basename:n}=M.useContext(Oi),s=M.useContext(mi);xt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Zc(i||".",{relative:e})},d=lr();if(i==null){c.search=d.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(_=>_==="")){p.delete("index"),g.filter(x=>x).forEach(x=>p.append("index",x));let _=p.toString();c.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Vr([n,c.pathname])),Pc(c)}function M2(i,{relative:e}={}){let n=M.useContext(s1);xt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=m1("useViewTransitionState"),o=Zc(i,{relative:e});if(!n.isTransitioning)return!1;let c=Ur(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=Ur(n.nextLocation.pathname,s)||n.nextLocation.pathname;return lh(o.pathname,d)!=null||lh(o.pathname,c)!=null}const k2=()=>{};var lb={};const p1=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},V2=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],d=i[n++],p=i[n++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],d=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},g1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],d=o+1<i.length,p=d?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,_=c>>2,x=(c&3)<<4|p>>4;let w=(p&15)<<2|y>>6,D=y&63;g||(D=64,d||(w=64)),s.push(n[_],n[x],n[w],n[D])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(p1(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):V2(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],p=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const x=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||p==null||y==null||x==null)throw new P2;const w=c<<2|p>>4;if(s.push(w),y!==64){const D=p<<4&240|y>>2;if(s.push(D),x!==64){const R=y<<6&192|x;s.push(R)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class P2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L2=function(i){const e=p1(i);return g1.encodeByteArray(e,!0)},uh=function(i){return L2(i).replace(/\./g,"")},y1=function(i){try{return g1.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function U2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const z2=()=>U2().__FIREBASE_DEFAULTS__,B2=()=>{if(typeof process>"u"||typeof lb>"u")return;const i=lb.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},q2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&y1(i[1]);return e&&JSON.parse(e)},Ph=()=>{try{return k2()||z2()||B2()||q2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},v1=i=>Ph()?.emulatorHosts?.[i],_1=i=>{const e=v1(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},b1=()=>Ph()?.config,E1=i=>Ph()?.[`_${i}`];class F2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ys(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _g(i){return(await fetch(i,{credentials:"include"})).ok}function x1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[uh(JSON.stringify(n)),uh(JSON.stringify(d)),""].join(".")}const Rc={};function H2(){const i={prod:[],emulator:[]};for(const e of Object.keys(Rc))Rc[e]?i.emulator.push(e):i.prod.push(e);return i}function G2(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let cb=!1;function bg(i,e){if(typeof window>"u"||typeof document>"u"||!Ys(window.location.host)||Rc[i]===e||Rc[i]||cb)return;Rc[i]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=H2().prod.length>0;function d(){const w=document.getElementById(s);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,D){w.setAttribute("width","24"),w.setAttribute("id",D),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{cb=!0,d()},w}function _(w,D){w.setAttribute("id",D),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function x(){const w=G2(s),D=n("text"),R=document.getElementById(D)||document.createElement("span"),q=n("learnmore"),k=document.getElementById(q)||document.createElement("a"),j=n("preprendIcon"),X=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Q=w.element;p(Q),_(k,q);const re=y();g(X,j),Q.append(X,R,k,re),document.body.appendChild(Q)}c?(R.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function Y2(){const i=Ph()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function K2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function X2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function J2(){const i=gn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function W2(){return!Y2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z2(){try{return typeof indexedDB=="object"}catch{return!1}}function eR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const tR="FirebaseError";class cr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=tR,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?nR(c,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new cr(o,p,s)}}function nR(i,e){return i.replace(iR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const iR=/\{\$([^}]+)}/g;function rR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Oa(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=i[o],d=e[o];if(ub(c)&&ub(d)){if(!Oa(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function ub(i){return i!==null&&typeof i=="object"}function tu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function xc(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Tc(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function sR(i,e){const n=new aR(i,e);return n.subscribe.bind(n)}class aR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");oR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=fp),o.error===void 0&&(o.error=fp),o.complete===void 0&&(o.complete=fp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function fp(){}function at(i){return i&&i._delegate?i._delegate:i}class zs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Na="[DEFAULT]";class lR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new F2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uR(e))try{this.getOrInitializeService({instanceIdentifier:Na})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Na){return this.instances.has(e)}getOptions(e=Na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Na){return this.component?this.component.multipleInstances?e:Na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cR(i){return i===Na?void 0:i}function uR(i){return i.instantiationMode==="EAGER"}class dR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var He;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(He||(He={}));const hR={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},fR=He.INFO,mR={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},pR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=mR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Eg{constructor(e){this.name=e,this._logLevel=fR,this._logHandler=pR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const gR=(i,e)=>e.some(n=>i instanceof n);let db,hb;function yR(){return db||(db=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vR(){return hb||(hb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T1=new WeakMap,Mp=new WeakMap,w1=new WeakMap,mp=new WeakMap,xg=new WeakMap;function _R(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{n(js(i.result)),o()},d=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&T1.set(n,i)}).catch(()=>{}),xg.set(e,i),e}function bR(i){if(Mp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});Mp.set(i,e)}let kp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Mp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||w1.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return js(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function ER(i){kp=i(kp)}function xR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(pp(this),e,...n);return w1.set(s,e.sort?e.sort():[e]),js(s)}:vR().includes(i)?function(...e){return i.apply(pp(this),e),js(T1.get(this))}:function(...e){return js(i.apply(pp(this),e))}}function TR(i){return typeof i=="function"?xR(i):(i instanceof IDBTransaction&&bR(i),gR(i,yR())?new Proxy(i,kp):i)}function js(i){if(i instanceof IDBRequest)return _R(i);if(mp.has(i))return mp.get(i);const e=TR(i);return e!==i&&(mp.set(i,e),xg.set(e,i)),e}const pp=i=>xg.get(i);function wR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(i,e),p=js(d);return s&&d.addEventListener("upgradeneeded",g=>{s(js(d.result),g.oldVersion,g.newVersion,js(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const AR=["get","getKey","getAll","getAllKeys","count"],SR=["put","add","delete","clear"],gp=new Map;function fb(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(gp.get(e))return gp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=SR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||AR.includes(n)))return;const c=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return gp.set(e,c),c}ER(i=>({...i,get:(e,n,s)=>fb(e,n)||i.get(e,n,s),has:(e,n)=>!!fb(e,n)||i.has(e,n)}));class RR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function NR(i){return i.getComponent()?.type==="VERSION"}const Vp="@firebase/app",mb="0.14.6";const zr=new Eg("@firebase/app"),CR="@firebase/app-compat",IR="@firebase/analytics-compat",DR="@firebase/analytics",OR="@firebase/app-check-compat",jR="@firebase/app-check",MR="@firebase/auth",kR="@firebase/auth-compat",VR="@firebase/database",PR="@firebase/data-connect",LR="@firebase/database-compat",UR="@firebase/functions",zR="@firebase/functions-compat",BR="@firebase/installations",qR="@firebase/installations-compat",FR="@firebase/messaging",HR="@firebase/messaging-compat",GR="@firebase/performance",$R="@firebase/performance-compat",YR="@firebase/remote-config",QR="@firebase/remote-config-compat",KR="@firebase/storage",XR="@firebase/storage-compat",JR="@firebase/firestore",WR="@firebase/ai",ZR="@firebase/firestore-compat",eN="firebase",tN="12.6.0";const Pp="[DEFAULT]",nN={[Vp]:"fire-core",[CR]:"fire-core-compat",[DR]:"fire-analytics",[IR]:"fire-analytics-compat",[jR]:"fire-app-check",[OR]:"fire-app-check-compat",[MR]:"fire-auth",[kR]:"fire-auth-compat",[VR]:"fire-rtdb",[PR]:"fire-data-connect",[LR]:"fire-rtdb-compat",[UR]:"fire-fn",[zR]:"fire-fn-compat",[BR]:"fire-iid",[qR]:"fire-iid-compat",[FR]:"fire-fcm",[HR]:"fire-fcm-compat",[GR]:"fire-perf",[$R]:"fire-perf-compat",[YR]:"fire-rc",[QR]:"fire-rc-compat",[KR]:"fire-gcs",[XR]:"fire-gcs-compat",[JR]:"fire-fst",[ZR]:"fire-fst-compat",[WR]:"fire-vertex","fire-js":"fire-js",[eN]:"fire-js-all"};const Uc=new Map,iN=new Map,Lp=new Map;function pb(i,e){try{i.container.addComponent(e)}catch(n){zr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ja(i){const e=i.name;if(Lp.has(e))return zr.debug(`There were multiple attempts to register component ${e}.`),!1;Lp.set(e,i);for(const n of Uc.values())pb(n,i);for(const n of iN.values())pb(n,i);return!0}function Lh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Kn(i){return i==null?!1:i.settings!==void 0}const rN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new eu("app","Firebase",rN);class sN{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}const Ba=tN;function Tg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Pp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ms.create("bad-app-name",{appName:String(o)});if(n||(n=b1()),!n)throw Ms.create("no-options");const c=Uc.get(o);if(c){if(Oa(n,c.options)&&Oa(s,c.config))return c;throw Ms.create("duplicate-app",{appName:o})}const d=new dR(o);for(const g of Lp.values())d.addComponent(g);const p=new sN(n,s,d);return Uc.set(o,p),p}function nu(i=Pp){const e=Uc.get(i);if(!e&&i===Pp&&b1())return Tg();if(!e)throw Ms.create("no-app",{appName:i});return e}function A1(){return Array.from(Uc.values())}function er(i,e,n){let s=nN[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zr.warn(d.join(" "));return}ja(new zs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const aN="firebase-heartbeat-database",oN=1,zc="firebase-heartbeat-store";let yp=null;function S1(){return yp||(yp=wR(aN,oN,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(zc)}catch(n){console.warn(n)}}}}).catch(i=>{throw Ms.create("idb-open",{originalErrorMessage:i.message})})),yp}async function lN(i){try{const n=(await S1()).transaction(zc),s=await n.objectStore(zc).get(R1(i));return await n.done,s}catch(e){if(e instanceof cr)zr.warn(e.message);else{const n=Ms.create("idb-get",{originalErrorMessage:e?.message});zr.warn(n.message)}}}async function gb(i,e){try{const s=(await S1()).transaction(zc,"readwrite");await s.objectStore(zc).put(e,R1(i)),await s.done}catch(n){if(n instanceof cr)zr.warn(n.message);else{const s=Ms.create("idb-set",{originalErrorMessage:n?.message});zr.warn(s.message)}}}function R1(i){return`${i.name}!${i.options.appId}`}const cN=1024,uN=30;class dN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fN(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=yb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>uN){const o=mN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){zr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yb(),{heartbeatsToSend:n,unsentEntries:s}=hN(this._heartbeatsCache.heartbeats),o=uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return zr.warn(e),""}}}function yb(){return new Date().toISOString().substring(0,10)}function hN(i,e=cN){const n=[];let s=i.slice();for(const o of i){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),vb(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),vb(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class fN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z2()?eR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return gb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return gb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function vb(i){return uh(JSON.stringify({version:2,heartbeats:i})).length}function mN(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function pN(i){ja(new zs("platform-logger",e=>new RR(e),"PRIVATE")),ja(new zs("heartbeat",e=>new dN(e),"PRIVATE")),er(Vp,mb,i),er(Vp,mb,"esm2020"),er("fire-js","")}pN("");function N1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gN=N1,C1=new eu("auth","Firebase",N1());const dh=new Eg("@firebase/auth");function yN(i,...e){dh.logLevel<=He.WARN&&dh.warn(`Auth (${Ba}): ${i}`,...e)}function Jd(i,...e){dh.logLevel<=He.ERROR&&dh.error(`Auth (${Ba}): ${i}`,...e)}function Ii(i,...e){throw wg(i,...e)}function tr(i,...e){return wg(i,...e)}function I1(i,e,n){const s={...gN(),[e]:n};return new eu("auth","Firebase",s).create(e,{appName:i.name})}function Pr(i){return I1(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wg(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return C1.create(i,...e)}function Ne(i,e,...n){if(!i)throw wg(e,...n)}function jr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Jd(e),new Error(e)}function Br(i,e){i||jr(e)}function Up(){return typeof self<"u"&&self.location?.href||""}function vN(){return _b()==="http:"||_b()==="https:"}function _b(){return typeof self<"u"&&self.location?.protocol||null}function _N(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vN()||K2()||"connection"in navigator)?navigator.onLine:!0}function bN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Br(n>e,"Short delay should be less than long delay!"),this.isMobile=$2()||X2()}get(){return _N()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ag(i,e){Br(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class D1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const EN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const xN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TN=new iu(3e4,6e4);function Qs(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Gr(i,e,n,s,o={}){return O1(i,o,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const p=tu({key:i.config.apiKey,...d}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...c};return Q2()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Ys(i.emulatorConfig.host)&&(y.credentials="include"),D1.fetch()(await j1(i,i.config.apiHost,n,p),y)})}async function O1(i,e,n){i._canInitEmulator=!1;const s={...EN,...e};try{const o=new AN(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw zd(i,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw zd(i,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw zd(i,"email-already-in-use",d);if(g==="USER_DISABLED")throw zd(i,"user-disabled",d);const _=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw I1(i,_,y);Ii(i,_)}}catch(o){if(o instanceof cr)throw o;Ii(i,"network-request-failed",{message:String(o)})}}async function ru(i,e,n,s,o={}){const c=await Gr(i,e,n,s,o);return"mfaPendingCredential"in c&&Ii(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function j1(i,e,n,s){const o=`${e}${n}?${s}`,c=i,d=c.config.emulator?Ag(i.config,o):`${i.config.apiScheme}://${o}`;return xN.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function wN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(tr(this.auth,"network-request-failed")),TN.get())})}}function zd(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=tr(i,e,s);return o.customData._tokenResponse=n,o}function bb(i){return i!==void 0&&i.enterprise!==void 0}class SN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RN(i,e){return Gr(i,"GET","/v2/recaptchaConfig",Qs(i,e))}async function NN(i,e){return Gr(i,"POST","/v1/accounts:delete",e)}async function hh(i,e){return Gr(i,"POST","/v1/accounts:lookup",e)}function Nc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CN(i,e=!1){const n=at(i),s=await n.getIdToken(e),o=Sg(s);Ne(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:s,authTime:Nc(vp(o.auth_time)),issuedAtTime:Nc(vp(o.iat)),expirationTime:Nc(vp(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function vp(i){return Number(i)*1e3}function Sg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Jd("JWT malformed, contained fewer than 3 sections"),null;try{const o=y1(n);return o?JSON.parse(o):(Jd("Failed to decode base64 JWT payload"),null)}catch(o){return Jd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Eb(i){const e=Sg(i);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wo(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof cr&&IN(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function IN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class DN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class zp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nc(this.lastLoginAt),this.creationTime=Nc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fh(i){const e=i.auth,n=await i.getIdToken(),s=await Wo(i,hh(e,{idToken:n}));Ne(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?M1(o.providerUserInfo):[],d=jN(i.providerData,c),p=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!d?.length,y=p?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new zp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,_)}async function ON(i){const e=at(i);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jN(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function M1(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function MN(i,e){const n=await O1(i,{},async()=>{const s=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,d=await j1(i,o,"/v1/token",`key=${c}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return i.emulatorConfig&&Ys(i.emulatorConfig.host)&&(g.credentials="include"),D1.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kN(i,e){return Gr(i,"POST","/v2/accounts:revokeToken",Qs(i,e))}class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Eb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=Eb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await MN(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,d=new Yo;return s&&(Ne(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(Ne(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ne(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return jr("not implemented")}}function ws(i,e){Ne(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ci{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new DN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Wo(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return CN(this,e)}reload(){return ON(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ci({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Pr(this.auth));const e=await this.getIdToken();return await Wo(this,NN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:x,emailVerified:w,isAnonymous:D,providerData:R,stsTokenManager:q}=n;Ne(x&&q,e,"internal-error");const k=Yo.fromJSON(this.name,q);Ne(typeof x=="string",e,"internal-error"),ws(s,e.name),ws(o,e.name),Ne(typeof w=="boolean",e,"internal-error"),Ne(typeof D=="boolean",e,"internal-error"),ws(c,e.name),ws(d,e.name),ws(p,e.name),ws(g,e.name),ws(y,e.name),ws(_,e.name);const j=new Ci({uid:x,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:D,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:k,createdAt:y,lastLoginAt:_});return R&&Array.isArray(R)&&(j.providerData=R.map(X=>({...X}))),g&&(j._redirectEventId=g),j}static async _fromIdTokenResponse(e,n,s=!1){const o=new Yo;o.updateFromServerResponse(n);const c=new Ci({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await fh(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ne(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?M1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new Yo;p.updateFromIdToken(s);const g=new Ci({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new zp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const xb=new Map;function Mr(i){Br(i instanceof Function,"Expected a class definition");let e=xb.get(i);return e?(Br(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,xb.set(i,e),e)}class k1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}k1.type="NONE";const mh=k1;function Wd(i,e,n){return`firebase:${i}:${e}:${n}`}class Qo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Wd(this.userKey,o.apiKey,c),this.fullPersistenceKey=Wd("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hh(this.auth,{idToken:e}).catch(()=>{});return n?Ci._fromGetAccountInfoResponse(this.auth,n,e):null}return Ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Qo(Mr(mh),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Mr(mh);const d=Wd(s,e.config.apiKey,e.name);let p=null;for(const y of n)try{const _=await y._get(d);if(_){let x;if(typeof _=="string"){const w=await hh(e,{idToken:_}).catch(()=>{});if(!w)break;x=await Ci._fromGetAccountInfoResponse(e,w,_)}else x=Ci._fromJSON(e,_);y!==c&&(p=x),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Qo(c,e,s):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Qo(c,e,s))}}function Tb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(U1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B1(e))return"Blackberry";if(q1(e))return"Webos";if(P1(e))return"Safari";if((e.includes("chrome/")||L1(e))&&!e.includes("edge/"))return"Chrome";if(z1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function V1(i=gn()){return/firefox\//i.test(i)}function P1(i=gn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L1(i=gn()){return/crios\//i.test(i)}function U1(i=gn()){return/iemobile/i.test(i)}function z1(i=gn()){return/android/i.test(i)}function B1(i=gn()){return/blackberry/i.test(i)}function q1(i=gn()){return/webos/i.test(i)}function Rg(i=gn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function VN(i=gn()){return Rg(i)&&!!window.navigator?.standalone}function PN(){return J2()&&document.documentMode===10}function F1(i=gn()){return Rg(i)||z1(i)||q1(i)||B1(i)||/windows phone/i.test(i)||U1(i)}function H1(i,e=[]){let n;switch(i){case"Browser":n=Tb(gn());break;case"Worker":n=`${Tb(gn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ba}/${s}`}class LN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((d,p)=>{try{const g=e(c);d(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function UN(i,e={}){return Gr(i,"GET","/v2/passwordPolicy",Qs(i,e))}const zN=6;class BN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class qN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wb(this),this.idTokenSubscription=new wb(this),this.beforeStateQueue=new LN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hh(this,{idToken:e}),s=await Ci._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(Pr(this));const n=e?at(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(Pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UN(this),n=new BN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await kN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mr(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&yN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function qa(i){return at(i)}class wb{constructor(e){this.auth=e,this.observer=null,this.addObserver=sR(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Uh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FN(i){Uh=i}function G1(i){return Uh.loadJS(i)}function HN(){return Uh.recaptchaEnterpriseScript}function GN(){return Uh.gapiScript}function $N(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class YN{constructor(){this.enterprise=new QN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class QN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const KN="recaptcha-enterprise",$1="NO_RECAPTCHA";class XN{constructor(e){this.type=KN,this.auth=qa(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{RN(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new SN(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,d,p){const g=window.grecaptcha;bb(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d($1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YN().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(p=>{if(!n&&bb(window.grecaptcha))o(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=HN();g.length!==0&&(g+=p),G1(g).then(()=>{o(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function Ab(i,e,n,s=!1,o=!1){const c=new XN(i);let d;if(o)d=$1;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Bp(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Ab(i,e,n,n==="getOobCode");return s(i,c)}else return s(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Ab(i,e,n,n==="getOobCode");return s(i,d)}else return Promise.reject(c)})}function Ng(i,e){const n=Lh(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Oa(c,e??{}))return o;Ii(o,"already-initialized")}return n.initialize({options:e})}function JN(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Mr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function WN(i,e,n){const s=qa(i);Ne(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=Y1(e),{host:d,port:p}=ZN(e),g=p===null?"":`:${p}`,y={url:`${c}//${d}${g}/`},_=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ne(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ne(Oa(y,s.config.emulator)&&Oa(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Ys(d)?(_g(`${c}//${d}${g}`),bg("Auth",!0)):eC()}function Y1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function ZN(i){const e=Y1(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:Sb(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Sb(d)}}}function Sb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function eC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Cg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,n){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function tC(i,e){return Gr(i,"POST","/v1/accounts:update",e)}async function nC(i,e){return Gr(i,"POST","/v1/accounts:signUp",e)}async function iC(i,e){return ru(i,"POST","/v1/accounts:signInWithPassword",Qs(i,e))}async function rC(i,e){return ru(i,"POST","/v1/accounts:signInWithEmailLink",Qs(i,e))}async function sC(i,e){return ru(i,"POST","/v1/accounts:signInWithEmailLink",Qs(i,e))}class Bc extends Cg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Bc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Bc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bp(e,n,"signInWithPassword",iC);case"emailLink":return rC(e,{email:this._email,oobCode:this._password});default:Ii(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bp(e,s,"signUpPassword",nC);case"emailLink":return sC(e,{idToken:n,email:this._email,oobCode:this._password});default:Ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ko(i,e){return ru(i,"POST","/v1/accounts:signInWithIdp",Qs(i,e))}const aC="http://localhost";class Ma extends Cg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const d=new Ma(s,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Ko(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ko(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ko(e,n)}buildRequest(){const e={requestUri:aC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tu(n)}return e}}function oC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lC(i){const e=xc(Tc(i)).link,n=e?xc(Tc(e)).deep_link_id:null,s=xc(Tc(i)).deep_link_id;return(s?xc(Tc(s)).link:null)||s||n||e||i}class Ig{constructor(e){const n=xc(Tc(e)),s=n.apiKey??null,o=n.oobCode??null,c=oC(n.mode??null);Ne(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=lC(e);try{return new Ig(n)}catch{return null}}}class ll{constructor(){this.providerId=ll.PROVIDER_ID}static credential(e,n){return Bc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ig.parseLink(n);return Ne(s,"argument-error"),Bc._fromEmailAndCode(e,s.code,s.tenantId)}}ll.PROVIDER_ID="password";ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Q1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class su extends Q1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class As extends su{constructor(){super("facebook.com")}static credential(e){return Ma._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";class Ss extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ma._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ss.credential(n,s)}catch{return null}}}Ss.GOOGLE_SIGN_IN_METHOD="google.com";Ss.PROVIDER_ID="google.com";class Rs extends su{constructor(){super("github.com")}static credential(e){return Ma._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.GITHUB_SIGN_IN_METHOD="github.com";Rs.PROVIDER_ID="github.com";class Ns extends su{constructor(){super("twitter.com")}static credential(e,n){return Ma._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ns.credential(n,s)}catch{return null}}}Ns.TWITTER_SIGN_IN_METHOD="twitter.com";Ns.PROVIDER_ID="twitter.com";async function cC(i,e){return ru(i,"POST","/v1/accounts:signUp",Qs(i,e))}class ka{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await Ci._fromIdTokenResponse(e,s,o),d=Rb(s);return new ka({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Rb(s);return new ka({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Rb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class ph extends cr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new ph(e,n,s,o)}}function K1(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(i,c,e,s):c})}async function uC(i,e,n=!1){const s=await Wo(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ka._forOperation(i,"link",s)}async function dC(i,e,n=!1){const{auth:s}=i;if(Kn(s.app))return Promise.reject(Pr(s));const o="reauthenticate";try{const c=await Wo(i,K1(s,o,e,i),n);Ne(c.idToken,s,"internal-error");const d=Sg(c.idToken);Ne(d,s,"internal-error");const{sub:p}=d;return Ne(i.uid===p,s,"user-mismatch"),ka._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ii(s,"user-mismatch"),c}}async function X1(i,e,n=!1){if(Kn(i.app))return Promise.reject(Pr(i));const s="signIn",o=await K1(i,s,e),c=await ka._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(c.user),c}async function hC(i,e){return X1(qa(i),e)}async function J1(i){const e=qa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fC(i,e,n){if(Kn(i.app))return Promise.reject(Pr(i));const s=qa(i),d=await Bp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cC).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&J1(i),g}),p=await ka._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function mC(i,e,n){return Kn(i.app)?Promise.reject(Pr(i)):hC(at(i),ll.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&J1(i),s})}function pC(i,e){return gC(at(i),null,e)}async function gC(i,e,n){const{auth:s}=i,c={idToken:await i.getIdToken(),returnSecureToken:!0};n&&(c.password=n);const d=await Wo(i,tC(s,c));await i._updateTokensIfNecessary(d,!0)}function W1(i,e){return at(i).setPersistence(e)}function yC(i,e,n,s){return at(i).onIdTokenChanged(e,n,s)}function vC(i,e,n){return at(i).beforeAuthStateChanged(e,n)}function _C(i,e,n,s){return at(i).onAuthStateChanged(e,n,s)}function Nb(i){return at(i).signOut()}const gh="__sak";class Z1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const bC=1e3,EC=10;class ex extends Z1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);PN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,EC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},bC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ex.type="LOCAL";const xC=ex;class tx extends Z1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tx.type="SESSION";const yh=tx;function TC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new zh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(d).map(async y=>y(n.origin,c)),g=await TC(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zh.receivers=[];function Dg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class wC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const y=Dg("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(x){const w=x;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(w.data.response);break;default:clearTimeout(_),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function nr(){return window}function AC(i){nr().location.href=i}function nx(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}async function SC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RC(){return navigator?.serviceWorker?.controller||null}function NC(){return nx()?self:null}const ix="firebaseLocalStorageDb",CC=1,vh="firebaseLocalStorage",rx="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bh(i,e){return i.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function IC(){const i=indexedDB.deleteDatabase(ix);return new au(i).toPromise()}function qp(){const i=indexedDB.open(ix,CC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(vh,{keyPath:rx})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(vh)?e(s):(s.close(),await IC(),e(await qp()))})})}async function Cb(i,e,n){const s=Bh(i,!0).put({[rx]:e,value:n});return new au(s).toPromise()}async function DC(i,e){const n=Bh(i,!1).get(e),s=await new au(n).toPromise();return s===void 0?null:s.value}function Ib(i,e){const n=Bh(i,!0).delete(e);return new au(n).toPromise()}const OC=800,jC=3;class sx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>jC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zh._getInstance(NC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SC(),!this.activeServiceWorker)return;this.sender=new wC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qp();return await Cb(e,gh,"1"),await Ib(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Cb(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>DC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ib(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Bh(o,!1).getAll();return new au(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sx.type="LOCAL";const MC=sx;new iu(3e4,6e4);function kC(i,e){return e?Mr(e):(Ne(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Og extends Cg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ko(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ko(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VC(i){return X1(i.auth,new Og(i),i.bypassAuthState)}function PC(i){const{auth:e,user:n}=i;return Ne(n,e,"internal-error"),dC(n,new Og(i),i.bypassAuthState)}async function LC(i){const{auth:e,user:n}=i;return Ne(n,e,"internal-error"),uC(n,new Og(i),i.bypassAuthState)}class ax{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VC;case"linkViaPopup":case"linkViaRedirect":return LC;case"reauthViaPopup":case"reauthViaRedirect":return PC;default:Ii(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const UC=new iu(2e3,1e4);class Ho extends ax{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Br(this.filter.length===1,"Popup operations only handle one event");const e=Dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UC.get())};e()}}Ho.currentPopupAction=null;const zC="pendingRedirect",Zd=new Map;class BC extends ax{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Zd.get(this.auth._key());if(!e){try{const s=await qC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Zd.set(this.auth._key(),e)}return this.bypassAuthState||Zd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qC(i,e){const n=GC(e),s=HC(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function FC(i,e){Zd.set(i._key(),e)}function HC(i){return Mr(i._redirectPersistence)}function GC(i){return Wd(zC,i.config.apiKey,i.name)}async function $C(i,e,n=!1){if(Kn(i.app))return Promise.reject(Pr(i));const s=qa(i),o=kC(s,e),d=await new BC(s,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const YC=600*1e3;class QC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ox(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(tr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Db(e))}saveEventToCache(e){this.cachedEventUids.add(Db(e)),this.lastProcessedEventTime=Date.now()}}function Db(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function ox({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function KC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ox(i);default:return!1}}async function XC(i,e={}){return Gr(i,"GET","/v1/projects",e)}const JC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WC=/^https?/;async function ZC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await XC(i);for(const n of e)try{if(eI(n))return}catch{}Ii(i,"unauthorized-domain")}function eI(i){const e=Up(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!WC.test(n))return!1;if(JC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const tI=new iu(3e4,6e4);function Ob(){const i=nr().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function nI(i){return new Promise((e,n)=>{function s(){Ob(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ob(),n(tr(i,"network-request-failed"))},timeout:tI.get()})}if(nr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(nr().gapi?.load)s();else{const o=$N("iframefcb");return nr()[o]=()=>{gapi.load?s():n(tr(i,"network-request-failed"))},G1(`${GN()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw eh=null,e})}let eh=null;function iI(i){return eh=eh||nI(i),eh}const rI=new iu(5e3,15e3),sI="__/auth/iframe",aI="emulator/auth/iframe",oI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cI(i){const e=i.config;Ne(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Ag(e,aI):`https://${i.config.authDomain}/${sI}`,s={apiKey:e.apiKey,appName:i.name,v:Ba},o=lI.get(i.config.apiHost);o&&(s.eid=o);const c=i._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${tu(s).slice(1)}`}async function uI(i){const e=await iI(i),n=nr().gapi;return Ne(n,i,"internal-error"),e.open({where:document.body,url:cI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oI,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const d=tr(i,"network-request-failed"),p=nr().setTimeout(()=>{c(d)},rI.get());function g(){nr().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{c(d)})}))}const dI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hI=500,fI=600,mI="_blank",pI="http://localhost";class jb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gI(i,e,n,s=hI,o=fI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...dI,width:s.toString(),height:o.toString(),top:c,left:d},y=gn().toLowerCase();n&&(p=L1(y)?mI:n),V1(y)&&(e=e||pI,g.scrollbars="yes");const _=Object.entries(g).reduce((w,[D,R])=>`${w}${D}=${R},`,"");if(VN(y)&&p!=="_self")return yI(e||"",p),new jb(null);const x=window.open(e||"",p,_);Ne(x,i,"popup-blocked");try{x.focus()}catch{}return new jb(x)}function yI(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const vI="__/auth/handler",_I="emulator/auth/handler",bI=encodeURIComponent("fac");async function Mb(i,e,n,s,o,c){Ne(i.config.authDomain,i,"auth-domain-config-required"),Ne(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Ba,eventId:o};if(e instanceof Q1){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",rR(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,x]of Object.entries({}))d[_]=x}if(e instanceof su){const _=e.getScopes().filter(x=>x!=="");_.length>0&&(d.scopes=_.join(","))}i.tenantId&&(d.tid=i.tenantId);const p=d;for(const _ of Object.keys(p))p[_]===void 0&&delete p[_];const g=await i._getAppCheckToken(),y=g?`#${bI}=${encodeURIComponent(g)}`:"";return`${EI(i)}?${tu(p).slice(1)}${y}`}function EI({config:i}){return i.emulator?Ag(i,_I):`https://${i.authDomain}/${vI}`}const _p="webStorageSupport";class xI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yh,this._completeRedirectFn=$C,this._overrideRedirectResult=FC}async _openPopup(e,n,s,o){Br(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Mb(e,n,s,Up(),o);return gI(e,c,Dg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await Mb(e,n,s,Up(),o);return AC(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Br(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await uI(e),s=new QC(e);return n.register("authEvent",o=>(Ne(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_p,{type:_p},o=>{const c=o?.[0]?.[_p];c!==void 0&&n(!!c),Ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return F1()||P1()||Rg()}}const TI=xI;var kb="@firebase/auth",Vb="1.12.0";class wI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function AI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SI(i){ja(new zs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;Ne(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:d,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H1(i)},y=new qN(s,o,c,g);return JN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ja(new zs("auth-internal",e=>{const n=qa(e.getProvider("auth").getImmediate());return(s=>new wI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(kb,Vb,AI(i)),er(kb,Vb,"esm2020")}const RI=300,NI=E1("authIdTokenMaxAge")||RI;let Pb=null;const CI=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>NI)return;const o=n?.token;Pb!==o&&(Pb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function lx(i=nu()){const e=Lh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=Ng(i,{popupRedirectResolver:TI,persistence:[MC,xC,yh]}),s=E1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=CI(c.toString());vC(n,d,()=>d(n.currentUser)),yC(n,p=>d(p))}}const o=v1("auth");return o&&WN(n,`http://${o}`),n}function II(){return document.getElementsByTagName("head")?.[0]??document}FN({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const c=tr("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",II().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SI("Browser");var Lb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ks,cx;(function(){var i;function e(N,S){function C(){}C.prototype=S.prototype,N.F=S.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(U,V,B){for(var I=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)I[ot-2]=arguments[ot];return S.prototype[V].apply(U,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,C){C||(C=0);const U=Array(16);if(typeof S=="string")for(var V=0;V<16;++V)U[V]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(V=0;V<16;++V)U[V]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=N.g[0],C=N.g[1],V=N.g[2];let B=N.g[3],I;I=S+(B^C&(V^B))+U[0]+3614090360&4294967295,S=C+(I<<7&4294967295|I>>>25),I=B+(V^S&(C^V))+U[1]+3905402710&4294967295,B=S+(I<<12&4294967295|I>>>20),I=V+(C^B&(S^C))+U[2]+606105819&4294967295,V=B+(I<<17&4294967295|I>>>15),I=C+(S^V&(B^S))+U[3]+3250441966&4294967295,C=V+(I<<22&4294967295|I>>>10),I=S+(B^C&(V^B))+U[4]+4118548399&4294967295,S=C+(I<<7&4294967295|I>>>25),I=B+(V^S&(C^V))+U[5]+1200080426&4294967295,B=S+(I<<12&4294967295|I>>>20),I=V+(C^B&(S^C))+U[6]+2821735955&4294967295,V=B+(I<<17&4294967295|I>>>15),I=C+(S^V&(B^S))+U[7]+4249261313&4294967295,C=V+(I<<22&4294967295|I>>>10),I=S+(B^C&(V^B))+U[8]+1770035416&4294967295,S=C+(I<<7&4294967295|I>>>25),I=B+(V^S&(C^V))+U[9]+2336552879&4294967295,B=S+(I<<12&4294967295|I>>>20),I=V+(C^B&(S^C))+U[10]+4294925233&4294967295,V=B+(I<<17&4294967295|I>>>15),I=C+(S^V&(B^S))+U[11]+2304563134&4294967295,C=V+(I<<22&4294967295|I>>>10),I=S+(B^C&(V^B))+U[12]+1804603682&4294967295,S=C+(I<<7&4294967295|I>>>25),I=B+(V^S&(C^V))+U[13]+4254626195&4294967295,B=S+(I<<12&4294967295|I>>>20),I=V+(C^B&(S^C))+U[14]+2792965006&4294967295,V=B+(I<<17&4294967295|I>>>15),I=C+(S^V&(B^S))+U[15]+1236535329&4294967295,C=V+(I<<22&4294967295|I>>>10),I=S+(V^B&(C^V))+U[1]+4129170786&4294967295,S=C+(I<<5&4294967295|I>>>27),I=B+(C^V&(S^C))+U[6]+3225465664&4294967295,B=S+(I<<9&4294967295|I>>>23),I=V+(S^C&(B^S))+U[11]+643717713&4294967295,V=B+(I<<14&4294967295|I>>>18),I=C+(B^S&(V^B))+U[0]+3921069994&4294967295,C=V+(I<<20&4294967295|I>>>12),I=S+(V^B&(C^V))+U[5]+3593408605&4294967295,S=C+(I<<5&4294967295|I>>>27),I=B+(C^V&(S^C))+U[10]+38016083&4294967295,B=S+(I<<9&4294967295|I>>>23),I=V+(S^C&(B^S))+U[15]+3634488961&4294967295,V=B+(I<<14&4294967295|I>>>18),I=C+(B^S&(V^B))+U[4]+3889429448&4294967295,C=V+(I<<20&4294967295|I>>>12),I=S+(V^B&(C^V))+U[9]+568446438&4294967295,S=C+(I<<5&4294967295|I>>>27),I=B+(C^V&(S^C))+U[14]+3275163606&4294967295,B=S+(I<<9&4294967295|I>>>23),I=V+(S^C&(B^S))+U[3]+4107603335&4294967295,V=B+(I<<14&4294967295|I>>>18),I=C+(B^S&(V^B))+U[8]+1163531501&4294967295,C=V+(I<<20&4294967295|I>>>12),I=S+(V^B&(C^V))+U[13]+2850285829&4294967295,S=C+(I<<5&4294967295|I>>>27),I=B+(C^V&(S^C))+U[2]+4243563512&4294967295,B=S+(I<<9&4294967295|I>>>23),I=V+(S^C&(B^S))+U[7]+1735328473&4294967295,V=B+(I<<14&4294967295|I>>>18),I=C+(B^S&(V^B))+U[12]+2368359562&4294967295,C=V+(I<<20&4294967295|I>>>12),I=S+(C^V^B)+U[5]+4294588738&4294967295,S=C+(I<<4&4294967295|I>>>28),I=B+(S^C^V)+U[8]+2272392833&4294967295,B=S+(I<<11&4294967295|I>>>21),I=V+(B^S^C)+U[11]+1839030562&4294967295,V=B+(I<<16&4294967295|I>>>16),I=C+(V^B^S)+U[14]+4259657740&4294967295,C=V+(I<<23&4294967295|I>>>9),I=S+(C^V^B)+U[1]+2763975236&4294967295,S=C+(I<<4&4294967295|I>>>28),I=B+(S^C^V)+U[4]+1272893353&4294967295,B=S+(I<<11&4294967295|I>>>21),I=V+(B^S^C)+U[7]+4139469664&4294967295,V=B+(I<<16&4294967295|I>>>16),I=C+(V^B^S)+U[10]+3200236656&4294967295,C=V+(I<<23&4294967295|I>>>9),I=S+(C^V^B)+U[13]+681279174&4294967295,S=C+(I<<4&4294967295|I>>>28),I=B+(S^C^V)+U[0]+3936430074&4294967295,B=S+(I<<11&4294967295|I>>>21),I=V+(B^S^C)+U[3]+3572445317&4294967295,V=B+(I<<16&4294967295|I>>>16),I=C+(V^B^S)+U[6]+76029189&4294967295,C=V+(I<<23&4294967295|I>>>9),I=S+(C^V^B)+U[9]+3654602809&4294967295,S=C+(I<<4&4294967295|I>>>28),I=B+(S^C^V)+U[12]+3873151461&4294967295,B=S+(I<<11&4294967295|I>>>21),I=V+(B^S^C)+U[15]+530742520&4294967295,V=B+(I<<16&4294967295|I>>>16),I=C+(V^B^S)+U[2]+3299628645&4294967295,C=V+(I<<23&4294967295|I>>>9),I=S+(V^(C|~B))+U[0]+4096336452&4294967295,S=C+(I<<6&4294967295|I>>>26),I=B+(C^(S|~V))+U[7]+1126891415&4294967295,B=S+(I<<10&4294967295|I>>>22),I=V+(S^(B|~C))+U[14]+2878612391&4294967295,V=B+(I<<15&4294967295|I>>>17),I=C+(B^(V|~S))+U[5]+4237533241&4294967295,C=V+(I<<21&4294967295|I>>>11),I=S+(V^(C|~B))+U[12]+1700485571&4294967295,S=C+(I<<6&4294967295|I>>>26),I=B+(C^(S|~V))+U[3]+2399980690&4294967295,B=S+(I<<10&4294967295|I>>>22),I=V+(S^(B|~C))+U[10]+4293915773&4294967295,V=B+(I<<15&4294967295|I>>>17),I=C+(B^(V|~S))+U[1]+2240044497&4294967295,C=V+(I<<21&4294967295|I>>>11),I=S+(V^(C|~B))+U[8]+1873313359&4294967295,S=C+(I<<6&4294967295|I>>>26),I=B+(C^(S|~V))+U[15]+4264355552&4294967295,B=S+(I<<10&4294967295|I>>>22),I=V+(S^(B|~C))+U[6]+2734768916&4294967295,V=B+(I<<15&4294967295|I>>>17),I=C+(B^(V|~S))+U[13]+1309151649&4294967295,C=V+(I<<21&4294967295|I>>>11),I=S+(V^(C|~B))+U[4]+4149444226&4294967295,S=C+(I<<6&4294967295|I>>>26),I=B+(C^(S|~V))+U[11]+3174756917&4294967295,B=S+(I<<10&4294967295|I>>>22),I=V+(S^(B|~C))+U[2]+718787259&4294967295,V=B+(I<<15&4294967295|I>>>17),I=C+(B^(V|~S))+U[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+B&4294967295}s.prototype.v=function(N,S){S===void 0&&(S=N.length);const C=S-this.blockSize,U=this.C;let V=this.h,B=0;for(;B<S;){if(V==0)for(;B<=C;)o(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<S;)if(U[V++]=N.charCodeAt(B++),V==this.blockSize){o(this,U),V=0;break}}else for(;B<S;)if(U[V++]=N[B++],V==this.blockSize){o(this,U),V=0;break}}this.h=V,this.o+=S},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,C=0;C<4;++C)for(let U=0;U<32;U+=8)N[S++]=this.g[C]>>>U&255;return N};function c(N,S){var C=p;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=S(N)}function d(N,S){this.h=S;const C=[];let U=!0;for(let V=N.length-1;V>=0;V--){const B=N[V]|0;U&&B==S||(C[V]=B,U=!1)}this.g=C}var p={};function g(N){return-128<=N&&N<128?c(N,function(S){return new d([S|0],S<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return x;if(N<0)return k(y(-N));const S=[];let C=1;for(let U=0;N>=C;U++)S[U]=N/C|0,C*=4294967296;return new d(S,0)}function _(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return k(_(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let U=x;for(let B=0;B<N.length;B+=8){var V=Math.min(8,N.length-B);const I=parseInt(N.substring(B,B+V),S);V<8?(V=y(Math.pow(S,V)),U=U.j(V).add(y(I))):(U=U.j(C),U=U.add(y(I)))}return U}var x=g(0),w=g(1),D=g(16777216);i=d.prototype,i.m=function(){if(q(this))return-k(this).m();let N=0,S=1;for(let C=0;C<this.g.length;C++){const U=this.i(C);N+=(U>=0?U:4294967296+U)*S,S*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(R(this))return"0";if(q(this))return"-"+k(this).toString(N);const S=y(Math.pow(N,6));var C=this;let U="";for(;;){const V=re(C,S).g;C=j(C,V.j(S));let B=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=V,R(C))return B+U;for(;B.length<6;)B="0"+B;U=B+U}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function R(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function q(N){return N.h==-1}i.l=function(N){return N=j(this,N),q(N)?-1:R(N)?0:1};function k(N){const S=N.g.length,C=[];for(let U=0;U<S;U++)C[U]=~N.g[U];return new d(C,~N.h).add(w)}i.abs=function(){return q(this)?k(this):this},i.add=function(N){const S=Math.max(this.g.length,N.g.length),C=[];let U=0;for(let V=0;V<=S;V++){let B=U+(this.i(V)&65535)+(N.i(V)&65535),I=(B>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);U=I>>>16,B&=65535,I&=65535,C[V]=I<<16|B}return new d(C,C[C.length-1]&-2147483648?-1:0)};function j(N,S){return N.add(k(S))}i.j=function(N){if(R(this)||R(N))return x;if(q(this))return q(N)?k(this).j(k(N)):k(k(this).j(N));if(q(N))return k(this.j(k(N)));if(this.l(D)<0&&N.l(D)<0)return y(this.m()*N.m());const S=this.g.length+N.g.length,C=[];for(var U=0;U<2*S;U++)C[U]=0;for(U=0;U<this.g.length;U++)for(let V=0;V<N.g.length;V++){const B=this.i(U)>>>16,I=this.i(U)&65535,ot=N.i(V)>>>16,Ie=N.i(V)&65535;C[2*U+2*V]+=I*Ie,X(C,2*U+2*V),C[2*U+2*V+1]+=B*Ie,X(C,2*U+2*V+1),C[2*U+2*V+1]+=I*ot,X(C,2*U+2*V+1),C[2*U+2*V+2]+=B*ot,X(C,2*U+2*V+2)}for(N=0;N<S;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=S;N<2*S;N++)C[N]=0;return new d(C,0)};function X(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function Q(N,S){this.g=N,this.h=S}function re(N,S){if(R(S))throw Error("division by zero");if(R(N))return new Q(x,x);if(q(N))return S=re(k(N),S),new Q(k(S.g),k(S.h));if(q(S))return S=re(N,k(S)),new Q(k(S.g),S.h);if(N.g.length>30){if(q(N)||q(S))throw Error("slowDivide_ only works with positive integers.");for(var C=w,U=S;U.l(N)<=0;)C=ce(C),U=ce(U);var V=de(C,1),B=de(U,1);for(U=de(U,2),C=de(C,2);!R(U);){var I=B.add(U);I.l(N)<=0&&(V=V.add(C),B=I),U=de(U,1),C=de(C,1)}return S=j(N,V.j(S)),new Q(V,S)}for(V=x;N.l(S)>=0;){for(C=Math.max(1,Math.floor(N.m()/S.m())),U=Math.ceil(Math.log(C)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),B=y(C),I=B.j(S);q(I)||I.l(N)>0;)C-=U,B=y(C),I=B.j(S);R(B)&&(B=w),V=V.add(B),N=j(N,I)}return new Q(V,N)}i.B=function(N){return re(this,N).h},i.and=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let U=0;U<S;U++)C[U]=this.i(U)&N.i(U);return new d(C,this.h&N.h)},i.or=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let U=0;U<S;U++)C[U]=this.i(U)|N.i(U);return new d(C,this.h|N.h)},i.xor=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let U=0;U<S;U++)C[U]=this.i(U)^N.i(U);return new d(C,this.h^N.h)};function ce(N){const S=N.g.length+1,C=[];for(let U=0;U<S;U++)C[U]=N.i(U)<<1|N.i(U-1)>>>31;return new d(C,N.h)}function de(N,S){const C=S>>5;S%=32;const U=N.g.length-C,V=[];for(let B=0;B<U;B++)V[B]=S>0?N.i(B+C)>>>S|N.i(B+C+1)<<32-S:N.i(B+C);return new d(V,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,cx=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=_,ks=d}).apply(typeof Lb<"u"?Lb:typeof self<"u"?self:typeof window<"u"?window:{});var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ux,wc,dx,th,Fp,hx,fx,mx;(function(){var i,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bd=="object"&&Bd];for(var v=0;v<u.length;++v){var E=u[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(u,v){if(v)e:{var E=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var F=u[A];if(!(F in E))break e;E=E[F]}u=u[u.length-1],A=E[u],v=v(A),v!=A&&v!=null&&e(E,u,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(v){var E=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&E.push([A,v[A]]);return E}});var c=c||{},d=this||self;function p(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function g(u,v,E){return u.call.apply(u.bind,arguments)}function y(u,v,E){return y=g,y.apply(null,arguments)}function _(u,v){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function x(u,v){function E(){}E.prototype=v.prototype,u.Z=v.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(A,F,Y){for(var le=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)le[Me-2]=arguments[Me];return v.prototype[F].apply(A,le)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function D(u){const v=u.length;if(v>0){const E=Array(v);for(let A=0;A<v;A++)E[A]=u[A];return E}return[]}function R(u,v){for(let A=1;A<arguments.length;A++){const F=arguments[A];var E=typeof F;if(E=E!="object"?E:F?Array.isArray(F)?"array":E:"null",E=="array"||E=="object"&&typeof F.length=="number"){E=u.length||0;const Y=F.length||0;u.length=E+Y;for(let le=0;le<Y;le++)u[E+le]=F[le]}else u.push(F)}}class q{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function k(u){d.setTimeout(()=>{throw u},0)}function j(){var u=N;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class X{constructor(){this.h=this.g=null}add(v,E){const A=Q.get();A.set(v,E),this.h?this.h.next=A:this.g=A,this.h=A}}var Q=new q(()=>new re,u=>u.reset());class re{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,de=!1,N=new X,S=()=>{const u=Promise.resolve(void 0);ce=()=>{u.then(C)}};function C(){for(var u;u=j();){try{u.h.call(u.g)}catch(E){k(E)}var v=Q;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}de=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function ot(u,v){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}x(ot,V),ot.prototype.init=function(u,v){const E=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(E=="mouseover"?v=u.fromElement:E=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),J=0;function ae(u,v,E,A,F){this.listener=u,this.proxy=null,this.src=v,this.type=E,this.capture=!!A,this.ha=F,this.key=++J,this.da=this.fa=!1}function ge(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function De(u,v,E){for(const A in u)v.call(E,u[A],A,u)}function Ye(u,v){for(const E in u)v.call(void 0,u[E],E,u)}function P(u){const v={};for(const E in u)v[E]=u[E];return v}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(u,v){let E,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(E in A)u[E]=A[E];for(let Y=0;Y<ee.length;Y++)E=ee[Y],Object.prototype.hasOwnProperty.call(A,E)&&(u[E]=A[E])}}function fe(u){this.src=u,this.g={},this.h=0}fe.prototype.add=function(u,v,E,A,F){const Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);const le=Ae(u,v,A,F);return le>-1?(v=u[le],E||(v.fa=!1)):(v=new ae(v,this.src,Y,!!A,F),v.fa=E,u.push(v)),v};function Te(u,v){const E=v.type;if(E in u.g){var A=u.g[E],F=Array.prototype.indexOf.call(A,v,void 0),Y;(Y=F>=0)&&Array.prototype.splice.call(A,F,1),Y&&(ge(v),u.g[E].length==0&&(delete u.g[E],u.h--))}}function Ae(u,v,E,A){for(let F=0;F<u.length;++F){const Y=u[F];if(!Y.da&&Y.listener==v&&Y.capture==!!E&&Y.ha==A)return F}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),lt={};function nt(u,v,E,A,F){if(Array.isArray(v)){for(let Y=0;Y<v.length;Y++)nt(u,v[Y],E,A,F);return null}return E=ve(E),u&&u[Ie]?u.J(v,E,p(A)?!!A.capture:!1,F):pi(u,v,E,!1,A,F)}function pi(u,v,E,A,F,Y){if(!v)throw Error("Invalid event type");const le=p(F)?!!F.capture:!!F;let Me=yi(u);if(Me||(u[Ve]=Me=new fe(u)),E=Me.add(v,E,A,le,Y),E.proxy)return E;if(A=gi(),E.proxy=A,A.src=u,A.listener=E,u.addEventListener)B||(F=le),F===void 0&&(F=!1),u.addEventListener(v.toString(),A,F);else if(u.attachEvent)u.attachEvent(yn(v.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function gi(){function u(E){return v.call(u.src,u.listener,E)}const v=ji;return u}function An(u,v,E,A,F){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)An(u,v[Y],E,A,F);else A=p(A)?!!A.capture:!!A,E=ve(E),u&&u[Ie]?(u=u.i,Y=String(v).toString(),Y in u.g&&(v=u.g[Y],E=Ae(v,E,A,F),E>-1&&(ge(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete u.g[Y],u.h--)))):u&&(u=yi(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Ae(v,E,A,F)),(E=u>-1?v[u]:null)&&ti(E))}function ti(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[Ie])Te(v.i,u);else{var E=u.type,A=u.proxy;v.removeEventListener?v.removeEventListener(E,A,u.capture):v.detachEvent?v.detachEvent(yn(E),A):v.addListener&&v.removeListener&&v.removeListener(A),(E=yi(v))?(Te(E,u),E.h==0&&(E.src=null,v[Ve]=null)):ge(u)}}}function yn(u){return u in lt?lt[u]:lt[u]="on"+u}function ji(u,v){if(u.da)u=!0;else{v=new ot(v,this);const E=u.listener,A=u.ha||u.src;u.fa&&ti(u),u=E.call(A,v)}return u}function yi(u){return u=u[Ve],u instanceof fe?u:null}var se="__closure_events_fn_"+(Math.random()*1e9>>>0);function ve(u){return typeof u=="function"?u:(u[se]||(u[se]=function(v){return u.handleEvent(v)}),u[se])}function be(){U.call(this),this.i=new fe(this),this.M=this,this.G=null}x(be,U),be.prototype[Ie]=!0,be.prototype.removeEventListener=function(u,v,E,A){An(this,u,v,E,A)};function je(u,v){var E,A=u.G;if(A)for(E=[];A;A=A.G)E.push(A);if(u=u.M,A=v.type||v,typeof v=="string")v=new V(v,u);else if(v instanceof V)v.target=v.target||u;else{var F=v;v=new V(A,u),ue(v,F)}F=!0;let Y,le;if(E)for(le=E.length-1;le>=0;le--)Y=v.g=E[le],F=gt(Y,A,!0,v)&&F;if(Y=v.g=u,F=gt(Y,A,!0,v)&&F,F=gt(Y,A,!1,v)&&F,E)for(le=0;le<E.length;le++)Y=v.g=E[le],F=gt(Y,A,!1,v)&&F}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const E=u.g[v];for(let A=0;A<E.length;A++)ge(E[A]);delete u.g[v],u.h--}}this.G=null},be.prototype.J=function(u,v,E,A){return this.i.add(String(u),v,!1,E,A)},be.prototype.K=function(u,v,E,A){return this.i.add(String(u),v,!0,E,A)};function gt(u,v,E,A){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let F=!0;for(let Y=0;Y<v.length;++Y){const le=v[Y];if(le&&!le.da&&le.capture==E){const Me=le.listener,It=le.ha||le.src;le.fa&&Te(u.i,le),F=Me.call(It,A)!==!1&&F}}return F&&!A.defaultPrevented}function vn(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(u,v||0)}function Ln(u){u.g=vn(()=>{u.g=null,u.i&&(u.i=!1,Ln(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class Gt extends U{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ln(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(u){U.call(this),this.h=u,this.g={}}x(ur,U);var Zs=[];function ea(u){De(u.g,function(v,E){this.g.hasOwnProperty(E)&&ti(v)},u),u.g={}}ur.prototype.N=function(){ur.Z.N.call(this),ea(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mi=d.JSON.stringify,gl=d.JSON.parse,$a=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ya(){}function Qa(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){V.call(this,"d")}x($t,V);function Sn(){V.call(this,"c")}x(Sn,V);var Tt={},Ka=null;function $r(){return Ka=Ka||new be}Tt.Ia="serverreachability";function ta(u){V.call(this,Tt.Ia,u)}x(ta,V);function oe(u){const v=$r();je(v,new ta(v))}Tt.STAT_EVENT="statevent";function Ze(u,v){V.call(this,Tt.STAT_EVENT,u),this.stat=v}x(Ze,V);function Ue(u){const v=$r();je(v,new Ze(v,u))}Tt.Ja="timingevent";function Yt(u,v){V.call(this,Tt.Ja,u),this.size=v}x(Yt,V);function _n(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},v)}function hn(){this.g=!0}hn.prototype.ua=function(){this.g=!1};function vi(u,v,E,A,F,Y){u.info(function(){if(u.g)if(Y){var le="",Me=Y.split("&");for(let et=0;et<Me.length;et++){var It=Me[et].split("=");if(It.length>1){const bt=It[0];It=It[1];const si=bt.split("_");le=si.length>=2&&si[1]=="type"?le+(bt+"="+It+"&"):le+(bt+"=redacted&")}}}else le=null;else le=Y;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+v+`
`+E+`
`+le})}function Rn(u,v,E,A,F,Y,le){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+v+`
`+E+`
`+Y+" "+le})}function Nn(u,v,E,A){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+uf(u,E)+(A?" "+A:"")})}function dr(u,v){u.info(function(){return"TIMEOUT: "+v})}hn.prototype.info=function(){};function uf(u,v){if(!u.g)return v;if(!v)return null;try{const Y=JSON.parse(v);if(Y){for(u=0;u<Y.length;u++)if(Array.isArray(Y[u])){var E=Y[u];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var F=A[0];if(F!="noop"&&F!="stop"&&F!="close")for(let le=1;le<A.length;le++)A[le]=""}}}}return Mi(Y)}catch{return v}}var na={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vl;function ia(){}x(ia,Ya),ia.prototype.g=function(){return new XMLHttpRequest},vl=new ia;function hr(u){return encodeURIComponent(String(u))}function yu(u){var v=1;u=u.split(":");const E=[];for(;v>0&&u.length;)E.push(u.shift()),v--;return u.length&&E.push(u.join(":")),E}function _i(u,v,E,A){this.j=u,this.i=v,this.l=E,this.S=A||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bi}function bi(){this.i=null,this.g="",this.h=!1}var Mt={},Jt={};function ki(u,v,E){u.M=1,u.A=ra(Vt(v)),u.u=E,u.R=!0,Xa(u,null)}function Xa(u,v){u.F=Date.now(),Vi(u),u.B=Vt(u.A);var E=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),eo(E.i,"t",A),u.C=0,E=u.j.L,u.h=new bi,u.g=Ou(u.j,E?v:null,!u.u),u.P>0&&(u.O=new Gt(y(u.Y,u,u.g),u.P)),v=u.V,E=u.g,A=u.ba;var F="readystatechange";Array.isArray(F)||(F&&(Zs[0]=F.toString()),F=Zs);for(let Y=0;Y<F.length;Y++){const le=nt(E,F[Y],A||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=u.J?P(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),oe(),vi(u.i,u.v,u.B,u.l,u.S,u.u)}_i.prototype.ba=function(u){u=u.target;const v=this.O;v&&Ti(u)==3?v.j():this.Y(u)},_i.prototype.Y=function(u){try{if(u==this.g)e:{const Me=Ti(this.g),It=this.g.ya(),et=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Me!=4||It==7||(It==8||et<=0?oe(3):oe(2)),Pi(this);var v=this.g.ca();this.X=v;var E=df(this);if(this.o=v==200,Rn(this.i,this.v,this.B,this.l,this.S,Me,v),this.o){if(this.U&&!this.L){t:{if(this.g){var A,F=this.g;if((A=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var Y=A;break t}}Y=null}if(u=Y)Nn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,u);else{this.o=!1,this.m=3,Ue(12),zn(this),ni(this);break e}}if(this.R){u=!0;let bt;for(;!this.K&&this.C<E.length;)if(bt=_u(this,E),bt==Jt){Me==4&&(this.m=4,Ue(14),u=!1),Nn(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==Mt){this.m=4,Ue(15),Nn(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else Nn(this.i,this.l,bt,null),Li(this,bt);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||E.length!=0||this.h.h||(this.m=1,Ue(16),u=!1),this.o=this.o&&u,!u)Nn(this.i,this.l,E,"[Invalid Chunked Response]"),zn(this),ni(this);else if(E.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),jl(le),le.P=!0,Ue(11))}}else Nn(this.i,this.l,E,null),Li(this,E);Me==4&&zn(this),this.o&&!this.K&&(Me==4?Nu(this.j,this):(this.o=!1,Vi(this)))}else mr(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ue(12)):(this.m=0,Ue(13)),zn(this),ni(this)}}}catch{}finally{}};function df(u){if(!vu(u))return u.g.la();const v=nn(u.g);if(v==="")return"";let E="";const A=v.length,F=Ti(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return zn(u),ni(u),"";u.h.i=new d.TextDecoder}for(let Y=0;Y<A;Y++)u.h.h=!0,E+=u.h.i.decode(v[Y],{stream:!(F&&Y==A-1)});return v.length=0,u.h.g+=E,u.C=0,u.h.g}function vu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function _u(u,v){var E=u.C,A=v.indexOf(`
`,E);return A==-1?Jt:(E=Number(v.substring(E,A)),isNaN(E)?Mt:(A+=1,A+E>v.length?Jt:(v=v.slice(A,A+E),u.C=A+E,v)))}_i.prototype.cancel=function(){this.K=!0,zn(this)};function Vi(u){u.T=Date.now()+u.H,Ja(u,u.H)}function Ja(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=_n(y(u.aa,u),v)}function Pi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}_i.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(dr(this.i,this.B),this.M!=2&&(oe(),Ue(17)),zn(this),this.m=2,ni(this)):Ja(this,this.T-u)};function ni(u){u.j.I==0||u.K||Nu(u.j,u)}function zn(u){Pi(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,ea(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function Li(u,v){try{var E=u.j;if(E.I!=0&&(E.g==u||zi(E.h,u))){if(!u.L&&zi(E.h,u)&&E.I==3){try{var A=E.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)so(E),es(E);else break e;da(E),Ue(18)}}else E.xa=F[1],0<E.xa-E.K&&F[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=_n(y(E.Va,E),6e3));Ui(E.h)<=1&&E.ta&&(E.ta=void 0)}else $i(E,11)}else if((u.L||E.g==u)&&so(E),!I(v))for(F=E.Ba.g.parse(v),v=0;v<F.length;v++){let et=F[v];const bt=et[0];if(!(bt<=E.K))if(E.K=bt,et=et[1],E.I==2)if(et[0]=="c"){E.M=et[1],E.ba=et[2];const si=et[3];si!=null&&(E.ka=si,E.j.info("VER="+E.ka));const Yi=et[4];Yi!=null&&(E.za=Yi,E.j.info("SVER="+E.za));const wi=et[5];wi!=null&&typeof wi=="number"&&wi>0&&(A=1.5*wi,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Ai=u.g;if(Ai){const ha=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ha){var Y=A.h;Y.g||ha.indexOf("spdy")==-1&&ha.indexOf("quic")==-1&&ha.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(El(Y,Y.h),Y.h=null))}if(A.G){const ao=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;ao&&(A.wa=ao,it(A.J,A.G,ao))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var le=u;if(A.na=Du(A,A.L?A.ba:null,A.W),le.L){xl(A.h,le);var Me=le,It=A.O;It&&(Me.H=It),Me.D&&(Pi(Me),Vi(Me)),A.g=le}else Su(A);E.i.length>0&&Gi(E)}else et[0]!="stop"&&et[0]!="close"||$i(E,7);else E.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?$i(E,7):Dl(E):et[0]!="noop"&&E.l&&E.l.qa(et),E.A=0)}}oe(4)}catch{}}var kt=class{constructor(u,v){this.g=u,this.map=v}};function _l(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ui(u){return u.h?1:u.g?u.g.size:0}function zi(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function El(u,v){u.g?u.g.add(v):u.h=v}function xl(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}_l.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Tl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const E of u.g.values())v=v.concat(E.G);return v}return D(u.i)}var bu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wa(u,v){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const A=u[E].indexOf("=");let F,Y=null;A>=0?(F=u[E].substring(0,A),Y=u[E].substring(A+1)):F=u[E],v(F,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof Bn?(this.l=u.l,Wt(this,u.j),this.o=u.o,this.g=u.g,Yr(this,u.u),this.h=u.h,wl(this,wu(u.i)),this.m=u.m):u&&(v=String(u).match(bu))?(this.l=!1,Wt(this,v[1]||"",!0),this.o=Bi(v[2]||""),this.g=Bi(v[3]||"",!0),Yr(this,v[4]),this.h=Bi(v[5]||"",!0),wl(this,v[6]||"",!0),this.m=Bi(v[7]||"")):(this.l=!1,this.i=new Kr(null,this.l))}Bn.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(sa(v,Za,!0),":");var E=this.g;return(E||v=="file")&&(u.push("//"),(v=this.o)&&u.push(sa(v,Za,!0),"@"),u.push(hr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(sa(E,E.charAt(0)=="/"?Al:Eu,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",sa(E,xu)),u.join("")},Bn.prototype.resolve=function(u){const v=Vt(this);let E=!!u.j;E?Wt(v,u.j):E=!!u.o,E?v.o=u.o:E=!!u.g,E?v.g=u.g:E=u.u!=null;var A=u.h;if(E)Yr(v,u.u);else if(E=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var F=v.h.lastIndexOf("/");F!=-1&&(A=v.h.slice(0,F+1)+A)}if(F=A,F==".."||F==".")A="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){A=F.lastIndexOf("/",0)==0,F=F.split("/");const Y=[];for(let le=0;le<F.length;){const Me=F[le++];Me=="."?A&&le==F.length&&Y.push(""):Me==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),A&&le==F.length&&Y.push("")):(Y.push(Me),A=!0)}A=Y.join("/")}else A=F}return E?v.h=A:E=u.i.toString()!=="",E?wl(v,wu(u.i)):E=!!u.m,E&&(v.m=u.m),v};function Vt(u){return new Bn(u)}function Wt(u,v,E){u.j=E?Bi(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Yr(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function wl(u,v,E){v instanceof Kr?(u.i=v,to(u.i,u.l)):(E||(v=sa(v,Qr)),u.i=new Kr(v,u.l))}function it(u,v,E){u.i.set(v,E)}function ra(u){return it(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Bi(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function sa(u,v,E){return typeof u=="string"?(u=encodeURI(u).replace(v,Cn),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Cn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Za=/[#\/\?@]/g,Eu=/[#\?:]/g,Al=/[#\?]/g,Qr=/[#\?@]/g,xu=/#/g;function Kr(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function In(u){u.g||(u.g=new Map,u.h=0,u.i&&Wa(u.i,function(v,E){u.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}i=Kr.prototype,i.add=function(u,v){In(this),this.i=null,u=Xr(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(v),this.h+=1,this};function Tu(u,v){In(u),v=Xr(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Sl(u,v){return In(u),v=Xr(u,v),u.g.has(v)}i.forEach=function(u,v){In(this),this.g.forEach(function(E,A){E.forEach(function(F){u.call(v,F,A,this)},this)},this)};function Rl(u,v){In(u);let E=[];if(typeof v=="string")Sl(u,v)&&(E=E.concat(u.g.get(Xr(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)E=E.concat(u[v]);return E}i.set=function(u,v){return In(this),this.i=null,u=Xr(this,u),Sl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},i.get=function(u,v){return u?(u=Rl(this,u),u.length>0?String(u[0]):v):v};function eo(u,v,E){Tu(u,v),E.length>0&&(u.i=null,u.g.set(Xr(u,v),D(E)),u.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var E=v[A];const F=hr(E);E=Rl(this,E);for(let Y=0;Y<E.length;Y++){let le=F;E[Y]!==""&&(le+="="+hr(E[Y])),u.push(le)}}return this.i=u.join("&")};function wu(u){const v=new Kr;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function Xr(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function to(u,v){v&&!u.j&&(In(u),u.i=null,u.g.forEach(function(E,A){const F=A.toLowerCase();A!=F&&(Tu(this,A),eo(this,F,E))},u)),u.j=v}function Ei(u,v){const E=new hn;if(d.Image){const A=new Image;A.onload=_(ii,E,"TestLoadImage: loaded",!0,v,A),A.onerror=_(ii,E,"TestLoadImage: error",!1,v,A),A.onabort=_(ii,E,"TestLoadImage: abort",!1,v,A),A.ontimeout=_(ii,E,"TestLoadImage: timeout",!1,v,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else v(!1)}function Nl(u,v){const E=new hn,A=new AbortController,F=setTimeout(()=>{A.abort(),ii(E,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:A.signal}).then(Y=>{clearTimeout(F),Y.ok?ii(E,"TestPingServer: ok",!0,v):ii(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),ii(E,"TestPingServer: error",!1,v)})}function ii(u,v,E,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(E)}catch{}}function Jr(){this.g=new $a}function qi(u){this.i=u.Sb||null,this.h=u.ab||!1}x(qi,Ya),qi.prototype.g=function(){return new aa(this.i,this.h)};function aa(u,v){be.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(aa,be),i=aa.prototype,i.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,xi(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wr(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;no(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function no(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?Wr(this):xi(this),this.readyState==3&&no(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,Wr(this))},i.Na=function(u){this.g&&(this.response=u,Wr(this))},i.ga=function(){this.g&&Wr(this)};function Wr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,xi(u)}i.setRequestHeader=function(u,v){this.A.append(u,v)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=v.next();return u.join(`\r
`)};function xi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ri(u){let v="";return De(u,function(E,A){v+=A,v+=":",v+=E,v+=`\r
`}),v}function oa(u,v,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=ri(E),typeof u=="string"?E!=null&&hr(E):it(u,v,E))}function ct(u){be.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(ct,be);var Fi=/^https?$/i,Cl=["POST","PUT"];i=ct.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,v,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vl.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(Y){la(this,Y);return}if(u=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)E.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())E.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Cl,v,void 0)>=0)||A||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,le]of E)this.g.setRequestHeader(Y,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Y){la(this,Y)}};function la(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,Il(u),fr(u)}function Il(u){u.A||(u.A=!0,je(u,"complete"),je(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,je(this,"complete"),je(this,"abort"),fr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fr(this,!0)),ct.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ca(this):this.Xa())},i.Xa=function(){ca(this)};function ca(u){if(u.h&&typeof c<"u"){if(u.v&&Ti(u)==4)setTimeout(u.Ca.bind(u),0);else if(je(u,"readystatechange"),Ti(u)==4){u.h=!1;try{const Y=u.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var A;if(A=Y===0){let le=String(u.D).match(bu)[1]||null;!le&&d.self&&d.self.location&&(le=d.self.location.protocol.slice(0,-1)),A=!Fi.test(le?le.toLowerCase():"")}E=A}if(E)je(u,"complete"),je(u,"success");else{u.o=6;try{var F=Ti(u)>2?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.ca()+"]",Il(u)}}finally{fr(u)}}}}function fr(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,v||je(u,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Ti(u){return u.g?u.g.readyState:0}i.ca=function(){try{return Ti(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),gl(v)}};function nn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function mr(u){const v={};u=(u.g&&Ti(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(I(u[A]))continue;var E=yu(u[A]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=v[F]||[];v[F]=Y,Y.push(E)}Ye(v,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(u,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||v}function Zr(u){this.za=0,this.i=[],this.j=new hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hi("baseRetryDelayMs",5e3,u),this.Za=Hi("retryDelaySeedMs",1e4,u),this.Ta=Hi("forwardChannelMaxRetries",2,u),this.va=Hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _l(u&&u.concurrentRequestLimit),this.Ba=new Jr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Zr.prototype,i.ka=8,i.I=1,i.connect=function(u,v,E,A){Ue(0),this.W=u,this.H=v||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Du(this,null,this.W),Gi(this)};function Dl(u){if(io(u),u.I==3){var v=u.V++,E=Vt(u.J);if(it(E,"SID",u.M),it(E,"RID",v),it(E,"TYPE","terminate"),ua(u,E),v=new _i(u,u.j,v),v.M=2,v.A=ra(Vt(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.A,E=!0),E||(v.g=Ou(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Vi(v)}Iu(u)}function es(u){u.g&&(jl(u),u.g.cancel(),u.g=null)}function io(u){es(u),u.v&&(d.clearTimeout(u.v),u.v=null),so(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Gi(u){if(!bl(u.h)&&!u.m){u.m=!0;var v=u.Ea;ce||S(),de||(ce(),de=!0),N.add(v,u),u.D=0}}function ro(u,v){return Ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=_n(y(u.Ea,u,v),Cu(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const F=new _i(this,this.j,u);let Y=this.o;if(this.U&&(Y?(Y=P(Y),ue(Y,this.U)):Y=this.U),this.u!==null||this.R||(F.J=Y,Y=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Au(this,F,v),E=Vt(this.J),it(E,"RID",u),it(E,"CVER",22),this.G&&it(E,"X-HTTP-Session-Id",this.G),ua(this,E),Y&&(this.R?v="headers="+hr(ri(Y))+"&"+v:this.u&&oa(E,this.u,Y)),El(this.h,F),this.Ra&&it(E,"TYPE","init"),this.S?(it(E,"$req",v),it(E,"SID","null"),F.U=!0,ki(F,E,null)):ki(F,E,v),this.I=2}}else this.I==3&&(u?Ol(this,u):this.i.length==0||bl(this.h)||Ol(this))};function Ol(u,v){var E;v?E=v.l:E=u.V++;const A=Vt(u.J);it(A,"SID",u.M),it(A,"RID",E),it(A,"AID",u.K),ua(u,A),u.u&&u.o&&oa(A,u.u,u.o),E=new _i(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),v&&(u.i=v.G.concat(u.i)),v=Au(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),El(u.h,E),ki(E,A,v)}function ua(u,v){u.H&&De(u.H,function(E,A){it(v,A,E)}),u.l&&De({},function(E,A){it(v,A,E)})}function Au(u,v,E){E=Math.min(u.i.length,E);const A=u.l?y(u.l.Ka,u.l,u):null;e:{var F=u.i;let Me=-1;for(;;){const It=["count="+E];Me==-1?E>0?(Me=F[0].g,It.push("ofs="+Me)):Me=0:It.push("ofs="+Me);let et=!0;for(let bt=0;bt<E;bt++){var Y=F[bt].g;const si=F[bt].map;if(Y-=Me,Y<0)Me=Math.max(0,F[bt].g-100),et=!1;else try{Y="req"+Y+"_"||"";try{var le=si instanceof Map?si:Object.entries(si);for(const[Yi,wi]of le){let Ai=wi;p(wi)&&(Ai=Mi(wi)),It.push(Y+Yi+"="+encodeURIComponent(Ai))}}catch(Yi){throw It.push(Y+"type="+encodeURIComponent("_badmap")),Yi}}catch{A&&A(si)}}if(et){le=It.join("&");break e}}le=void 0}return u=u.i.splice(0,E),v.G=u,le}function Su(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;ce||S(),de||(ce(),de=!0),N.add(v,u),u.A=0}}function da(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=_n(y(u.Da,u),Cu(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,Ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=_n(y(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ue(10),es(this),Ru(this))};function jl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Ru(u){u.g=new _i(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=Vt(u.na);it(v,"RID","rpc"),it(v,"SID",u.M),it(v,"AID",u.K),it(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&it(v,"TO",u.ia),it(v,"TYPE","xmlhttp"),ua(u,v),u.u&&u.o&&oa(v,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=ra(Vt(v)),E.u=null,E.R=!0,Xa(E,u)}i.Va=function(){this.C!=null&&(this.C=null,es(this),da(this),Ue(19))};function so(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Nu(u,v){var E=null;if(u.g==v){so(u),jl(u),u.g=null;var A=2}else if(zi(u.h,v))E=v.G,xl(u.h,v),A=1;else return;if(u.I!=0){if(v.o)if(A==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var F=u.D;A=$r(),je(A,new Yt(A,E)),Gi(u)}else Su(u);else if(F=v.m,F==3||F==0&&v.X>0||!(A==1&&ro(u,v)||A==2&&da(u)))switch(E&&E.length>0&&(v=u.h,v.i=v.i.concat(E)),F){case 1:$i(u,5);break;case 4:$i(u,10);break;case 3:$i(u,6);break;default:$i(u,2)}}}function Cu(u,v){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*v}function $i(u,v){if(u.j.info("Error code "+v),v==2){var E=y(u.bb,u),A=u.Ua;const F=!A;A=new Bn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Wt(A,"https"),ra(A),F?Ei(A.toString(),E):Nl(A.toString(),E)}else Ue(2);u.I=0,u.l&&u.l.pa(v),Iu(u),io(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function Iu(u){if(u.I=0,u.ja=[],u.l){const v=Tl(u.h);(v.length!=0||u.i.length!=0)&&(R(u.ja,v),R(u.ja,u.i),u.h.i.length=0,D(u.i),u.i.length=0),u.l.oa()}}function Du(u,v,E){var A=E instanceof Bn?Vt(E):new Bn(E);if(A.g!="")v&&(A.g=v+"."+A.g),Yr(A,A.u);else{var F=d.location;A=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;const Y=new Bn(null);A&&Wt(Y,A),v&&(Y.g=v),F&&Yr(Y,F),E&&(Y.h=E),A=Y}return E=u.G,v=u.wa,E&&v&&it(A,E,v),it(A,"VER",u.ka),ua(u,A),A}function Ou(u,v,E){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new ct(new qi({ab:E})):new ct(u.ma),v.Fa(u.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}i=ju.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function ts(){}ts.prototype.g=function(u,v){return new bn(u,v)};function bn(u,v){be.call(this),this.g=new Zr(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!I(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!I(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new pr(this)}x(bn,be),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Dl(this.g)},bn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=Mi(u),u=E);v.i.push(new kt(v.Ya++,u)),v.I==3&&Gi(v)},bn.prototype.N=function(){this.g.l=null,delete this.j,Dl(this.g),delete this.g,bn.Z.N.call(this)};function Mu(u){$t.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const E in v){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}x(Mu,$t);function ku(){Sn.call(this),this.status=1}x(ku,Sn);function pr(u){this.g=u}x(pr,ju),pr.prototype.ra=function(){je(this.g,"a")},pr.prototype.qa=function(u){je(this.g,new Mu(u))},pr.prototype.pa=function(u){je(this.g,new ku)},pr.prototype.oa=function(){je(this.g,"b")},ts.prototype.createWebChannel=ts.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,mx=function(){return new ts},fx=function(){return $r()},hx=Tt,Fp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,th=na,yl.COMPLETE="complete",dx=yl,Qa.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",be.prototype.listen=be.prototype.J,wc=Qa,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,ux=ct}).apply(typeof Bd<"u"?Bd:typeof self<"u"?self:typeof window<"u"?window:{});const Ub="@firebase/firestore",zb="4.9.3";let pn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let cl="12.7.0";const Va=new Eg("@firebase/firestore");function Uo(){return Va.logLevel}function me(i,...e){if(Va.logLevel<=He.DEBUG){const n=e.map(jg);Va.debug(`Firestore (${cl}): ${i}`,...n)}}function qr(i,...e){if(Va.logLevel<=He.ERROR){const n=e.map(jg);Va.error(`Firestore (${cl}): ${i}`,...n)}}function Zo(i,...e){if(Va.logLevel<=He.WARN){const n=e.map(jg);Va.warn(`Firestore (${cl}): ${i}`,...n)}}function jg(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function we(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,px(i,s,n)}function px(i,e,n){let s=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw qr(s),new Error(s)}function Xe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||px(e,o,s)}function Ce(i,e){return i}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class gx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class OI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class jI{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Lr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Lr)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string",31837,{l:s}),new gx(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class MI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new MI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Bb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const s=c=>{c.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,me("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Bb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Bb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function PI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Mg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=PI(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Ge(i,e){return i<e?-1:i>e?1:0}function Hp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),c=e.charAt(s);if(o!==c)return bp(o)===bp(c)?Ge(o,c):bp(o)?1:-1}return Ge(i.length,e.length)}const LI=55296,UI=57343;function bp(i){const e=i.charCodeAt(0);return e>=LI&&e<=UI}function el(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const qb="__name__";class Wi{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Wi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=Wi.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Ge(e.length,n.length)}static compareSegments(e,n){const s=Wi.isNumericId(e),o=Wi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Wi.extractNumericId(e).compare(Wi.extractNumericId(n)):Hp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ks.fromString(e.substring(4,e.length-2))}}class mt extends Wi{construct(e,n,s){return new mt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new mt(n)}static emptyPath(){return new mt([])}}const zI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Wi{construct(e,n,s){return new cn(e,n,s)}static isValidIdentifier(e){return zI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qb}static keyField(){return new cn([qb])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new he(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(c(),o++)}if(c(),d)throw new he(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(mt.fromString(e))}static fromName(e){return new _e(mt.fromString(e).popFirst(5))}static empty(){return new _e(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new mt(e.slice()))}}function yx(i,e,n){if(!n)throw new he(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function BI(i,e,n,s){if(e===!0&&s===!0)throw new he(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Fb(i){if(!_e.isDocumentKey(i))throw new he(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Hb(i){if(_e.isDocumentKey(i))throw new he(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function vx(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function qh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we(12329,{type:typeof i})}function Pn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qh(i);throw new he(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Ht(i,e){const n={typeString:i};return e&&(n.value=e),n}function ou(i,e){if(!vx(i))throw new he(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const d=i[s];if(o&&typeof d!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new he(Z.INVALID_ARGUMENT,n);return!0}const Gb=-62135596800,$b=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*$b);return new _t(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Gb)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$b}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ou(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Gb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Ht("string",_t._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new _t(0,0))}static max(){return new Re(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const qc=-1;function qI(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new _t(n+1,0):new _t(n,s));return new Bs(o,_e.empty(),e)}function FI(i){return new Bs(i.readTime,i.key,qc)}class Bs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Bs(Re.min(),_e.empty(),qc)}static max(){return new Bs(Re.max(),_e.empty(),qc)}}function HI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(i.documentKey,e.documentKey),n!==0?n:Ge(i.largestBatchId,e.largestBatchId))}const GI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $I{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ul(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==GI)throw i;me("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&n()}),(g=>s(g)))})),d=!0,c===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((_=>{d[y]=_,++p,p===c&&s(d)}),(_=>o(_)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function YI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function dl(i){return i.name==="IndexedDbTransactionError"}class Fh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fh.ce=-1;const kg=-1;function lu(i){return i==null}function _h(i){return i===0&&1/i==-1/0}function QI(i){return typeof i=="number"&&Number.isInteger(i)&&!_h(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const _x="";function KI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Yb(e)),e=XI(i.get(n),e);return Yb(e)}function XI(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case _x:n+="";break;default:n+=c}}return n}function Yb(i){return i+_x+""}function Qb(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ks(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function bx(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class At{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qd(this.root,e,this.comparator,!1)}getReverseIterator(){return new qd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qd(this.root,e,this.comparator,!0)}}class qd{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??ln.RED,this.left=o??ln.EMPTY,this.right=c??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new ln(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kb(this.data.getIterator())}getIteratorFrom(e){return new Kb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class Kb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new Xt(cn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Ex extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Ex("Invalid base64 string: "+c):c}})(e);return new un(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const JI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(i){if(Xe(!!i,39018),typeof i=="string"){let e=0;const n=JI.exec(i);if(Xe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:jt(i.seconds),nanos:jt(i.nanos)}}function jt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Fs(i){return typeof i=="string"?un.fromBase64String(i):un.fromUint8Array(i)}const xx="server_timestamp",Tx="__type__",wx="__previous_value__",Ax="__local_write_time__";function Vg(i){return(i?.mapValue?.fields||{})[Tx]?.stringValue===xx}function Hh(i){const e=i.mapValue.fields[wx];return Vg(e)?Hh(e):e}function Fc(i){const e=qs(i.mapValue.fields[Ax].timestampValue);return new _t(e.seconds,e.nanos)}class WI{constructor(e,n,s,o,c,d,p,g,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=_}}const bh="(default)";class Hc{constructor(e,n){this.projectId=e,this.database=n||bh}static empty(){return new Hc("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof Hc&&e.projectId===this.projectId&&e.database===this.database}}const Sx="__type__",ZI="__max__",Fd={mapValue:{}},Rx="__vector__",Eh="value";function Hs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Vg(i)?4:tD(i)?9007199254740991:eD(i)?10:11:we(28295,{value:i})}function ar(i,e){if(i===e)return!0;const n=Hs(i);if(n!==Hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Fc(i).isEqual(Fc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=qs(o.timestampValue),p=qs(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return Fs(o.bytesValue).isEqual(Fs(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return jt(o.geoPointValue.latitude)===jt(c.geoPointValue.latitude)&&jt(o.geoPointValue.longitude)===jt(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return jt(o.integerValue)===jt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=jt(o.doubleValue),p=jt(c.doubleValue);return d===p?_h(d)===_h(p):isNaN(d)&&isNaN(p)}return!1})(i,e);case 9:return el(i.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(Qb(d)!==Qb(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!ar(d[g],p[g])))return!1;return!0})(i,e);default:return we(52216,{left:i})}}function Gc(i,e){return(i.values||[]).find((n=>ar(n,e)))!==void 0}function tl(i,e){if(i===e)return 0;const n=Hs(i),s=Hs(e);if(n!==s)return Ge(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(i.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=jt(c.integerValue||c.doubleValue),g=jt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return Xb(i.timestampValue,e.timestampValue);case 4:return Xb(Fc(i),Fc(e));case 5:return Hp(i.stringValue,e.stringValue);case 6:return(function(c,d){const p=Fs(c),g=Fs(d);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const _=Ge(p[y],g[y]);if(_!==0)return _}return Ge(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Ge(jt(c.latitude),jt(d.latitude));return p!==0?p:Ge(jt(c.longitude),jt(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Jb(i.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},y=p[Eh]?.arrayValue,_=g[Eh]?.arrayValue,x=Ge(y?.values?.length||0,_?.values?.length||0);return x!==0?x:Jb(y,_)})(i.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Fd.mapValue&&d===Fd.mapValue)return 0;if(c===Fd.mapValue)return 1;if(d===Fd.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=d.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let x=0;x<g.length&&x<_.length;++x){const w=Hp(g[x],_[x]);if(w!==0)return w;const D=tl(p[g[x]],y[_[x]]);if(D!==0)return D}return Ge(g.length,_.length)})(i.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function Xb(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ge(i,e);const n=qs(i),s=qs(e),o=Ge(n.seconds,s.seconds);return o!==0?o:Ge(n.nanos,s.nanos)}function Jb(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=tl(n[o],s[o]);if(c)return c}return Ge(n.length,s.length)}function nl(i){return Gp(i)}function Gp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=qs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Fs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return _e.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Gp(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${Gp(n.fields[d])}`;return o+"}"})(i.mapValue):we(61005,{value:i})}function nh(i){switch(Hs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hh(i);return e?16+nh(e):16;case 5:return 2*i.stringValue.length;case 6:return Fs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+nh(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ks(s.fields,((c,d)=>{o+=c.length+nh(d)})),o})(i.mapValue);default:throw we(13486,{value:i})}}function Wb(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function $p(i){return!!i&&"integerValue"in i}function Pg(i){return!!i&&"arrayValue"in i}function Zb(i){return!!i&&"nullValue"in i}function eE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ih(i){return!!i&&"mapValue"in i}function eD(i){return(i?.mapValue?.fields||{})[Sx]?.stringValue===Rx}function Cc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ks(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Cc(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cc(i.arrayValue.values[n]);return e}return{...i}}function tD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===ZI}class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cc(n)}setAll(e){let n=cn.emptyPath(),s={},o=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}d?s[p.lastSegment()]=Cc(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ks(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new wn(Cc(this.value))}}function Nx(i){const e=[];return Ks(i.fields,((n,s)=>{const o=new cn([n]);if(ih(s)){const c=Nx(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Jn(e)}class tn{constructor(e,n,s,o,c,d,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new tn(e,0,Re.min(),Re.min(),Re.min(),wn.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,Re.min(),Re.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,Re.min(),Re.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xh{constructor(e,n){this.position=e,this.inclusive=n}}function tE(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const c=e[o],d=i.position[o];if(c.field.isKeyField()?s=_e.comparator(_e.fromName(d.referenceValue),n.key):s=tl(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function nE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ar(i.position[n],e.position[n]))return!1;return!0}class $c{constructor(e,n="asc"){this.field=e,this.dir=n}}function nD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Cx{}class qt extends Cx{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new rD(e,n,s):n==="array-contains"?new oD(e,s):n==="in"?new lD(e,s):n==="not-in"?new cD(e,s):n==="array-contains-any"?new uD(e,s):new qt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new sD(e,s):new aD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tl(n,this.value)):n!==null&&Hs(this.value)===Hs(n)&&this.matchesComparison(tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends Cx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Di(e,n)}matches(e){return Ix(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ix(i){return i.op==="and"}function Dx(i){return iD(i)&&Ix(i)}function iD(i){for(const e of i.filters)if(e instanceof Di)return!1;return!0}function Yp(i){if(i instanceof qt)return i.field.canonicalString()+i.op.toString()+nl(i.value);if(Dx(i))return i.filters.map((e=>Yp(e))).join(",");{const e=i.filters.map((n=>Yp(n))).join(",");return`${i.op}(${e})`}}function Ox(i,e){return i instanceof qt?(function(s,o){return o instanceof qt&&s.op===o.op&&s.field.isEqual(o.field)&&ar(s.value,o.value)})(i,e):i instanceof Di?(function(s,o){return o instanceof Di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,p)=>c&&Ox(d,o.filters[p])),!0):!1})(i,e):void we(19439)}function jx(i){return i instanceof qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${nl(n.value)}`})(i):i instanceof Di?(function(n){return n.op.toString()+" {"+n.getFilters().map(jx).join(" ,")+"}"})(i):"Filter"}class rD extends qt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class sD extends qt{constructor(e,n){super(e,"in",n),this.keys=Mx("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class aD extends qt{constructor(e,n){super(e,"not-in",n),this.keys=Mx("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Mx(i,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class oD extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pg(n)&&Gc(n.arrayValue,this.value)}}class lD extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gc(this.value.arrayValue,n)}}class cD extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gc(this.value.arrayValue,n)}}class uD extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Gc(this.value.arrayValue,s)))}}class dD{constructor(e,n=null,s=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function iE(i,e=null,n=[],s=[],o=null,c=null,d=null){return new dD(i,e,n,s,o,c,d)}function Lg(i){const e=Ce(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Yp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),lu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>nl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>nl(s))).join(",")),e.Te=n}return e.Te}function Ug(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!nD(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Ox(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!nE(i.startAt,e.startAt)&&nE(i.endAt,e.endAt)}function Qp(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class hl{constructor(e,n=null,s=[],o=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hD(i,e,n,s,o,c,d,p){return new hl(i,e,n,s,o,c,d,p)}function Gh(i){return new hl(i)}function rE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function kx(i){return i.collectionGroup!==null}function Ic(i){const e=Ce(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Xt(cn.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new $c(c,s))})),n.has(cn.keyField().canonicalString())||e.Ie.push(new $c(cn.keyField(),s))}return e.Ie}function ir(i){const e=Ce(i);return e.Ee||(e.Ee=fD(e,Ic(i))),e.Ee}function fD(i,e){if(i.limitType==="F")return iE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new $c(o.field,c)}));const n=i.endAt?new xh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new xh(i.startAt.position,i.startAt.inclusive):null;return iE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Kp(i,e){const n=i.filters.concat([e]);return new hl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Th(i,e,n){return new hl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function $h(i,e){return Ug(ir(i),ir(e))&&i.limitType===e.limitType}function Vx(i){return`${Lg(ir(i))}|lt:${i.limitType}`}function zo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>jx(o))).join(", ")}]`),lu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>nl(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>nl(o))).join(",")),`Target(${s})`})(ir(i))}; limitType=${i.limitType})`}function Yh(i,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):_e.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,o){for(const c of Ic(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(d,p,g){const y=tE(d,p,g);return d.inclusive?y<=0:y<0})(s.startAt,Ic(s),o)||s.endAt&&!(function(d,p,g){const y=tE(d,p,g);return d.inclusive?y>=0:y>0})(s.endAt,Ic(s),o))})(i,e)}function mD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Px(i){return(e,n)=>{let s=!1;for(const o of Ic(i)){const c=pD(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function pD(i,e,n){const s=i.field.isKeyField()?_e.comparator(e.key,n.key):(function(c,d,p){const g=d.data.field(c),y=p.data.field(c);return g!==null&&y!==null?tl(g,y):we(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:i.dir})}}class Fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return bx(this.inner)}size(){return this.innerSize}}const gD=new At(_e.comparator);function Fr(){return gD}const Lx=new At(_e.comparator);function Ac(...i){let e=Lx;for(const n of i)e=e.insert(n.key,n);return e}function Ux(i){let e=Lx;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ca(){return Dc()}function zx(){return Dc()}function Dc(){return new Fa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const yD=new At(_e.comparator),vD=new Xt(_e.comparator);function $e(...i){let e=vD;for(const n of i)e=e.add(n);return e}const _D=new Xt(Ge);function bD(){return _D}function zg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function Bx(i){return{integerValue:""+i}}function ED(i,e){return QI(e)?Bx(e):zg(i,e)}class Qh{constructor(){this._=void 0}}function xD(i,e,n){return i instanceof Yc?(function(o,c){const d={fields:{[Tx]:{stringValue:xx},[Ax]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Vg(c)&&(c=Hh(c)),c&&(d.fields[wx]=c),{mapValue:d}})(n,e):i instanceof Qc?Fx(i,e):i instanceof Kc?Hx(i,e):(function(o,c){const d=qx(o,c),p=sE(d)+sE(o.Ae);return $p(d)&&$p(o.Ae)?Bx(p):zg(o.serializer,p)})(i,e)}function TD(i,e,n){return i instanceof Qc?Fx(i,e):i instanceof Kc?Hx(i,e):n}function qx(i,e){return i instanceof wh?(function(s){return $p(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Yc extends Qh{}class Qc extends Qh{constructor(e){super(),this.elements=e}}function Fx(i,e){const n=Gx(e);for(const s of i.elements)n.some((o=>ar(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Kc extends Qh{constructor(e){super(),this.elements=e}}function Hx(i,e){let n=Gx(e);for(const s of i.elements)n=n.filter((o=>!ar(o,s)));return{arrayValue:{values:n}}}class wh extends Qh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function sE(i){return jt(i.integerValue||i.doubleValue)}function Gx(i){return Pg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class wD{constructor(e,n){this.field=e,this.transform=n}}function AD(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Qc&&o instanceof Qc||s instanceof Kc&&o instanceof Kc?el(s.elements,o.elements,ar):s instanceof wh&&o instanceof wh?ar(s.Ae,o.Ae):s instanceof Yc&&o instanceof Yc})(i.transform,e.transform)}class SD{constructor(e,n){this.version=e,this.transformResults=n}}class Ft{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ft}static exists(e){return new Ft(void 0,e)}static updateTime(e){return new Ft(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Kh{}function $x(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new uu(i.key,Ft.none()):new cu(i.key,i.data,Ft.none());{const n=i.data,s=wn.empty();let o=new Xt(cn.comparator);for(let c of e.fields)if(!o.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Xs(i.key,s,new Jn(o.toArray()),Ft.none())}}function RD(i,e,n){i instanceof cu?(function(o,c,d){const p=o.value.clone(),g=oE(o.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(i,e,n):i instanceof Xs?(function(o,c,d){if(!rh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=oE(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(Yx(o)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(i,e,n):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Oc(i,e,n,s){return i instanceof cu?(function(c,d,p,g){if(!rh(c.precondition,d))return p;const y=c.value.clone(),_=lE(c.fieldTransforms,g,d);return y.setAll(_),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(i,e,n,s):i instanceof Xs?(function(c,d,p,g){if(!rh(c.precondition,d))return p;const y=lE(c.fieldTransforms,g,d),_=d.data;return _.setAll(Yx(c)),_.setAll(y),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(i,e,n,s):(function(c,d,p){return rh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(i,e,n)}function ND(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),c=qx(s.transform,o||null);c!=null&&(n===null&&(n=wn.empty()),n.set(s.field,c))}return n||null}function aE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&el(s,o,((c,d)=>AD(c,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class cu extends Kh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xs extends Kh{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Yx(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function oE(i,e,n){const s=new Map;Xe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const c=i[o],d=c.transform,p=e.data.field(c.field);s.set(c.field,TD(d,p,n[o]))}return s}function lE(i,e,n){const s=new Map;for(const o of i){const c=o.transform,d=n.data.field(o.field);s.set(o.field,xD(c,d,e))}return s}class uu extends Kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qx extends Kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class CD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&RD(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Oc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Oc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=zx();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(o.key)?null:p;const g=$x(d,p);g!==null&&s.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),$e())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,((n,s)=>aE(n,s)))&&el(this.baseMutations,e.baseMutations,((n,s)=>aE(n,s)))}}class Bg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Xe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return yD})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new Bg(e,n,s,o)}}class ID{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class DD{constructor(e,n){this.count=e,this.unchangedNames=n}}var Bt,Ke;function Kx(i){switch(i){case Z.OK:return we(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return we(15467,{code:i})}}function Xx(i){if(i===void 0)return qr("GRPC error has no .code"),Z.UNKNOWN;switch(i){case Bt.OK:return Z.OK;case Bt.CANCELLED:return Z.CANCELLED;case Bt.UNKNOWN:return Z.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return Z.INTERNAL;case Bt.UNAVAILABLE:return Z.UNAVAILABLE;case Bt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Bt.NOT_FOUND:return Z.NOT_FOUND;case Bt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Bt.ABORTED:return Z.ABORTED;case Bt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Bt.DATA_LOSS:return Z.DATA_LOSS;default:return we(39323,{code:i})}}(Ke=Bt||(Bt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function OD(){return new TextEncoder}const jD=new ks([4294967295,4294967295],0);function cE(i){const e=OD().encode(i),n=new cx;return n.update(e),new Uint8Array(n.digest())}function uE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ks([n,s],0),new ks([o,c],0)]}class qg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Sc(`Invalid padding: ${n}`);if(s<0)throw new Sc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Sc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Sc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ks.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ks.fromNumber(s)));return o.compare(jD)===1&&(o=new ks([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=cE(e),[s,o]=uE(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new qg(c,o,n);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=cE(e),[s,o]=uE(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xh{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Xh(Re.min(),o,new At(Ge),Fr(),$e())}}class du{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new du(s,n,$e(),$e(),$e())}}class sh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Jx{constructor(e,n){this.targetId=e,this.Ce=n}}class Wx{constructor(e,n,s=un.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class dE{constructor(){this.ve=0,this.Fe=hE(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),n=$e(),s=$e();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:c})}})),new du(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=hE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class MD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fr(),this.Je=Hd(),this.He=Hd(),this.Ye=new At(Ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Qp(c))if(s===0){const d=new _e(c.path);this.et(n,d,tn.newNoDocument(d,Re.min()))}else Xe(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let d,p;try{d=Fs(s).toUint8Array()}catch(g){if(g instanceof Ex)return Zo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new qg(d,o,c)}catch(g){return Zo(g instanceof Sc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Qp(p.target)){const g=new _e(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,tn.newNoDocument(g,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let s=$e();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Xh(e,n,this.Ye,this.je,s);return this.je=Fr(),this.Je=Hd(),this.He=Hd(),this.Ye=new At(Ge),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new dE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Xt(Ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Xt(Ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Hd(){return new At(_e.comparator)}function hE(){return new At(_e.comparator)}const kD={asc:"ASCENDING",desc:"DESCENDING"},VD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PD={and:"AND",or:"OR"};class LD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xp(i,e){return i.useProto3Json||lu(e)?e:{value:e}}function Ah(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zx(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function UD(i,e){return Ah(i,e.toTimestamp())}function Zn(i){return Xe(!!i,49232),Re.fromTimestamp((function(n){const s=qs(n);return new _t(s.seconds,s.nanos)})(i))}function Fg(i,e){return Jp(i,e).canonicalString()}function Jp(i,e){const n=(function(o){return new mt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function eT(i){const e=mt.fromString(i);return Xe(aT(e),10190,{key:e.toString()}),e}function Sh(i,e){return Fg(i.databaseId,e.path)}function jc(i,e){const n=eT(e);if(n.get(1)!==i.databaseId.projectId)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new _e(nT(n))}function tT(i,e){return Fg(i.databaseId,e)}function zD(i){const e=eT(i);return e.length===4?mt.emptyPath():nT(e)}function Wp(i){return new mt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function nT(i){return Xe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function fE(i,e,n){return{name:Sh(i,e),fields:n.value.mapValue.fields}}function BD(i,e){return"found"in e?(function(s,o){Xe(!!o.found,43571),o.found.name,o.found.updateTime;const c=jc(s,o.found.name),d=Zn(o.found.updateTime),p=o.found.createTime?Zn(o.found.createTime):Re.min(),g=new wn({mapValue:{fields:o.found.fields}});return tn.newFoundDocument(c,d,p,g)})(i,e):"missing"in e?(function(s,o){Xe(!!o.missing,3894),Xe(!!o.readTime,22933);const c=jc(s,o.missing),d=Zn(o.readTime);return tn.newNoDocument(c,d)})(i,e):we(7234,{result:e})}function qD(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,_){return y.useProto3Json?(Xe(_===void 0||typeof _=="string",58123),un.fromBase64String(_||"")):(Xe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),un.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const _=y.code===void 0?Z.UNKNOWN:Xx(y.code);return new he(_,y.message||"")})(d);n=new Wx(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=jc(i,s.document.name),c=Zn(s.document.updateTime),d=s.document.createTime?Zn(s.document.createTime):Re.min(),p=new wn({mapValue:{fields:s.document.fields}}),g=tn.newFoundDocument(o,c,d,p),y=s.targetIds||[],_=s.removedTargetIds||[];n=new sh(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=jc(i,s.document),c=s.readTime?Zn(s.readTime):Re.min(),d=tn.newNoDocument(o,c),p=s.removedTargetIds||[];n=new sh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=jc(i,s.document),c=s.removedTargetIds||[];n=new sh([],c,o,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new DD(o,c),p=s.targetId;n=new Jx(p,d)}}return n}function iT(i,e){let n;if(e instanceof cu)n={update:fE(i,e.key,e.value)};else if(e instanceof uu)n={delete:Sh(i,e.key)};else if(e instanceof Xs)n={update:fE(i,e.key,e.data),updateMask:JD(e.fieldMask)};else{if(!(e instanceof Qx))return we(16599,{Vt:e.type});n={verify:Sh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof Yc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Qc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Kc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof wh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw we(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:UD(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:we(27497)})(i,e.precondition)),n}function FD(i,e){return i&&i.length>0?(Xe(e!==void 0,14353),i.map((n=>(function(o,c){let d=o.updateTime?Zn(o.updateTime):Zn(c);return d.isEqual(Re.min())&&(d=Zn(c)),new SD(d,o.transformResults||[])})(n,e)))):[]}function HD(i,e){return{documents:[tT(i,e.path)]}}function GD(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=tT(i,o);const c=(function(y){if(y.length!==0)return sT(Di.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((_=>(function(w){return{field:Bo(w.field),direction:QD(w.dir)}})(_)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Xp(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function $D(i){let e=zD(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Xe(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let c=[];n.where&&(c=(function(x){const w=rT(x);return w instanceof Di&&Dx(w)?w.getFilters():[w]})(n.where));let d=[];n.orderBy&&(d=(function(x){return x.map((w=>(function(R){return new $c(qo(R.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(w)))})(n.orderBy));let p=null;n.limit&&(p=(function(x){let w;return w=typeof x=="object"?x.value:x,lu(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(x){const w=!!x.before,D=x.values||[];return new xh(D,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(x){const w=!x.before,D=x.values||[];return new xh(D,w)})(n.endAt)),hD(e,o,d,c,p,"F",g,y)}function YD(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rT(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=qo(n.unaryFilter.field);return qt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=qo(n.unaryFilter.field);return qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=qo(n.unaryFilter.field);return qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=qo(n.unaryFilter.field);return qt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(i):i.fieldFilter!==void 0?(function(n){return qt.create(qo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Di.create(n.compositeFilter.filters.map((s=>rT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(i):we(30097,{filter:i})}function QD(i){return kD[i]}function KD(i){return VD[i]}function XD(i){return PD[i]}function Bo(i){return{fieldPath:i.canonicalString()}}function qo(i){return cn.fromServerFormat(i.fieldPath)}function sT(i){return i instanceof qt?(function(n){if(n.op==="=="){if(eE(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NAN"}};if(Zb(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eE(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NAN"}};if(Zb(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(n.field),op:KD(n.op),value:n.value}}})(i):i instanceof Di?(function(n){const s=n.getFilters().map((o=>sT(o)));return s.length===1?s[0]:{compositeFilter:{op:XD(n.op),filters:s}}})(i):we(54877,{filter:i})}function JD(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function aT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Ds{constructor(e,n,s,o,c=Re.min(),d=Re.min(),p=un.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class WD{constructor(e){this.yt=e}}function ZD(i){const e=$D({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Th(e,e.limit,"L"):e}class eO{constructor(){this.Cn=new tO}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Bs.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class tO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Xt(mt.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Xt(mt.comparator)).toArray()}}const mE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oT=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(oT,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);class il{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new il(0)}static cr(){return new il(-1)}}const pE="LruGarbageCollector",nO=1048576;function gE([i,e],[n,s]){const o=Ge(i,n);return o===0?Ge(e,s):o}class iO{constructor(e){this.Ir=e,this.buffer=new Xt(gE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();gE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(pE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){dl(n)?me(pE,"Ignoring IndexedDB error during garbage collection: ",n):await ul(n)}await this.Vr(3e5)}))}}class sO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Fh.ce);const s=new iO(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(mE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,c,d,p,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(s=x,p=Date.now(),this.removeTargets(e,s,n)))).next((x=>(c=x,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((x=>(y=Date.now(),Uo()<=He.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-_}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${x} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x}))))}}function aO(i,e){return new sO(i,e)}class oO{constructor(){this.changes=new Fa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class cO{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Oc(s.mutation,o,Jn.empty(),_t.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,$e()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=$e()){const o=Ca();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let d=Ac();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const s=Ca();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,$e())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,s,o){let c=Fr();const d=Dc(),p=(function(){return Dc()})();return n.forEach(((g,y)=>{const _=s.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof Xs)?c=c.insert(y.key,y):_!==void 0?(d.set(y.key,_.mutation.getFieldMask()),Oc(_.mutation,y,_.mutation.getFieldMask(),_t.now())):d.set(y.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,_)=>d.set(y,_))),n.forEach(((y,_)=>p.set(y,new lO(_,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=Dc();let o=new At(((d,p)=>d-p)),c=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let _=s.get(g)||Jn.empty();_=p.applyToLocalView(y,_),s.set(g,_);const x=(o.get(p.batchId)||$e()).add(g);o=o.insert(p.batchId,x)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,_=g.value,x=zx();_.forEach((w=>{if(!c.has(w)){const D=$x(n.get(w),s.get(w));D!==null&&x.set(w,D),c=c.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,x))}return ie.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):ie.resolve(Ca());let p=qc,g=c;return d.next((y=>ie.forEach(y,((_,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),c.get(_)?ie.resolve():this.remoteDocumentCache.getEntry(e,_).next((w=>{g=g.insert(_,w)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,$e()))).next((_=>({batchId:p,changes:Ux(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let o=Ac();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let d=Ac();return this.indexManager.getCollectionParents(e,c).next((p=>ie.forEach(p,(g=>{const y=(function(x,w){return new hl(w,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((_=>{_.forEach(((x,w)=>{d=d.insert(x,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((d=>{c.forEach(((g,y)=>{const _=y.getKey();d.get(_)===null&&(d=d.insert(_,tn.newInvalidDocument(_)))}));let p=Ac();return d.forEach(((g,y)=>{const _=c.get(g);_!==void 0&&Oc(_.mutation,y,Jn.empty(),_t.now()),Yh(n,y)&&(p=p.insert(g,y))})),p}))}}class uO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Zn(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:ZD(o.bundledQuery),readTime:Zn(o.readTime)}})(n)),ie.resolve()}}class dO{constructor(){this.overlays=new At(_e.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ca();return ie.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.St(e,n,c)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=Ca(),c=n.length+1,d=new _e(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new At(((y,_)=>y-_));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let _=c.get(y.largestBatchId);_===null&&(_=Ca(),c=c.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const p=Ca(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,_)=>p.set(y,_))),!(p.size()>=o)););return ie.resolve(p)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new ID(n,s));let c=this.qr.get(n);c===void 0&&(c=$e(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}class hO{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class Hg{constructor(){this.Qr=new Xt(en.$r),this.Ur=new Xt(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new en(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new en(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new _e(new mt([])),s=new en(n,e),o=new en(n,e+1),c=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new mt([])),s=new en(n,e),o=new en(n,e+1);let c=$e();return this.Ur.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new en(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class en{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Ge(e.Yr,n.Yr)}static Kr(e,n){return Ge(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}class fO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(en.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new CD(c,n,s,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new en(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ie.resolve(d)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?kg:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new en(n,0),o=new en(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Xt(Ge);return n.forEach((o=>{const c=new en(o,0),d=new en(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{s=s.add(p.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;_e.isDocumentKey(c)||(c=c.child(""));const d=new en(new _e(c),0);let p=new Xt(Ge);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),d),ie.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const c=new en(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new en(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class mO{constructor(e){this.ri=e,this.docs=(function(){return new At(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=Fr();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():tn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=Fr();const d=n.path,p=new _e(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||HI(FI(_),s)<=0||(o.has(_.key)||Yh(n,_))&&(c=c.insert(_.key,_.mutableCopy()))}return ie.resolve(c)}getAllFromCollectionGroup(e,n,s,o){we(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new pO(this)}getSize(e){return ie.resolve(this.size)}}class pO extends oO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class gO{constructor(e){this.persistence=e,this.si=new Fa((n=>Lg(n)),Ug),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Hg,this.targetCount=0,this.ai=il.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new il(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ie.waitFor(c).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),ie.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class lT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Fh(0),this.li=!1,this.li=!0,this.hi=new hO,this.referenceDelegate=e(this),this.Pi=new gO(this),this.indexManager=new eO,this.remoteDocumentCache=(function(o){return new mO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new WD(n),this.Ii=new uO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new fO(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const o=new yO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class yO extends $I{constructor(e){super(),this.currentSequenceNumber=e}}class Gg{constructor(e){this.persistence=e,this.Ri=new Hg,this.Vi=null}static mi(e){return new Gg(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=_e.fromPath(s);return this.gi(e,o).next((c=>{c||n.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Rh{constructor(e,n){this.persistence=e,this.pi=new Fa((s=>KI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=aO(this,n)}static mi(e,n){return new Rh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,n).next((p=>{p||(s++,c.removeEntry(d,Re.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nh(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class $g{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=$e(),o=$e();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new $g(e,n.fromCache,s,o)}}class vO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _O{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return W2()?8:YI(gn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new vO;return this.Ss(e,n,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,d,p.size)}))})).next((()=>c.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Uo()<=He.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Uo()<=He.DEBUG&&me("QueryEngine","Query:",zo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Uo()<=He.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ir(n))):ie.resolve())}ys(e,n){if(rE(n))return ie.resolve(null);let s=ir(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Th(n,null,"F"),s=ir(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=$e(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,d,g.readTime)?this.ys(e,Th(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,s,o){return rE(n)||o.isEqual(Re.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,s,o)?ie.resolve(null):(Uo()<=He.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),zo(n)),this.vs(e,d,n,qI(o,qc)).next((p=>p)))}))}Ds(e,n){let s=new Xt(Px(e));return n.forEach(((o,c)=>{Yh(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,s){return Uo()<=He.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",zo(n)),this.ps.getDocumentsMatchingQuery(e,n,Bs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Yg="LocalStore",bO=3e8;class EO{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new At(Ge),this.xs=new Fa((c=>Lg(c)),Ug),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function xO(i,e,n,s){return new EO(i,e,n,s)}async function cT(i,e){const n=Ce(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let g=$e();for(const y of o){d.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of c){p.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function TO(i,e){const n=Ce(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,_){const x=y.batch,w=x.keys();let D=ie.resolve();return w.forEach((R=>{D=D.next((()=>_.getEntry(g,R))).next((q=>{const k=y.docVersions.get(R);Xe(k!==null,48541),q.version.compareTo(k)<0&&(x.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),_.addEntry(q)))}))})),D.next((()=>p.mutationQueue.removeMutationBatch(g,x)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=$e();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function uT(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function wO(i,e){const n=Ce(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((_,x)=>{const w=o.get(x);if(!w)return;p.push(n.Pi.removeMatchingKeys(c,_.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(c,_.addedDocuments,x))));let D=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?D=D.withResumeToken(un.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,s)),o=o.insert(x,D),(function(q,k,j){return q.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=bO?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(w,D,_)&&p.push(n.Pi.updateTargetData(c,D))}));let g=Fr(),y=$e();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,_))})),p.push(AO(c,d,e.documentUpdates).next((_=>{g=_.ks,y=_.qs}))),!s.isEqual(Re.min())){const _=n.Pi.getLastRemoteSnapshotVersion(c).next((x=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(_)}return ie.waitFor(p).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=o,c)))}function AO(i,e,n){let s=$e(),o=$e();return n.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let d=Fr();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):me(Yg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:o}}))}function SO(i,e){const n=Ce(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=kg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function RO(i,e){const n=Ce(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((c=>c?(o=c,ie.resolve(o)):n.Pi.allocateTargetId(s).next((d=>(o=new Ds(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Zp(i,e,n){const s=Ce(i),o=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!dl(d))throw d;me(Yg,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function yE(i,e,n){const s=Ce(i);let o=Re.min(),c=$e();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,_){const x=Ce(g),w=x.xs.get(_);return w!==void 0?ie.resolve(x.Ms.get(w)):x.Pi.getTargetData(y,_)})(s,d,ir(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,n?o:Re.min(),n?c:$e()))).next((p=>(NO(s,mD(e),p),{documents:p,Qs:c})))))}function NO(i,e,n){let s=i.Os.get(e)||Re.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Os.set(e,s)}class vE{constructor(){this.activeTargetIds=bD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CO{constructor(){this.Mo=new vE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new vE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class IO{Oo(e){}shutdown(){}}const _E="ConnectivityMonitor";class bE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(_E,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(_E,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gd=null;function eg(){return Gd===null?Gd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gd++,"0x"+Gd.toString(16)}const Ep="RestConnection",DO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===bh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,c){const d=eg(),p=this.zo(e,n.toUriEncodedString());me(Ep,`Sending RPC '${e}' ${d}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(p),_=Ys(y);return this.Jo(e,p,g,s,_).then((x=>(me(Ep,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw Zo(Ep,`RPC '${e}' ${d} failed with error: `,x,"url: ",p,"request:",s),x}))}Ho(e,n,s,o,c,d){return this.Go(e,n,s,o,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const s=DO[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class jO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const mn="WebChannelConnection";class MO extends OO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,c){const d=eg();return new Promise(((p,g)=>{const y=new ux;y.setWithCredentials(!0),y.listenOnce(dx.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case th.NO_ERROR:const x=y.getResponseJson();me(mn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),p(x);break;case th.TIMEOUT:me(mn,`RPC '${e}' ${d} timed out`),g(new he(Z.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const w=y.getStatus();if(me(mn,`RPC '${e}' ${d} failed with status:`,w,"response text:",y.getResponseText()),w>0){let D=y.getResponseJson();Array.isArray(D)&&(D=D[0]);const R=D?.error;if(R&&R.status&&R.message){const q=(function(j){const X=j.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(X)>=0?X:Z.UNKNOWN})(R.status);g(new he(q,R.message))}else g(new he(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new he(Z.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{me(mn,`RPC '${e}' ${d} completed.`)}}));const _=JSON.stringify(o);me(mn,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",_,s,15)}))}T_(e,n,s){const o=eg(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=mx(),p=fx(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const _=c.join("");me(mn,`Creating RPC '${e}' stream ${o}: ${_}`,g);const x=d.createWebChannel(_,g);this.I_(x);let w=!1,D=!1;const R=new jO({Yo:k=>{D?me(mn,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(w||(me(mn,`Opening RPC '${e}' stream ${o} transport.`),x.open(),w=!0),me(mn,`RPC '${e}' stream ${o} sending:`,k),x.send(k))},Zo:()=>x.close()}),q=(k,j,X)=>{k.listen(j,(Q=>{try{X(Q)}catch(re){setTimeout((()=>{throw re}),0)}}))};return q(x,wc.EventType.OPEN,(()=>{D||(me(mn,`RPC '${e}' stream ${o} transport opened.`),R.o_())})),q(x,wc.EventType.CLOSE,(()=>{D||(D=!0,me(mn,`RPC '${e}' stream ${o} transport closed`),R.a_(),this.E_(x))})),q(x,wc.EventType.ERROR,(k=>{D||(D=!0,Zo(mn,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),R.a_(new he(Z.UNAVAILABLE,"The operation could not be completed")))})),q(x,wc.EventType.MESSAGE,(k=>{if(!D){const j=k.data[0];Xe(!!j,16349);const X=j,Q=X?.error||X[0]?.error;if(Q){me(mn,`RPC '${e}' stream ${o} received error:`,Q);const re=Q.status;let ce=(function(S){const C=Bt[S];if(C!==void 0)return Xx(C)})(re),de=Q.message;ce===void 0&&(ce=Z.INTERNAL,de="Unknown error status: "+re+" with message "+Q.message),D=!0,R.a_(new he(ce,de)),x.close()}else me(mn,`RPC '${e}' stream ${o} received:`,j),R.u_(j)}})),q(p,hx.STAT_EVENT,(k=>{k.stat===Fp.PROXY?me(mn,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Fp.NOPROXY&&me(mn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function xp(){return typeof document<"u"?document:null}function Jh(i){return new LD(i,!0)}class Qg{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const EE="PersistentStream";class dT{constructor(e,n,s,o,c,d,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Qg(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(qr(n.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(EE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(EE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kO extends dT{constructor(e,n,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=qD(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Re.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Re.min():d.readTime?Zn(d.readTime):Re.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Wp(this.serializer),n.addTarget=(function(c,d){let p;const g=d.target;if(p=Qp(g)?{documents:HD(c,g)}:{query:GD(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Zx(c,d.resumeToken);const y=Xp(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Re.min())>0){p.readTime=Ah(c,d.snapshotVersion.toTimestamp());const y=Xp(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=YD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Wp(this.serializer),n.removeTarget=e,this.q_(n)}}class VO extends dT{constructor(e,n,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=FD(e.writeResults,e.commitTime),s=Zn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Wp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>iT(this.serializer,s)))};this.q_(n)}}class PO{}class LO extends PO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Jp(n,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(Z.UNKNOWN,c.toString())}))}Ho(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Jp(n,s),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class UO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qr(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Pa="RemoteStore";class zO{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Ha(this)&&(me(Pa,"Restarting streams for network reachability change."),await(async function(g){const y=Ce(g);y.Ea.add(4),await hu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Wh(y)})(this))}))})),this.Ra=new UO(s,o)}}async function Wh(i){if(Ha(i))for(const e of i.da)await e(!0)}async function hu(i){for(const e of i.da)await e(!1)}function hT(i,e){const n=Ce(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Wg(n)?Jg(n):fl(n).O_()&&Xg(n,e))}function Kg(i,e){const n=Ce(i),s=fl(n);n.Ia.delete(e),s.O_()&&fT(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ha(n)&&n.Ra.set("Unknown"))}function Xg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fl(i).Y_(e)}function fT(i,e){i.Va.Ue(e),fl(i).Z_(e)}function Jg(i){i.Va=new MD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),fl(i).start(),i.Ra.ua()}function Wg(i){return Ha(i)&&!fl(i).x_()&&i.Ia.size>0}function Ha(i){return Ce(i).Ea.size===0}function mT(i){i.Va=void 0}async function BO(i){i.Ra.set("Online")}async function qO(i){i.Ia.forEach(((e,n)=>{Xg(i,e)}))}async function FO(i,e){mT(i),Wg(i)?(i.Ra.ha(e),Jg(i)):i.Ra.set("Unknown")}async function HO(i,e,n){if(i.Ra.set("Online"),e instanceof Wx&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(s){me(Pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Nh(i,s)}else if(e instanceof sh?i.Va.Ze(e):e instanceof Jx?i.Va.st(e):i.Va.tt(e),!n.isEqual(Re.min()))try{const s=await uT(i.localStore);n.compareTo(s)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=c.Ia.get(y);_&&c.Ia.set(y,_.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const _=c.Ia.get(g);if(!_)return;c.Ia.set(g,_.withResumeToken(un.EMPTY_BYTE_STRING,_.snapshotVersion)),fT(c,g);const x=new Ds(_.target,g,y,_.sequenceNumber);Xg(c,x)})),c.remoteSyncer.applyRemoteEvent(p)})(i,n)}catch(s){me(Pa,"Failed to raise snapshot:",s),await Nh(i,s)}}async function Nh(i,e,n){if(!dl(e))throw e;i.Ea.add(1),await hu(i),i.Ra.set("Offline"),n||(n=()=>uT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{me(Pa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Wh(i)}))}function pT(i,e){return e().catch((n=>Nh(i,n,e)))}async function Zh(i){const e=Ce(i),n=Gs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:kg;for(;GO(e);)try{const o=await SO(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,$O(e,o)}catch(o){await Nh(e,o)}gT(e)&&yT(e)}function GO(i){return Ha(i)&&i.Ta.length<10}function $O(i,e){i.Ta.push(e);const n=Gs(i);n.O_()&&n.X_&&n.ea(e.mutations)}function gT(i){return Ha(i)&&!Gs(i).x_()&&i.Ta.length>0}function yT(i){Gs(i).start()}async function YO(i){Gs(i).ra()}async function QO(i){const e=Gs(i);for(const n of i.Ta)e.ea(n.mutations)}async function KO(i,e,n){const s=i.Ta.shift(),o=Bg.from(s,e,n);await pT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Zh(i)}async function XO(i,e){e&&Gs(i).X_&&await(async function(s,o){if((function(d){return Kx(d)&&d!==Z.ABORTED})(o.code)){const c=s.Ta.shift();Gs(s).B_(),await pT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Zh(s)}})(i,e),gT(i)&&yT(i)}async function xE(i,e){const n=Ce(i);n.asyncQueue.verifyOperationInProgress(),me(Pa,"RemoteStore received new credentials");const s=Ha(n);n.Ea.add(3),await hu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Wh(n)}async function JO(i,e){const n=Ce(i);e?(n.Ea.delete(2),await Wh(n)):e||(n.Ea.add(2),await hu(n),n.Ra.set("Unknown"))}function fl(i){return i.ma||(i.ma=(function(n,s,o){const c=Ce(n);return c.sa(),new kO(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:BO.bind(null,i),t_:qO.bind(null,i),r_:FO.bind(null,i),H_:HO.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Wg(i)?Jg(i):i.Ra.set("Unknown")):(await i.ma.stop(),mT(i))}))),i.ma}function Gs(i){return i.fa||(i.fa=(function(n,s,o){const c=Ce(n);return c.sa(),new VO(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:YO.bind(null,i),r_:XO.bind(null,i),ta:QO.bind(null,i),na:KO.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Zh(i)):(await i.fa.stop(),i.Ta.length>0&&(me(Pa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Zg{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const d=Date.now()+s,p=new Zg(e,n,d,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ey(i,e){if(qr("AsyncQueue",`${e}: ${i}`),dl(i))return new he(Z.UNAVAILABLE,`${e}: ${i}`);throw i}class Xo{static emptySet(e){return new Xo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Ac(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Xo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class TE{constructor(){this.ga=new At(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class rl{constructor(e,n,s,o,c,d,p,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,c){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new rl(e,n,Xo.emptySet(n),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class WO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ZO{constructor(){this.queries=wE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),c=o.queries;o.queries=wE(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new he(Z.ABORTED,"Firestore shutting down"))}}function wE(){return new Fa((i=>Vx(i)),$h)}async function vT(i,e){const n=Ce(i);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new WO,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const p=ey(d,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&ty(n)}async function _T(i,e){const n=Ce(i),s=e.query;let o=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function e4(i,e){const n=Ce(i);let s=!1;for(const o of e){const c=o.query,d=n.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(s=!0);d.wa=o}}s&&ty(n)}function t4(i,e,n){const s=Ce(i),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(e)}function ty(i){i.Ca.forEach((e=>{e.next()}))}var tg,AE;(AE=tg||(tg={})).Ma="default",AE.Cache="cache";class bT{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new rl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tg.Cache}}class ET{constructor(e){this.key=e}}class xT{constructor(e){this.key=e}}class n4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=Px(e),this.tu=new Xo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new TE,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,x)=>{const w=o.get(_),D=Yh(this.query,x)?x:null,R=!!w&&this.mutatedKeys.has(w.key),q=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let k=!1;w&&D?w.data.isEqual(D.data)?R!==q&&(s.track({type:3,doc:D}),k=!0):this.su(w,D)||(s.track({type:2,doc:D}),k=!0,(g&&this.eu(D,g)>0||y&&this.eu(D,y)<0)&&(p=!0)):!w&&D?(s.track({type:0,doc:D}),k=!0):w&&!D&&(s.track({type:1,doc:w}),k=!0,(g||y)&&(p=!0)),k&&(D?(d=d.add(D),c=q?c.add(_):c.delete(_)):(d=d.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const _=this.query.limitType==="F"?d.last():d.first();d=d.delete(_.key),c=c.delete(_.key),s.track({type:1,doc:_})}return{tu:d,iu:s,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((_,x)=>(function(D,R){const q=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:k})}};return q(D)-q(R)})(_.type,x.type)||this.eu(_.doc,x.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new rl(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new TE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new xT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new ET(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=$e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ny="SyncEngine";class i4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class r4{constructor(e){this.key=e,this.hu=!1}}class s4{constructor(e,n,s,o,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fa((p=>Vx(p)),$h),this.Iu=new Map,this.Eu=new Set,this.du=new At(_e.comparator),this.Au=new Map,this.Ru=new Hg,this.Vu={},this.mu=new Map,this.fu=il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function a4(i,e,n=!0){const s=NT(i);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await TT(s,e,n,!0),o}async function o4(i,e){const n=NT(i);await TT(n,e,!0,!1)}async function TT(i,e,n,s){const o=await RO(i.localStore,ir(e)),c=o.targetId,d=i.sharedClientState.addLocalQueryTarget(c,n);let p;return s&&(p=await l4(i,e,c,d==="current",o.resumeToken)),i.isPrimaryClient&&n&&hT(i.remoteStore,o),p}async function l4(i,e,n,s,o){i.pu=(x,w,D)=>(async function(q,k,j,X){let Q=k.view.ru(j);Q.Cs&&(Q=await yE(q.localStore,k.query,!1).then((({documents:N})=>k.view.ru(N,Q))));const re=X&&X.targetChanges.get(k.targetId),ce=X&&X.targetMismatches.get(k.targetId)!=null,de=k.view.applyChanges(Q,q.isPrimaryClient,re,ce);return RE(q,k.targetId,de.au),de.snapshot})(i,x,w,D);const c=await yE(i.localStore,e,!0),d=new n4(e,c.Qs),p=d.ru(c.documents),g=du.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=d.applyChanges(p,i.isPrimaryClient,g);RE(i,n,y.au);const _=new i4(e,n,d);return i.Tu.set(e,_),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function c4(i,e,n){const s=Ce(i),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!$h(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Zp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Kg(s.remoteStore,o.targetId),ng(s,o.targetId)})).catch(ul)):(ng(s,o.targetId),await Zp(s.localStore,o.targetId,!0))}async function u4(i,e){const n=Ce(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Kg(n.remoteStore,s.targetId))}async function d4(i,e,n){const s=v4(i);try{const o=await(function(d,p){const g=Ce(d),y=_t.now(),_=p.reduce(((D,R)=>D.add(R.key)),$e());let x,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let R=Fr(),q=$e();return g.Ns.getEntries(D,_).next((k=>{R=k,R.forEach(((j,X)=>{X.isValidDocument()||(q=q.add(j))}))})).next((()=>g.localDocuments.getOverlayedDocuments(D,R))).next((k=>{x=k;const j=[];for(const X of p){const Q=ND(X,x.get(X.key).overlayedDocument);Q!=null&&j.push(new Xs(X.key,Q,Nx(Q.value.mapValue),Ft.exists(!0)))}return g.mutationQueue.addMutationBatch(D,y,j,p)})).next((k=>{w=k;const j=k.applyToLocalDocumentSet(x,q);return g.documentOverlayCache.saveOverlays(D,k.batchId,j)}))})).then((()=>({batchId:w.batchId,changes:Ux(x)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new At(Ge)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(s,o.batchId,n),await fu(s,o.changes),await Zh(s.remoteStore)}catch(o){const c=ey(o,"Failed to persist write");n.reject(c)}}async function wT(i,e){const n=Ce(i);try{const s=await wO(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=n.Au.get(c);d&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Xe(d.hu,14607):o.removedDocuments.size>0&&(Xe(d.hu,42227),d.hu=!1))})),await fu(n,s,e)}catch(s){await ul(s)}}function SE(i,e,n){const s=Ce(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const g=Ce(d);g.onlineState=p;let y=!1;g.queries.forEach(((_,x)=>{for(const w of x.Sa)w.va(p)&&(y=!0)})),y&&ty(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function h4(i,e,n){const s=Ce(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new At(_e.comparator);d=d.insert(c,tn.newNoDocument(c,Re.min()));const p=$e().add(c),g=new Xh(Re.min(),new Map,new At(Ge),d,p);await wT(s,g),s.du=s.du.remove(c),s.Au.delete(e),iy(s)}else await Zp(s.localStore,e,!1).then((()=>ng(s,e,n))).catch(ul)}async function f4(i,e){const n=Ce(i),s=e.batch.batchId;try{const o=await TO(n.localStore,e);ST(n,s,null),AT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fu(n,o)}catch(o){await ul(o)}}async function m4(i,e,n){const s=Ce(i);try{const o=await(function(d,p){const g=Ce(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return g.mutationQueue.lookupMutationBatch(y,p).next((x=>(Xe(x!==null,37113),_=x.keys(),g.mutationQueue.removeMutationBatch(y,x)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>g.localDocuments.getDocuments(y,_)))}))})(s.localStore,e);ST(s,e,n),AT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await fu(s,o)}catch(o){await ul(o)}}function AT(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function ST(i,e,n){const s=Ce(i);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function ng(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||RT(i,s)}))}function RT(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Kg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),iy(i))}function RE(i,e,n){for(const s of n)s instanceof ET?(i.Ru.addReference(s.key,e),p4(i,s)):s instanceof xT?(me(ny,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||RT(i,s.key)):we(19791,{wu:s})}function p4(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(me(ny,"New document in limbo: "+n),i.Eu.add(s),iy(i))}function iy(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new _e(mt.fromString(e)),s=i.fu.next();i.Au.set(s,new r4(n)),i.du=i.du.insert(n,s),hT(i.remoteStore,new Ds(ir(Gh(n.path)),s,"TargetPurposeLimboResolution",Fh.ce))}}async function fu(i,e,n){const s=Ce(i),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{d.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const _=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(y){o.push(y);const _=$g.As(g.targetId,y);c.push(_)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(g,y){const _=Ce(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>ie.forEach(y,(w=>ie.forEach(w.Es,(D=>_.persistence.referenceDelegate.addReference(x,w.targetId,D))).next((()=>ie.forEach(w.ds,(D=>_.persistence.referenceDelegate.removeReference(x,w.targetId,D)))))))))}catch(x){if(!dl(x))throw x;me(Yg,"Failed to update sequence numbers: "+x)}for(const x of y){const w=x.targetId;if(!x.fromCache){const D=_.Ms.get(w),R=D.snapshotVersion,q=D.withLastLimboFreeSnapshotVersion(R);_.Ms=_.Ms.insert(w,q)}}})(s.localStore,c))}async function g4(i,e){const n=Ce(i);if(!n.currentUser.isEqual(e)){me(ny,"User change. New user:",e.toKey());const s=await cT(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new he(Z.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fu(n,s.Ls)}}function y4(i,e){const n=Ce(i),s=n.Au.get(e);if(s&&s.hu)return $e().add(s.key);{let o=$e();const c=n.Iu.get(e);if(!c)return o;for(const d of c){const p=n.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function NT(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=wT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h4.bind(null,e),e.Pu.H_=e4.bind(null,e.eventManager),e.Pu.yu=t4.bind(null,e.eventManager),e}function v4(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m4.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return xO(this.persistence,new _O,e.initialUser,this.serializer)}Cu(e){return new lT(Gg.mi,this.serializer)}Du(e){return new CO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class _4 extends Ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof Rh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new rO(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new lT((s=>Rh.mi(s,n)),this.serializer)}}class ig{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>SE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=g4.bind(null,this.syncEngine),await JO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZO})()}createDatastore(e){const n=Jh(e.databaseInfo.databaseId),s=(function(c){return new MO(c)})(e.databaseInfo);return(function(c,d,p,g){return new LO(c,d,p,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,d,p){return new zO(s,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>SE(this.syncEngine,n,0)),(function(){return bE.v()?new bE:new IO})())}createSyncEngine(e,n){return(function(o,c,d,p,g,y,_){const x=new s4(o,c,d,p,g,y);return _&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ce(n);me(Pa,"RemoteStore shutting down."),s.Ea.add(5),await hu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ig.provider={build:()=>new ig};class CT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class b4{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new he(Z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,c){const d=Ce(o),p={documents:c.map((x=>Sh(d.serializer,x)))},g=await d.Ho("BatchGetDocuments",d.serializer.databaseId,mt.emptyPath(),p,c.length),y=new Map;g.forEach((x=>{const w=BD(d.serializer,x);y.set(w.key.toString(),w)}));const _=[];return c.forEach((x=>{const w=y.get(x.toString());Xe(!!w,55234,{key:x}),_.push(w)})),_})(this.datastore,e);return n.forEach((s=>this.recordVersion(s))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new uu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,s)=>{const o=_e.fromPath(s);this.mutations.push(new Qx(o,this.precondition(o)))})),await(async function(s,o){const c=Ce(s),d={writes:o.map((p=>iT(c.serializer,p)))};await c.Go("Commit",c.serializer.databaseId,mt.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw we(50498,{Gu:e.constructor.name});n=Re.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new he(Z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Re.min())?Ft.exists(!1):Ft.updateTime(n):Ft.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Re.min()))throw new he(Z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ft.updateTime(n)}return Ft.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class E4{constructor(e,n,s,o,c){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=c,this.zu=s.maxAttempts,this.M_=new Qg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new b4(this.datastore),n=this.Hu(e);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Yu(o)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(e){try{const n=this.updateFunction(e);return!lu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Kx(n)}return!1}}const $s="FirestoreClient";class x4{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=Mg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{me($s,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(me($s,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ey(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Tp(i,e){i.asyncQueue.verifyOperationInProgress(),me($s,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await cT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function NE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await T4(i);me($s,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>xE(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>xE(e.remoteStore,o))),i._onlineComponents=e}async function T4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me($s,"Using user provided OfflineComponentProvider");try{await Tp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Zo("Error using user provided cache. Falling back to memory cache: "+n),await Tp(i,new Ch)}}else me($s,"Using default OfflineComponentProvider"),await Tp(i,new _4(void 0));return i._offlineComponents}async function ry(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me($s,"Using user provided OnlineComponentProvider"),await NE(i,i._uninitializedComponentsProvider._online)):(me($s,"Using default OnlineComponentProvider"),await NE(i,new ig))),i._onlineComponents}function w4(i){return ry(i).then((e=>e.syncEngine))}function A4(i){return ry(i).then((e=>e.datastore))}async function rg(i){const e=await ry(i),n=e.eventManager;return n.onListen=a4.bind(null,e.syncEngine),n.onUnlisten=c4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=o4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=u4.bind(null,e.syncEngine),n}function S4(i,e,n={}){const s=new Lr;return i.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const _=new CT({next:w=>{_.Nu(),d.enqueueAndForget((()=>_T(c,x)));const D=w.docs.has(p);!D&&w.fromCache?y.reject(new he(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&w.fromCache&&g&&g.source==="server"?y.reject(new he(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),x=new bT(Gh(p.path),_,{includeMetadataChanges:!0,qa:!0});return vT(c,x)})(await rg(i),i.asyncQueue,e,n,s))),s.promise}function IT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const CE=new Map;const DT="firestore.googleapis.com",IE=!0;class DE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DT,this.ssl=IE}else this.host=e.host,this.ssl=e.ssl??IE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nO)throw new he(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ef{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new DI;switch(s.type){case"firstParty":return new kI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=CE.get(n);s&&(me("ComponentProvider","Removing Datastore"),CE.delete(n),s.terminate())})(this),Promise.resolve()}}function R4(i,e,n,s={}){i=Pn(i,ef);const o=Ys(e),c=i._getSettings(),d={...c,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${n}`;o&&(_g(`https://${p}`),bg("Firestore",!0)),c.host!==DT&&c.host!==p&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:s};if(!Oa(g,d)&&(i._setSettings(g),s.mockUserToken)){let y,_;if(typeof s.mockUserToken=="string")y=s.mockUserToken,_=pn.MOCK_USER;else{y=x1(s.mockUserToken,i._app?.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new he(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new pn(x)}i._authCredentials=new OI(new gx(y,_))}}class Js{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Js(this.firestore,e,this._query)}}class wt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ou(n,wt._jsonSchema))return new wt(e,s||null,new _e(mt.fromString(n.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:Ht("string",wt._jsonSchemaVersion),referencePath:Ht("string")};class Vs extends Js{constructor(e,n,s){super(e,n,Gh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new _e(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function Cs(i,e,...n){if(i=at(i),yx("collection","path",e),i instanceof ef){const s=mt.fromString(e,...n);return Hb(s),new Vs(i,null,s)}{if(!(i instanceof wt||i instanceof Vs))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(mt.fromString(e,...n));return Hb(s),new Vs(i.firestore,null,s)}}function Kt(i,e,...n){if(i=at(i),arguments.length===1&&(e=Mg.newId()),yx("doc","path",e),i instanceof ef){const s=mt.fromString(e,...n);return Fb(s),new wt(i,null,new _e(s))}{if(!(i instanceof wt||i instanceof Vs))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(mt.fromString(e,...n));return Fb(s),new wt(i.firestore,i instanceof Vs?i.converter:null,new _e(s))}}const OE="AsyncQueue";class jE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Qg(this,"async_queue_retry"),this._c=()=>{const s=xp();s&&me(OE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=xp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=xp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!dl(e))throw e;me(OE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,qr("INTERNAL UNHANDLED ERROR: ",ME(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Zg.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:ME(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ME(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function kE(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class or extends ef{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new jE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jE(e),this._firestoreClient=void 0,await e}}}function N4(i,e){const n=typeof i=="object"?i:nu(),s=typeof i=="string"?i:bh,o=Lh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=_1("firestore");c&&R4(o,...c)}return o}function mu(i){if(i._terminated)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||C4(i),i._firestoreClient}function C4(i){const e=i._freezeSettings(),n=(function(o,c,d,p){return new WI(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,IT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new x4(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(un.fromBase64String(e))}catch(n){throw new he(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ou(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Ht("string",Xn._jsonSchemaVersion),bytes:Ht("string")};class ml{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tf{constructor(e){this._methodName=e}}class rr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rr._jsonSchemaVersion}}static fromJSON(e){if(ou(e,rr._jsonSchema))return new rr(e.latitude,e.longitude)}}rr._jsonSchemaVersion="firestore/geoPoint/1.0",rr._jsonSchema={type:Ht("string",rr._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};class sr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ou(e,sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new sr(e.vectorValues);throw new he(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sr._jsonSchemaVersion="firestore/vectorValue/1.0",sr._jsonSchema={type:Ht("string",sr._jsonSchemaVersion),vectorValues:Ht("object")};const I4=/^__.*__$/;class D4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class OT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:i})}}class sy{constructor(e,n,s,o,c,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(jT(this.Ac)&&I4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class O4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Jh(e)}Cc(e,n,s,o=!1){return new sy({Ac:e,methodName:n,Dc:s,path:cn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pl(i){const e=i._freezeSettings(),n=Jh(i._databaseId);return new O4(i._databaseId,!!e.ignoreUndefinedProperties,n)}function nf(i,e,n,s,o,c={}){const d=i.Cc(c.merge||c.mergeFields?2:0,e,n,o);cy("Data must be an object, but it was:",d,s);const p=MT(s,d);let g,y;if(c.merge)g=new Jn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const _=[];for(const x of c.mergeFields){const w=sg(e,x,n);if(!d.contains(w))throw new he(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);VT(_,w)||_.push(w)}g=new Jn(_),y=d.fieldTransforms.filter((x=>g.covers(x.field)))}else g=null,y=d.fieldTransforms;return new D4(new wn(p),g,y)}class rf extends tf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rf}}class ay extends tf{_toFieldTransform(e){return new wD(e.path,new Yc)}isEqual(e){return e instanceof ay}}function oy(i,e,n,s){const o=i.Cc(1,e,n);cy("Data must be an object, but it was:",o,s);const c=[],d=wn.empty();Ks(s,((g,y)=>{const _=uy(e,g,n);y=at(y);const x=o.yc(_);if(y instanceof rf)c.push(_);else{const w=pu(y,x);w!=null&&(c.push(_),d.set(_,w))}}));const p=new Jn(c);return new OT(d,p,o.fieldTransforms)}function ly(i,e,n,s,o,c){const d=i.Cc(1,e,n),p=[sg(e,s,n)],g=[o];if(c.length%2!=0)throw new he(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)p.push(sg(e,c[w])),g.push(c[w+1]);const y=[],_=wn.empty();for(let w=p.length-1;w>=0;--w)if(!VT(y,p[w])){const D=p[w];let R=g[w];R=at(R);const q=d.yc(D);if(R instanceof rf)y.push(D);else{const k=pu(R,q);k!=null&&(y.push(D),_.set(D,k))}}const x=new Jn(y);return new OT(_,x,d.fieldTransforms)}function j4(i,e,n,s=!1){return pu(n,i.Cc(s?4:3,e))}function pu(i,e){if(kT(i=at(i)))return cy("Unsupported field value:",e,i),MT(i,e);if(i instanceof tf)return(function(s,o){if(!jT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const p of s){let g=pu(p,o.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(i,e)}return(function(s,o){if((s=at(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ED(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=_t.fromDate(s);return{timestampValue:Ah(o.serializer,c)}}if(s instanceof _t){const c=new _t(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ah(o.serializer,c)}}if(s instanceof rr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xn)return{bytesValue:Zx(o.serializer,s._byteString)};if(s instanceof wt){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Fg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof sr)return(function(d,p){return{mapValue:{fields:{[Sx]:{stringValue:Rx},[Eh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return zg(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${qh(s)}`)})(i,e)}function MT(i,e){const n={};return bx(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(i,((s,o)=>{const c=pu(o,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function kT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof _t||i instanceof rr||i instanceof Xn||i instanceof wt||i instanceof tf||i instanceof sr)}function cy(i,e,n){if(!kT(n)||!vx(n)){const s=qh(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function sg(i,e,n){if((e=at(e))instanceof ml)return e._internalPath;if(typeof e=="string")return uy(i,e);throw Ih("Field path arguments must be of type string or ",i,!1,void 0,n)}const M4=new RegExp("[~\\*/\\[\\]]");function uy(i,e,n){if(e.search(M4)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ml(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ih(i,e,n,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${s}`),d&&(g+=` in document ${o}`),g+=")"),new he(Z.INVALID_ARGUMENT,p+i+g)}function VT(i,e){return i.some((n=>n.isEqual(e)))}class Dh{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new k4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class k4 extends Dh{data(){return super.data()}}function sf(i,e){return typeof e=="string"?uy(i,e):e instanceof ml?e._internalPath:e._delegate._internalPath}function V4(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dy{}class hy extends dy{}function Go(i,e,...n){let s=[];e instanceof dy&&s.push(e),s=s.concat(n),(function(c){const d=c.filter((g=>g instanceof fy)).length,p=c.filter((g=>g instanceof af)).length;if(d>1||d>0&&p>0)throw new he(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class af extends hy{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new af(e,n,s)}_apply(e){const n=this._parse(e);return PT(e._query,n),new Js(e.firestore,e.converter,Kp(e._query,n))}_parse(e){const n=pl(e.firestore);return(function(c,d,p,g,y,_,x){let w;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){PE(x,_);const R=[];for(const q of x)R.push(VE(g,c,q));w={arrayValue:{values:R}}}else w=VE(g,c,x)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||PE(x,_),w=j4(p,d,x,_==="in"||_==="not-in");return qt.create(y,_,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Fo(i,e,n){const s=e,o=sf("where",i);return af._create(o,s,n)}class fy extends dy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fy(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Di.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let d=o;const p=c.getFlattenedFilters();for(const g of p)PT(d,g),d=Kp(d,g)})(e._query,n),new Js(e.firestore,e.converter,Kp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class my extends hy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new my(e,n)}_apply(e){const n=(function(o,c,d){if(o.startAt!==null)throw new he(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $c(c,d)})(e._query,this._field,this._direction);return new Js(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new hl(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Oh(i,e="asc"){const n=e,s=sf("orderBy",i);return my._create(s,n)}class py extends hy{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new py(e,n,s)}_apply(e){return new Js(e.firestore,e.converter,Th(e._query,this._limit,this._limitType))}}function P4(i){return py._create("limit",i,"F")}function VE(i,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new he(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kx(e)&&n.indexOf("/")!==-1)throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(mt.fromString(n));if(!_e.isDocumentKey(s))throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Wb(i,new _e(s))}if(n instanceof wt)return Wb(i,n._key);throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qh(n)}.`)}function PE(i,e){if(!Array.isArray(i)||i.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PT(i,e){const n=(function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class LT{convertValue(e,n="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ks(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[Eh].arrayValue?.values?.map((s=>jt(s.doubleValue)));return new sr(n)}convertGeoPoint(e){return new rr(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Hh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Fc(e));default:return null}}convertTimestamp(e){const n=qs(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=mt.fromString(e);Xe(aT(s),9688,{name:e});const o=new Hc(s.get(1),s.get(3)),c=new _e(s.popFirst(5));return o.isEqual(n)||qr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function of(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class L4 extends LT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}class $o{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ps extends Dh{constructor(e,n,s,o,c,d){super(e,n,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(sf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ps._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ps._jsonSchema={type:Ht("string",Ps._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class ah extends Ps{data(e={}){return super.data(e)}}class Jo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new $o(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ah(this._firestore,this._userDataWriter,s.key,s,new $o(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const g=new ah(o._firestore,o._userDataWriter,p.doc.key,p.doc,new $o(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new ah(o._firestore,o._userDataWriter,p.doc.key,p.doc,new $o(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),_=d.indexOf(p.doc.key)),{type:U4(p.type),doc:g,oldIndex:y,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function U4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:i})}}function z4(i){i=Pn(i,wt);const e=Pn(i.firestore,or);return S4(mu(e),i._key).then((n=>zT(e,i,n)))}Jo._jsonSchemaVersion="firestore/querySnapshot/1.0",Jo._jsonSchema={type:Ht("string",Jo._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class gy extends LT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function UT(i,e,n){i=Pn(i,wt);const s=Pn(i.firestore,or),o=of(i.converter,e,n);return gu(s,[nf(pl(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Ft.none())])}function Mc(i,e,n,...s){i=Pn(i,wt);const o=Pn(i.firestore,or),c=pl(o);let d;return d=typeof(e=at(e))=="string"||e instanceof ml?ly(c,"updateDoc",i._key,e,n,s):oy(c,"updateDoc",i._key,e),gu(o,[d.toMutation(i._key,Ft.exists(!0))])}function yy(i){return gu(Pn(i.firestore,or),[new uu(i._key,Ft.none())])}function B4(i,e){const n=Pn(i.firestore,or),s=Kt(i),o=of(i.converter,e);return gu(n,[nf(pl(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Ft.exists(!1))]).then((()=>s))}function kr(i,...e){i=at(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||kE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(kE(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let c,d,p;if(i instanceof wt)d=Pn(i.firestore,or),p=Gh(i._key.path),c={next:g=>{e[s]&&e[s](zT(d,i,g))},error:e[s+1],complete:e[s+2]};else{const g=Pn(i,Js);d=Pn(g.firestore,or),p=g._query;const y=new gy(d);c={next:_=>{e[s]&&e[s](new Jo(d,y,g,_))},error:e[s+1],complete:e[s+2]},V4(i._query)}return(function(y,_,x,w){const D=new CT(w),R=new bT(_,D,x);return y.asyncQueue.enqueueAndForget((async()=>vT(await rg(y),R))),()=>{D.Nu(),y.asyncQueue.enqueueAndForget((async()=>_T(await rg(y),R)))}})(mu(d),p,o,c)}function gu(i,e){return(function(s,o){const c=new Lr;return s.asyncQueue.enqueueAndForget((async()=>d4(await w4(s),o,c))),c.promise})(mu(i),e)}function zT(i,e,n){const s=n.docs.get(e._key),o=new gy(i);return new Ps(i,o,e._key,s,new $o(n.hasPendingWrites,n.fromCache),e.converter)}const q4={maxAttempts:5};class F4{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=pl(e)}set(e,n,s){this._verifyNotCommitted();const o=Os(e,this._firestore),c=of(o.converter,n,s),d=nf(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,s);return this._mutations.push(d.toMutation(o._key,Ft.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const c=Os(e,this._firestore);let d;return d=typeof(n=at(n))=="string"||n instanceof ml?ly(this._dataReader,"WriteBatch.update",c._key,n,s,o):oy(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(d.toMutation(c._key,Ft.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Os(e,this._firestore);return this._mutations=this._mutations.concat(new uu(n._key,Ft.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Os(i,e){if((i=at(i)).firestore!==e)throw new he(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class H4{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=pl(e)}get(e){const n=Os(e,this._firestore),s=new L4(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return we(24041);const c=o[0];if(c.isFoundDocument())return new Dh(this._firestore,s,c.key,c,n.converter);if(c.isNoDocument())return new Dh(this._firestore,s,n._key,null,n.converter);throw we(18433,{doc:c})}))}set(e,n,s){const o=Os(e,this._firestore),c=of(o.converter,n,s),d=nf(this._dataReader,"Transaction.set",o._key,c,o.converter!==null,s);return this._transaction.set(o._key,d),this}update(e,n,s,...o){const c=Os(e,this._firestore);let d;return d=typeof(n=at(n))=="string"||n instanceof ml?ly(this._dataReader,"Transaction.update",c._key,n,s,o):oy(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,d),this}delete(e){const n=Os(e,this._firestore);return this._transaction.delete(n._key),this}}class G4 extends H4{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Os(e,this._firestore),s=new gy(this._firestore);return super.get(e).then((o=>new Ps(this._firestore,s,n._key,o._document,new $o(!1,!1),n.converter)))}}function $4(i,e,n){i=Pn(i,or);const s={...q4,...n};return(function(c){if(c.maxAttempts<1)throw new he(Z.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(c,d,p){const g=new Lr;return c.asyncQueue.enqueueAndForget((async()=>{const y=await A4(c);new E4(c.asyncQueue,y,p,d,g).ju()})),g.promise})(mu(i),(o=>e(new G4(i,o))),s)}function Dr(){return new ay("serverTimestamp")}function LE(i){return mu(i=Pn(i,or)),new F4(i,(e=>gu(i,e)))}(function(e,n=!0){(function(o){cl=o})(Ba),ja(new zs("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new or(new jI(s.getProvider("auth-internal")),new VI(d,s.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hc(y.options.projectId,_)})(d,o),d);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),er(Ub,zb,e),er(Ub,zb,"esm2020")})();var Y4="firebase",Q4="12.7.0";er(Y4,Q4,"app");const BT="firebasestorage.googleapis.com",qT="storageBucket",K4=120*1e3,X4=600*1e3;class Ct extends cr{constructor(e,n,s=0){super(wp(e),`Firebase Storage: ${n} (${wp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nt||(Nt={}));function wp(i){return"storage/"+i}function vy(){const i="An unknown error occurred, please check the error payload for server response.";return new Ct(Nt.UNKNOWN,i)}function J4(i){return new Ct(Nt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function W4(i){return new Ct(Nt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Z4(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ct(Nt.UNAUTHENTICATED,i)}function ej(){return new Ct(Nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function tj(i){return new Ct(Nt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function nj(){return new Ct(Nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ij(){return new Ct(Nt.CANCELED,"User canceled the upload/download.")}function rj(i){return new Ct(Nt.INVALID_URL,"Invalid URL '"+i+"'.")}function sj(i){return new Ct(Nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function aj(){return new Ct(Nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+qT+"' property when initializing the app?")}function oj(){return new Ct(Nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function lj(){return new Ct(Nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function cj(i){return new Ct(Nt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ag(i){return new Ct(Nt.INVALID_ARGUMENT,i)}function FT(){return new Ct(Nt.APP_DELETED,"The Firebase app was deleted.")}function uj(i){return new Ct(Nt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function kc(i,e){return new Ct(Nt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function _c(i){throw new Ct(Nt.INTERNAL_ERROR,"Internal error: "+i)}class Wn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Wn.makeFromUrl(e,n)}catch{return new Wn(e,"")}if(s.path==="")return s;throw sj(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),g={bucket:1,path:3};function y(re){re.path_=decodeURIComponent(re.path)}const _="v[A-Za-z0-9_]+",x=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",D=new RegExp(`^https?://${x}/${_}/b/${o}/o${w}`,"i"),R={bucket:1,path:3},q=n===BT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",j=new RegExp(`^https?://${q}/${o}/${k}`,"i"),Q=[{regex:p,indices:g,postModify:c},{regex:D,indices:R,postModify:y},{regex:j,indices:{bucket:1,path:2},postModify:y}];for(let re=0;re<Q.length;re++){const ce=Q[re],de=ce.regex.exec(e);if(de){const N=de[ce.indices.bucket];let S=de[ce.indices.path];S||(S=""),s=new Wn(N,S),ce.postModify(s);break}}if(s==null)throw rj(e);return s}}class dj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function hj(i,e,n){let s=1,o=null,c=null,d=!1,p=0;function g(){return p===2}let y=!1;function _(...k){y||(y=!0,e.apply(null,k))}function x(k){o=setTimeout(()=>{o=null,i(D,g())},k)}function w(){c&&clearTimeout(c)}function D(k,...j){if(y){w();return}if(k){w(),_.call(null,k,...j);return}if(g()||d){w(),_.call(null,k,...j);return}s<64&&(s*=2);let Q;p===1?(p=2,Q=0):Q=(s+Math.random())*1e3,x(Q)}let R=!1;function q(k){R||(R=!0,w(),!y&&(o!==null?(k||(p=2),clearTimeout(o),x(0)):k||(p=1)))}return x(0),c=setTimeout(()=>{d=!0,q(!0)},n),q}function fj(i){i(!1)}function mj(i){return i!==void 0}function pj(i){return typeof i=="object"&&!Array.isArray(i)}function _y(i){return typeof i=="string"||i instanceof String}function UE(i){return by()&&i instanceof Blob}function by(){return typeof Blob<"u"}function zE(i,e,n,s){if(s<e)throw ag(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw ag(`Invalid value for '${i}'. Expected ${n} or less.`)}function lf(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function HT(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Ia;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Ia||(Ia={}));function gj(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,c=e.indexOf(i)!==-1;return n||o||c}class yj{constructor(e,n,s,o,c,d,p,g,y,_,x,w=!0,D=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=_,this.connectionFactory_=x,this.retry=w,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,q)=>{this.resolve_=R,this.reject_=q,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new $d(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const p=c.getErrorCode()===Ia.NO_ERROR,g=c.getStatus();if(!p||gj(g,this.additionalRetryCodes_)&&this.retry){const _=c.getErrorCode()===Ia.ABORT;s(!1,new $d(!1,null,_));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new $d(y,c))})},n=(s,o)=>{const c=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());mj(g)?c(g):c()}catch(g){d(g)}else if(p!==null){const g=vy();g.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,g)):d(g)}else if(o.canceled){const g=this.appDelete_?FT():ij();d(g)}else{const g=nj();d(g)}};this.canceled_?n(!1,new $d(!1,null,!0)):this.backoffId_=hj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $d{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function vj(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function _j(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bj(i,e){e&&(i["X-Firebase-GMPID"]=e)}function Ej(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function xj(i,e,n,s,o,c,d=!0,p=!1){const g=HT(i.urlParams),y=i.url+g,_=Object.assign({},i.headers);return bj(_,e),vj(_,n),_j(_,c),Ej(_,s),new yj(y,i.method,_,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,d,p)}function Tj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wj(...i){const e=Tj();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(by())return new Blob(i);throw new Ct(Nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Aj(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}function Sj(i){if(typeof atob>"u")throw cj("base-64");return atob(i)}const Zi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ap{constructor(e,n){this.data=e,this.contentType=n||null}}function Rj(i,e){switch(i){case Zi.RAW:return new Ap(GT(e));case Zi.BASE64:case Zi.BASE64URL:return new Ap($T(i,e));case Zi.DATA_URL:return new Ap(Cj(e),Ij(e))}throw vy()}function GT(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const c=s,d=i.charCodeAt(++n);s=65536|(c&1023)<<10|d&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function Nj(i){let e;try{e=decodeURIComponent(i)}catch{throw kc(Zi.DATA_URL,"Malformed data URL.")}return GT(e)}function $T(i,e){switch(i){case Zi.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw kc(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Zi.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw kc(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Sj(e)}catch(o){throw o.message.includes("polyfill")?o:kc(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class YT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw kc(Zi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=Dj(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function Cj(i){const e=new YT(i);return e.base64?$T(Zi.BASE64,e.rest):Nj(e.rest)}function Ij(i){return new YT(i).contentType}function Dj(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}class Is{constructor(e,n){let s=0,o="";UE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(UE(this.data_)){const s=this.data_,o=Aj(s,e,n);return o===null?null:new Is(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Is(s,!0)}}static getBlob(...e){if(by()){const n=e.map(s=>s instanceof Is?s.data_:s);return new Is(wj.apply(null,n))}else{const n=e.map(d=>_y(d)?Rj(Zi.RAW,d).data:d.data_);let s=0;n.forEach(d=>{s+=d.byteLength});const o=new Uint8Array(s);let c=0;return n.forEach(d=>{for(let p=0;p<d.length;p++)o[c++]=d[p]}),new Is(o,!0)}}uploadData(){return this.data_}}function QT(i){let e;try{e=JSON.parse(i)}catch{return null}return pj(e)?e:null}function Oj(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function jj(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function KT(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}function Mj(i,e){return e}class xn{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||Mj}}let Yd=null;function kj(i){return!_y(i)||i.length<2?i:KT(i)}function XT(){if(Yd)return Yd;const i=[];i.push(new xn("bucket")),i.push(new xn("generation")),i.push(new xn("metageneration")),i.push(new xn("name","fullPath",!0));function e(c,d){return kj(d)}const n=new xn("name");n.xform=e,i.push(n);function s(c,d){return d!==void 0?Number(d):d}const o=new xn("size");return o.xform=s,i.push(o),i.push(new xn("timeCreated")),i.push(new xn("updated")),i.push(new xn("md5Hash",null,!0)),i.push(new xn("cacheControl",null,!0)),i.push(new xn("contentDisposition",null,!0)),i.push(new xn("contentEncoding",null,!0)),i.push(new xn("contentLanguage",null,!0)),i.push(new xn("contentType",null,!0)),i.push(new xn("metadata","customMetadata",!0)),Yd=i,Yd}function Vj(i,e){function n(){const s=i.bucket,o=i.fullPath,c=new Wn(s,o);return e._makeStorageReference(c)}Object.defineProperty(i,"ref",{get:n})}function Pj(i,e,n){const s={};s.type="file";const o=n.length;for(let c=0;c<o;c++){const d=n[c];s[d.local]=d.xform(s,e[d.server])}return Vj(s,i),s}function JT(i,e,n){const s=QT(e);return s===null?null:Pj(i,s,n)}function Lj(i,e,n,s){const o=QT(e);if(o===null||!_y(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(y=>{const _=i.bucket,x=i.fullPath,w="/b/"+d(_)+"/o/"+d(x),D=lf(w,n,s),R=HT({alt:"media",token:y});return D+R})[0]}function Uj(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const c=e[o];c.writable&&(n[c.server]=i[c.local])}return JSON.stringify(n)}class Ey{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function WT(i){if(!i)throw vy()}function zj(i,e){function n(s,o){const c=JT(i,o,e);return WT(c!==null),c}return n}function Bj(i,e){function n(s,o){const c=JT(i,o,e);return WT(c!==null),Lj(c,o,i.host,i._protocol)}return n}function ZT(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=ej():o=Z4():n.getStatus()===402?o=W4(i.bucket):n.getStatus()===403?o=tj(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function ew(i){const e=ZT(i);function n(s,o){let c=e(s,o);return s.getStatus()===404&&(c=J4(i.path)),c.serverResponse=o.serverResponse,c}return n}function qj(i,e,n){const s=e.fullServerUrl(),o=lf(s,i.host,i._protocol),c="GET",d=i.maxOperationRetryTime,p=new Ey(o,c,Bj(i,n),d);return p.errorHandler=ew(e),p}function Fj(i,e){const n=e.fullServerUrl(),s=lf(n,i.host,i._protocol),o="DELETE",c=i.maxOperationRetryTime;function d(g,y){}const p=new Ey(s,o,d,c);return p.successCodes=[200,204],p.errorHandler=ew(e),p}function Hj(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function Gj(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=Hj(null,e)),s}function $j(i,e,n,s,o){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function p(){let Q="";for(let re=0;re<2;re++)Q=Q+Math.random().toString().slice(2);return Q}const g=p();d["Content-Type"]="multipart/related; boundary="+g;const y=Gj(e,s,o),_=Uj(y,n),x="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+g+`\r
Content-Type: `+y.contentType+`\r
\r
`,w=`\r
--`+g+"--",D=Is.getBlob(x,s,w);if(D===null)throw oj();const R={name:y.fullPath},q=lf(c,i.host,i._protocol),k="POST",j=i.maxUploadRetryTime,X=new Ey(q,k,zj(i,n),j);return X.urlParams=R,X.headers=d,X.body=D.uploadData(),X.errorHandler=ZT(e),X}class Yj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ia.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ia.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ia.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,c){if(this.sent_)throw _c("cannot .send() more than once");if(Ys(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),c!==void 0)for(const d in c)c.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,c[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _c("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _c("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _c("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _c("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Qj extends Yj{initXhr(){this.xhr_.responseType="text"}}function xy(){return new Qj}class La{constructor(e,n){this._service=e,n instanceof Wn?this._location=n:this._location=Wn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new La(e,n)}get root(){const e=new Wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KT(this._location.path)}get storage(){return this._service}get parent(){const e=Oj(this._location.path);if(e===null)return null;const n=new Wn(this._location.bucket,e);return new La(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw uj(e)}}function Kj(i,e,n){i._throwIfRoot("uploadBytes");const s=$j(i.storage,i._location,XT(),new Is(e,!0),n);return i.storage.makeRequestWithTokens(s,xy).then(o=>({metadata:o,ref:i}))}function Xj(i){i._throwIfRoot("getDownloadURL");const e=qj(i.storage,i._location,XT());return i.storage.makeRequestWithTokens(e,xy).then(n=>{if(n===null)throw lj();return n})}function Jj(i){i._throwIfRoot("deleteObject");const e=Fj(i.storage,i._location);return i.storage.makeRequestWithTokens(e,xy)}function Wj(i,e){const n=jj(i._location.path,e),s=new Wn(i._location.bucket,n);return new La(i.storage,s)}function Zj(i){return/^[A-Za-z]+:\/\//.test(i)}function eM(i,e){return new La(i,e)}function tw(i,e){if(i instanceof Ty){const n=i;if(n._bucket==null)throw aj();const s=new La(n,n._bucket);return e!=null?tw(s,e):s}else return e!==void 0?Wj(i,e):i}function tM(i,e){if(e&&Zj(e)){if(i instanceof Ty)return eM(i,e);throw ag("To use ref(service, url), the first argument must be a Storage instance.")}else return tw(i,e)}function BE(i,e){const n=e?.[qT];return n==null?null:Wn.makeFromBucketSpec(n,i)}function nM(i,e,n,s={}){i.host=`${e}:${n}`;const o=Ys(e);o&&(_g(`https://${i.host}/b`),bg("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(i._overrideAuthToken=typeof c=="string"?c:x1(c,i.app.options.projectId))}class Ty{constructor(e,n,s,o,c,d=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=BT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=K4,this._maxUploadRetryTime=X4,this._requests=new Set,o!=null?this._bucket=Wn.makeFromBucketSpec(o,this._host):this._bucket=BE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wn.makeFromBucketSpec(this._url,e):this._bucket=BE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new La(this,e)}_makeRequest(e,n,s,o,c=!0){if(this._deleted)return new dj(FT());{const d=xj(e,this._appId,s,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const qE="@firebase/storage",FE="0.14.0";const nw="storage";function iM(i,e,n){return i=at(i),Kj(i,e,n)}function rM(i){return i=at(i),Xj(i)}function HE(i){return i=at(i),Jj(i)}function Sp(i,e){return i=at(i),tM(i,e)}function sM(i=nu(),e){i=at(i);const s=Lh(i,nw).getImmediate({identifier:e}),o=_1("storage");return o&&aM(s,...o),s}function aM(i,e,n,s={}){nM(i,e,n,s)}function oM(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Ty(n,s,o,e,Ba)}function lM(){ja(new zs(nw,oM,"PUBLIC").setMultipleInstances(!0)),er(qE,FE,""),er(qE,FE,"esm2020")}lM();const cM={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_BOOTSTRAP_ADMIN_EMAIL:"admin@tapachula.gob.mx",VITE_FIREBASE_API_KEY:"AIzaSyCFNl-DTvsom1HUiWVAMY9vy9Ulha9QaCw",VITE_FIREBASE_APP_ID:"1:11562592346:web:18c203f2d1dbcae9475063",VITE_FIREBASE_AUTH_DOMAIN:"sireq-17ada.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"11562592346",VITE_FIREBASE_PROJECT_ID:"sireq-17ada",VITE_FIREBASE_STORAGE_BUCKET:"sireq-17ada.firebasestorage.app"};function Po(i){const e=cM?.[i];if(!e)throw new Error(`Falta variable de entorno ${i}. Revisa tu archivo .env`);return e}const iw={apiKey:Po("VITE_FIREBASE_API_KEY"),authDomain:Po("VITE_FIREBASE_AUTH_DOMAIN"),projectId:Po("VITE_FIREBASE_PROJECT_ID"),storageBucket:Po("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:Po("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:Po("VITE_FIREBASE_APP_ID")};function uM(){return A1().length?nu():Tg(iw)}const jh=uM(),bc=(()=>{try{return Ng(jh,{persistence:yh})}catch{const e=lx(jh);return W1(e,yh).catch(()=>{console.warn("No se pudo establecer persistencia de sesin")}),e}})(),ft=N4(jh),Rp=sM(jh),rw="secondary-admin";let Lo=null;function dM(i=rw){return A1().find(n=>n.name===i)?nu(i):Tg(iw,i)}function hM(){if(Lo)return Lo;const i=dM(rw);try{Lo=Ng(i,{persistence:mh})}catch{Lo=lx(i),W1(Lo,mh).catch(()=>{})}return Lo}const sw=M.createContext(null);function fM({children:i}){const[e,n]=M.useState(null),[s,o]=M.useState(null),[c,d]=M.useState(!0),[p,g]=M.useState([]),[y,_]=M.useState(!1),[x,w]=M.useState(null);M.useEffect(()=>{const ce=_C(bc,async de=>{if(!de){n(null),o(null),d(!1);return}const N=Kt(ft,"users",de.uid),S=kr(N,C=>{if(C.exists()){const U=C.data(),V={uid:de.uid,email:de.email,...U};n(V),o(V.role)}else console.error("Usuario autenticado sin perfil en Firestore"),n(null),o(null);d(!1)},C=>{console.error("Error leyendo perfil:",C),d(!1)});return()=>S()});return()=>ce()},[]),M.useEffect(()=>{if(s!=="admin"){g([]);return}const ce=Go(Cs(ft,"users"),Oh("createdAt","desc")),de=kr(ce,N=>{const S=N.docs.map(C=>({uid:C.id,...C.data()}));g(S)});return()=>de()},[s]);const D=(ce,de)=>{const N=ce?.code||"";return N==="auth/wrong-password"?"Contrasea incorrecta.":N==="auth/user-not-found"?"Usuario no encontrado.":N==="auth/invalid-credential"?"Credenciales invlidas.":de},R=async(ce,de)=>{_(!0),w(null);try{const N=await mC(bc,ce,de);return{uid:N.user.uid,email:N.user.email,role:"solicitud",organo:"",titular:""}}catch(N){return w(D(N,"Error al iniciar sesin. Verifica tus datos.")),null}finally{_(!1)}},q=async()=>{try{await Nb(bc),n(null),o(null),g([])}catch(ce){console.error(ce)}},k=async ce=>{_(!0),w(null);try{if(bc.currentUser)await pC(bc.currentUser,ce);else throw new Error("No hay sesin activa")}catch(de){throw w(D(de,"Error al actualizar contrasea.")),de}finally{_(!1)}},j=async ce=>{if(e?.role!=="admin")throw new Error("No autorizado");_(!0),w(null);try{if(!ce.password)throw new Error("Falta contrasea");const de=hM(),S=(await fC(de,ce.email,ce.password)).user.uid,{password:C,...U}=ce;await UT(Kt(ft,"users",S),{...U,uid:S,createdAt:Dr(),updatedAt:Dr(),disabled:!1}),await Nb(de)}catch(de){w(D(de,"Error al crear usuario."))}finally{_(!1)}},X=async(ce,de)=>{if(e?.role!=="admin")throw new Error("No autorizado");_(!0),w(null);try{const{uid:N,...S}=de;await Mc(Kt(ft,"users",ce),{...S,updatedAt:Dr()})}catch(N){w(D(N,"Error al actualizar."))}finally{_(!1)}},Q=async ce=>{if(e?.role!=="admin")throw new Error("No autorizado");_(!0),w(null);try{await yy(Kt(ft,"users",ce))}catch(de){w(D(de,"Error al eliminar."))}finally{_(!1)}},re=M.useMemo(()=>({user:e,role:s,booting:c,allUsers:p,loading:y,error:x,login:R,logout:q,createUser:j,updateUser:X,deleteUser:Q,changePassword:k}),[e,s,c,p,y,x]);return f.jsx(sw.Provider,{value:re,children:i})}function dn(){const i=M.useContext(sw);if(!i)throw new Error("useSession debe usarse dentro de SessionProvider");return i}const aw=M.createContext(null);function mM({children:i}){const{user:e,loading:n}=dn(),[s,o]=M.useState([]),[c,d]=M.useState(!0);M.useEffect(()=>{if(n)return;if(!e){o([]),d(!1);return}d(!0);const R=[],q=k=>{const j=new Map;k.forEach(Q=>{Q.docs.forEach(re=>{j.set(re.id,{id:re.id,...re.data()})})});const X=Array.from(j.values()).sort((Q,re)=>(re.createdAt?.toMillis()||0)-(Q.createdAt?.toMillis()||0));o(X),d(!1)};if(e.role==="solicitud"){const k=Go(Cs(ft,"requisiciones"),Fo("creadoPor.uid","==",e.uid),Oh("createdAt","desc"));R.push(kr(k,j=>q([j])))}else{const k=["en_revision","cotizacion","suficiencia","autorizada","material_entregado"],j=Go(Cs(ft,"requisiciones"),Fo("estado","in",k)),X=["finalizada","rechazada"],Q=Go(Cs(ft,"requisiciones"),Fo("estado","in",X),Oh("createdAt","desc"),P4(50)),re=Go(Cs(ft,"requisiciones"),Fo("creadoPor.uid","==",e.uid),Fo("estado","==","borrador"));let ce={docs:[]},de={docs:[]},N={docs:[]};const S=()=>{q([ce,de,N])};R.push(kr(j,C=>{ce=C,S()})),R.push(kr(Q,C=>{de=C,S()})),R.push(kr(re,C=>{N=C,S()}))}return()=>R.forEach(k=>k())},[e,n]);const p=M.useCallback(async R=>{const q=s.find(k=>k.id===R);if(q)return q;try{const k=Kt(ft,"requisiciones",R),j=await z4(k);return j.exists()?{id:j.id,...j.data()}:null}catch(k){return console.error("Error fetching single req:",k),null}},[s]),g=async(R,q)=>{try{return await $4(ft,async j=>{const X=new Date().getFullYear(),Q=Kt(ft,"counters",`folio_${X}`),re=await j.get(Q);let ce=1;re.exists()&&(ce=re.data().count+1);const de=ce.toString().padStart(5,"0"),N=`REQ-${X}-${de}`,S=Kt(Cs(ft,"requisiciones"));return j.set(S,{...R,folio:N,createdAt:Dr(),updatedAt:Dr()}),j.set(Q,{count:ce},{merge:!0}),{id:S.id,folio:N}})}catch(k){throw console.error("Error generando folio:",k),k}},y=async(R,q)=>{try{await Mc(Kt(ft,"requisiciones",R),{...q,updatedAt:Dr()})}catch(k){console.error(k)}},_=async R=>{try{await yy(Kt(ft,"requisiciones",R))}catch(q){console.error(q)}},x=async(R,q,k)=>{try{await Mc(Kt(ft,"requisiciones",R),{estado:q,...k||{},updatedAt:Dr()})}catch(j){console.error(j)}},w=async(R,q,k)=>{try{await Mc(Kt(ft,"requisiciones",R),{lineas:q,...k||{},updatedAt:Dr()})}catch(j){console.error(j)}},D=M.useMemo(()=>({requisiciones:s,loading:c,crearRequisicion:g,actualizarRequisicion:y,eliminarBorrador:_,actualizarEstado:x,actualizarLineas:w,obtenerRequisicion:p}),[s,c,p]);return f.jsx(aw.Provider,{value:D,children:i})}function Ga(){const i=M.useContext(aw);if(!i)throw new Error("useRequisiciones debe usarse dentro de RequisicionesProvider");return i}const ow=M.createContext(null);function pM({children:i}){const{user:e}=dn(),[n,s]=M.useState([]);M.useEffect(()=>{if(!e){s([]);return}const _=Go(Cs(ft,"notificaciones"),Fo("targetUid","==",e.uid),Oh("createdAt","desc")),x=kr(_,w=>{const D=w.docs.map(R=>({id:R.id,...R.data()}));s(D)});return()=>x()},[e]);const o=n.filter(_=>!_.leida).length,c=async _=>{try{await B4(Cs(ft,"notificaciones"),{..._,leida:!1,createdAt:Dr()})}catch(x){console.error("Error al enviar notificacin:",x)}},d=async _=>{try{await Mc(Kt(ft,"notificaciones",_),{leida:!0})}catch(x){console.error(x)}},p=async _=>{try{await yy(Kt(ft,"notificaciones",_))}catch(x){console.error(x)}},g=async()=>{if(n.length!==0)try{const _=LE(ft);let x=0;n.forEach(w=>{w.leida||(_.update(Kt(ft,"notificaciones",w.id),{leida:!0}),x++)}),x>0&&await _.commit()}catch(_){console.error(_)}},y=async()=>{if(n.length!==0)try{const _=LE(ft);n.forEach(x=>{_.delete(Kt(ft,"notificaciones",x.id))}),await _.commit()}catch(_){console.error(_)}};return f.jsx(ow.Provider,{value:{notificaciones:n,pendientes:o,agregarNotificacion:c,marcarLeida:d,eliminarNotificacion:p,marcarTodasLeidas:g,limpiarTodas:y},children:i})}function cf(){const i=M.useContext(ow);if(!i)throw new Error("useNotificaciones debe usarse dentro de NotificacionesProvider");return i}const gM=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yM=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),GE=i=>{const e=yM(i);return e.charAt(0).toUpperCase()+e.slice(1)},lw=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),vM=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var _M={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bM=M.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:d,...p},g)=>M.createElement("svg",{ref:g,..._M,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:lw("lucide",o),...!c&&!vM(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,_])=>M.createElement(y,_)),...Array.isArray(c)?c:[c]]));const xe=(i,e)=>{const n=M.forwardRef(({className:s,...o},c)=>M.createElement(bM,{ref:c,iconNode:e,className:lw(`lucide-${gM(GE(i))}`,`lucide-${i}`,s),...o}));return n.displayName=GE(i),n};const EM=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],$E=xe("archive",EM);const xM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],cw=xe("arrow-left",xM);const TM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],wM=xe("arrow-right",TM);const AM=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],SM=xe("bell-ring",AM);const RM=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],YE=xe("bell",RM);const NM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],uw=xe("calendar",NM);const CM=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],IM=xe("car",CM);const DM=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],oh=xe("check-check",DM);const OM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jM=xe("check",OM);const MM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],sl=xe("circle-alert",MM);const kM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Mh=xe("circle-check-big",kM);const VM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],QE=xe("circle-question-mark",VM);const PM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],LM=xe("circle-x",PM);const UM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zM=xe("circle",UM);const BM=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],qM=xe("clipboard-list",BM);const FM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xc=xe("clock",FM);const HM=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],GM=xe("dollar-sign",HM);const $M=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],YM=xe("download",$M);const QM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],dw=xe("eye-off",QM);const KM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ls=xe("eye",KM);const XM=[["path",{d:"M10.5 22H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v6",key:"g5mvt7"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m14 20 2 2 4-4",key:"15kota"}]],JM=xe("file-check-corner",XM);const WM=[["path",{d:"M11.35 22H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v5.35",key:"17jvcc"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M14 19h6",key:"bvotb8"}],["path",{d:"M17 16v6",key:"18yu1i"}]],ZM=xe("file-plus-corner",WM);const ek=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Us=xe("file-text",ek);const tk=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],nk=xe("funnel",tk);const ik=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],KE=xe("history",ik);const rk=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],sk=xe("inbox",rk);const ak=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],og=xe("info",ak);const ok=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],lk=xe("key-round",ok);const ck=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],hw=xe("layout-dashboard",ck);const uk=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],dk=xe("list-checks",uk);const hk=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],fk=xe("loader-circle",hk);const mk=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fw=xe("lock",mk);const pk=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],mw=xe("log-out",pk);const gk=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],yk=xe("mail",gk);const vk=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],_k=xe("menu",vk);const bk=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],XE=xe("package-check",bk);const Ek=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Np=xe("package",Ek);const xk=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],pw=xe("paperclip",xk);const Tk=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],wk=xe("phone",Tk);const Ak=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Sk=xe("play",Ak);const Rk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],lg=xe("plus",Rk);const Nk=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Vc=xe("printer",Nk);const Ck=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],JE=xe("rotate-ccw",Ck);const Ik=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wy=xe("save",Ik);const Dk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gw=xe("search",Dk);const Ok=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],yw=xe("send",Ok);const jk=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Mk=xe("sparkles",jk);const kk=[["path",{d:"M3 3h.01",key:"159qn6"}],["path",{d:"M7 5h.01",key:"1hq22a"}],["path",{d:"M11 7h.01",key:"1osv80"}],["path",{d:"M3 7h.01",key:"1xzrh3"}],["path",{d:"M7 9h.01",key:"19b3jx"}],["path",{d:"M3 11h.01",key:"1eifu7"}],["rect",{width:"4",height:"4",x:"15",y:"5",key:"mri9e4"}],["path",{d:"m19 9 2 2v10c0 .6-.4 1-1 1h-6c-.6 0-1-.4-1-1V11l2-2",key:"aib6hk"}],["path",{d:"m13 14 8-2",key:"1d7bmk"}],["path",{d:"m13 19 8-2",key:"1y2vml"}]],Vk=xe("spray-can",kk);const Pk=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Lk=xe("square-pen",Pk);const Uk=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],zk=xe("tag",Uk);const Bk=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ua=xe("trash-2",Bk);const qk=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Da=xe("triangle-alert",qk);const Fk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Hk=xe("user",Fk);const Gk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vw=xe("users",Gk);const $k=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ws=xe("x",$k),_w=M.createContext(null);function Yk({children:i}){const[e,n]=M.useState([]),s=M.useCallback((c,d="success")=>{const p=Date.now().toString();n(g=>[...g,{id:p,message:c,type:d}]),setTimeout(()=>{n(g=>g.filter(y=>y.id!==p))},4e3)},[]),o=c=>{n(d=>d.filter(p=>p.id!==c))};return f.jsxs(_w.Provider,{value:{toast:s},children:[i,f.jsx("div",{className:"fixed bottom-4 right-4 z-[9999] flex flex-col gap-2",children:e.map(c=>f.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg border animate-fade-in-up min-w-[300px] max-w-sm
              ${c.type==="success"?"bg-white border-l-4 border-l-emerald-500 text-gray-800":""}
              ${c.type==="error"?"bg-white border-l-4 border-l-red-500 text-gray-800":""}
              ${c.type==="info"?"bg-gray-900 text-white":""}
            `,children:[c.type==="success"&&f.jsx(Mh,{size:20,className:"text-emerald-500"}),c.type==="error"&&f.jsx(sl,{size:20,className:"text-red-500"}),c.type==="info"&&f.jsx(og,{size:20,className:"text-blue-400"}),f.jsx("p",{className:"text-sm font-medium flex-1",children:c.message}),f.jsx("button",{onClick:()=>o(c.id),className:"opacity-50 hover:opacity-100",children:f.jsx(Ws,{size:16})})]},c.id))})]})}function Ay(){const i=M.useContext(_w);if(!i)throw new Error("useToast debe usarse dentro de ToastProvider");return i}const Le=({children:i,variant:e="primary",size:n="md",loading:s=!1,icon:o,className:c="",disabled:d,as:p="button",...g})=>{const y="inline-flex items-center justify-center rounded-lg font-medium transition-all focus:outline-none focus:ring-2 focus:ring-offset-1 disabled:opacity-50 disabled:cursor-not-allowed",_={primary:"bg-[var(--color-brand)] text-white hover:bg-[var(--color-brand-dark)] shadow-md shadow-brand/20 focus:ring-brand",secondary:"bg-white text-[var(--color-ink)] border border-gray-200 hover:bg-gray-50 hover:border-gray-300 shadow-sm",outline:"border-2 border-[var(--color-brand)] text-[var(--color-brand)] hover:bg-[var(--color-brand)]/5",ghost:"text-gray-600 hover:bg-gray-100 hover:text-[var(--color-ink)]",danger:"bg-red-600 text-white hover:bg-red-700 shadow-md shadow-red-500/20"},x={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return f.jsxs(p,{className:`${y} ${_[e]} ${x[n]} ${c}`,disabled:s||d,...g,children:[s&&f.jsx(fk,{className:"mr-2 h-4 w-4 animate-spin"}),!s&&o&&f.jsx(o,{className:"mr-2 h-4 w-4"}),i]})};function Qk({isOpen:i,onClose:e}){const{changePassword:n}=dn(),[s,o]=M.useState(""),[c,d]=M.useState(""),[p,g]=M.useState(!1),[y,_]=M.useState(!1),[x,w]=M.useState(""),D={length:s.length>=8,upper:/[A-Z]/.test(s),lower:/[a-z]/.test(s),number:/[0-9]/.test(s),special:/[!@#$%^&*(),.?":{}|<>]/.test(s)};if(M.useEffect(()=>{i&&(o(""),d(""),w(""),g(!1))},[i]),!i)return null;const R=Object.values(D).every(Boolean)&&s===c&&s.length>0,q=async j=>{if(j.preventDefault(),w(""),!R)return w("Por favor, cumple con todos los requisitos de seguridad.");_(!0);try{await n(s),e()}catch(X){console.error(X),w(X.message||"Error al cambiar la contrasea."),_(!1)}},k=({fulfilled:j,text:X})=>f.jsxs("div",{className:`flex items-center gap-2 text-xs transition-colors ${j?"text-emerald-600 font-medium":"text-gray-400"}`,children:[j?f.jsx(jM,{size:12,strokeWidth:3}):f.jsx(zM,{size:10}),f.jsx("span",{children:X})]});return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:f.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl border border-gray-100 overflow-hidden flex flex-col max-h-[90vh]",children:[f.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-100 flex justify-between items-center shrink-0",children:[f.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[f.jsx(fw,{size:18,className:"text-[var(--color-brand)]"}),"Cambiar Contrasea"]}),f.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors outline-none",type:"button",children:f.jsx(Ws,{size:20})})]}),f.jsxs("div",{className:"p-6 overflow-y-auto",children:[f.jsxs("div",{className:"mb-4 p-3 bg-blue-50 text-blue-800 text-xs rounded-lg flex gap-2 items-start border border-blue-100",children:[f.jsx(mw,{size:16,className:"shrink-0 mt-0.5"}),f.jsxs("p",{children:["Por seguridad, al cambiar tu contrasea ",f.jsx("strong",{children:"se cerrar tu sesin automticamente"})," y debers ingresar con la nueva clave."]})]}),f.jsxs("form",{onSubmit:q,className:"space-y-4",children:[x&&f.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg text-xs font-medium flex items-start gap-2 border border-red-100",children:[f.jsx(sl,{size:16,className:"shrink-0 mt-0.5"}),f.jsx("span",{children:x})]}),f.jsxs("div",{className:"space-y-1 relative",children:[f.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 tracking-wider",children:"Nueva Contrasea"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:p?"text":"password",className:"w-full p-3 pr-10 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[var(--color-brand)]/20 focus:border-[var(--color-brand)] outline-none transition-all",placeholder:"Ingresa tu nueva clave",value:s,onChange:j=>o(j.target.value),disabled:y}),f.jsx("button",{type:"button",onClick:()=>g(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",tabIndex:-1,children:p?f.jsx(dw,{size:18}):f.jsx(Ls,{size:18})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 p-3 bg-gray-50 rounded-lg border border-gray-100",children:[f.jsx(k,{fulfilled:D.length,text:"Mnimo 8 caracteres"}),f.jsx(k,{fulfilled:D.upper,text:"Una mayscula"}),f.jsx(k,{fulfilled:D.lower,text:"Una minscula"}),f.jsx(k,{fulfilled:D.number,text:"Un nmero"}),f.jsx(k,{fulfilled:D.special,text:"Un carcter especial (!@#$)"})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 tracking-wider",children:"Confirmar Contrasea"}),f.jsx("input",{type:p?"text":"password",className:`w-full p-3 bg-gray-50 border rounded-lg focus:ring-2 outline-none transition-all ${c&&s!==c?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-200 focus:ring-[var(--color-brand)]/20 focus:border-[var(--color-brand)]"}`,placeholder:"Repite la contrasea",value:c,onChange:j=>d(j.target.value),disabled:y}),c&&s!==c&&f.jsx("p",{className:"text-[10px] text-red-500 font-bold mt-1",children:"Las contraseas no coinciden"})]}),f.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[f.jsx(Le,{type:"button",variant:"ghost",onClick:e,disabled:y,children:"Cancelar"}),f.jsx(Le,{type:"submit",loading:y,icon:wy,disabled:!R||y,children:y?"Actualizando...":"Actualizar y Salir"})]})]})]})]})})}function Kk(){const{user:i,logout:e,role:n}=dn(),{pendientes:s}=cf(),o=lr(),[c,d]=M.useState(!1),[p,g]=M.useState(!1),y=[{name:"Bandeja Revisin",href:"/revision/requisiciones",icon:JM,roles:["revision","autorizacion","direccion","admin","almacen"]},{name:"Mis Trmites",href:"/mis-requisiciones",icon:hw,roles:["solicitud","admin","revision","autorizacion","direccion","almacen"]},{name:"Nueva Solicitud",href:"/nueva",icon:ZM,roles:["solicitud","admin","revision"]},{name:"Fechas de Recepcin",href:"/admin/configuracion",icon:uw,roles:["admin","direccion"]},{name:"Usuarios",href:"/admin/usuarios",icon:vw,roles:["admin"]}],_=i?.email?.substring(0,2).toUpperCase()||"UB",x=R=>R==="admin"?"Administrador":R==="revision"?"Revisor":R==="autorizacion"?"Autorizacin":R==="direccion"?"Direccin":R==="almacen"?"Almacn":"Solicitante",w=y.filter(R=>R.roles.includes(n||"")),D=n==="admin";return f.jsxs(Jc.Fragment,{children:[f.jsx(Qk,{isOpen:p,onClose:()=>g(!1)}),f.jsxs("div",{className:"flex h-screen bg-surface",children:[c&&f.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 md:hidden backdrop-blur-sm transition-opacity",onClick:()=>d(!1)}),f.jsx("aside",{className:`
          fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out md:relative md:translate-x-0 shadow-xl md:shadow-none
          ${c?"translate-x-0":"-translate-x-full"}
        `,children:f.jsxs("div",{className:"h-full flex flex-col",children:[f.jsx("div",{className:"h-16 flex items-center justify-center border-b border-gray-100 bg-white",children:f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("img",{src:"/logo-tapachula.jpeg",alt:"Logo",className:"h-10 w-auto object-contain"})})}),f.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto",children:w.map(R=>{const q=o.pathname.startsWith(R.href);return f.jsxs(ch,{to:R.href,onClick:()=>d(!1),className:`
                      flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200 group
                      ${q?"bg-[var(--color-brand)] text-white shadow-md shadow-brand/20":"text-gray-600 hover:bg-gray-50 hover:text-[var(--color-brand)]"}
                    `,children:[f.jsx(R.icon,{size:20,className:q?"text-white":"text-gray-400 group-hover:text-[var(--color-brand)]"}),R.name]},R.name)})}),f.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50/50",children:f.jsxs("button",{onClick:e,className:"flex items-center gap-3 w-full px-4 py-3 text-sm font-medium text-gray-600 rounded-xl hover:bg-red-50 hover:text-red-600 transition-colors",children:[f.jsx(mw,{size:20}),"Cerrar Sesin"]})})]})}),f.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden bg-surface",children:[f.jsxs("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-4 md:px-8 shadow-sm z-30",children:[f.jsx("button",{onClick:()=>d(!0),className:"md:hidden p-2 text-gray-500 hover:bg-gray-100 rounded-lg",children:f.jsx(_k,{size:24})}),f.jsxs("div",{className:"flex-1 flex justify-end items-center gap-4 md:gap-6",children:[f.jsxs(ch,{to:"/notificaciones",className:"relative p-2 text-gray-400 hover:text-[var(--color-brand)] hover:bg-gray-50 rounded-full transition-all",children:[f.jsx(SM,{size:22}),s>0&&f.jsx("span",{className:"absolute top-1.5 right-1.5 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white animate-pulse"})]}),f.jsx("div",{className:"h-8 w-px bg-gray-200 hidden md:block"}),f.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[f.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[f.jsx("span",{className:"text-sm font-bold text-gray-800 leading-tight",children:i?.email||"Usuario"}),f.jsx("span",{className:"text-[10px] uppercase font-bold text-[var(--color-brand)] tracking-wider",children:x(n||"")})]}),f.jsx("div",{className:"relative group",children:f.jsxs("button",{onClick:()=>D&&g(!0),className:`w-9 h-9 rounded-full bg-[var(--color-brand)] text-white flex items-center justify-center font-bold text-xs shadow-sm ring-2 ring-white transition-all relative overflow-hidden 
                        ${D?"hover:ring-[var(--color-brand)]/50 cursor-pointer group-hover:scale-105":"cursor-default"}`,title:D?"Clic para cambiar contrasea":"Usuario conectado",children:[D&&f.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx(lk,{size:14,className:"text-white"})}),f.jsx("span",{className:D?"group-hover:opacity-0 transition-opacity":"",children:_})]})})]})]})]}),f.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-8",children:f.jsx("div",{className:"max-w-6xl mx-auto animate-fade-in",children:f.jsx(WS,{})})})]})]})]})}function bw(){return f.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("h2",{className:"text-lg font-semibold text-ink mb-2",children:"Acceso denegado"}),f.jsx("p",{className:"text-sm text-ink/70 text-center max-w-md",children:"No cuentas con permisos para acceder a esta seccin. Si consideras que esto es un error, contacta al administrador del sistema."})]})}function Xk(){const{login:i,error:e,loading:n,user:s,booting:o}=dn(),c=Hr(),[d,p]=M.useState(""),[g,y]=M.useState(""),[_,x]=M.useState(!1),[w,D]=M.useState(null),[R,q]=M.useState(!1),k=M.useMemo(()=>d.trim().toLowerCase(),[d]);if(M.useEffect(()=>{!o&&s&&c("/",{replace:!0})},[s,o,c]),o)return f.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 border-4 border-[var(--color-brand)]/30 border-t-[var(--color-brand)] rounded-full animate-spin"}),f.jsx("p",{className:"text-slate-500 font-medium animate-pulse",children:"Cargando sistema..."})]});const j=async X=>{if(X.preventDefault(),D(null),!d||!g){D("Por favor, ingresa tus credenciales.");return}await i(k,g)};return f.jsxs(Jc.Fragment,{children:[R&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-fade-in",children:f.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl shadow-2xl overflow-hidden animate-scale-in border border-slate-100 relative",children:[f.jsx("button",{onClick:()=>q(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 hover:bg-slate-100 p-1 rounded-full transition-colors",children:f.jsx(Ws,{size:20})}),f.jsxs("div",{className:"p-8 text-center",children:[f.jsx("div",{className:"w-12 h-12 bg-blue-50 text-[var(--color-brand)] rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(QE,{size:24})}),f.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Soporte Tcnico"}),f.jsx("p",{className:"text-sm text-slate-500 mb-6 leading-relaxed",children:"Para restablecer tu contrasea o reportar problemas de acceso, por favor contacta al administrador:"}),f.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100 mb-6",children:[f.jsx("p",{className:"text-xs font-bold uppercase text-slate-400 mb-1",children:"Correo de contacto"}),f.jsx("a",{href:"mailto:contacto@redacert.com",className:"text-base font-bold text-[var(--color-brand)] hover:underline",children:"contacto@redacert.com"})]}),f.jsx(Le,{onClick:()=>q(!1),className:"w-full",children:"Entendido"})]})]})}),f.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-slate-100",children:[f.jsxs("div",{className:"hidden md:flex md:w-1/2 lg:w-5/12 bg-gradient-to-br from-slate-900 via-[#0f172a] to-slate-800 relative overflow-hidden items-center justify-center p-12 lg:p-20 text-white",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-white/5 via-transparent to-transparent opacity-70"}),f.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-64 bg-gradient-to-t from-slate-900/80 to-transparent"}),f.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[f.jsx("div",{className:"mb-8 p-6 bg-white rounded-full shadow-[0_0_50px_rgba(255,255,255,0.15)] animate-fade-in-down border-4 border-slate-800/50",children:f.jsx("img",{src:"/imagen2.jpeg",alt:"Escudo Tapachula",className:"h-24 w-24 object-contain"})}),f.jsx("h1",{className:"text-4xl lg:text-5xl font-extrabold mb-4 tracking-tight leading-tight bg-clip-text text-transparent bg-gradient-to-b from-white to-white/80",children:"OFICIALA MAYOR"}),f.jsx("div",{className:"h-1.5 w-24 bg-gradient-to-r from-[var(--color-gold)] to-amber-300 rounded-full mb-6 shadow-lg shadow-amber-500/20"}),f.jsx("p",{className:"text-lg lg:text-xl text-slate-300 font-light max-w-md leading-relaxed",children:"Sistema Integral de Requisiciones y Control de Servicios"}),f.jsx("p",{className:"text-sm text-slate-500 mt-8 uppercase tracking-widest font-bold",children:"H. Ayuntamiento de Tapachula"})]})]}),f.jsx("div",{className:"w-full md:w-1/2 lg:w-7/12 flex items-center justify-center p-4 sm:p-8 md:p-12 lg:p-20 bg-[#F1F5F9]",children:f.jsxs("div",{className:"w-full max-w-[480px] bg-white rounded-[2rem] shadow-[0_20px_60px_-15px_rgba(0,0,0,0.1)] border border-white p-8 sm:p-12 relative overflow-hidden animate-fade-in-up",children:[f.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-[var(--color-brand)] via-blue-500 to-[var(--color-gold)]"}),f.jsxs("div",{className:"mb-10 text-center md:text-left",children:[f.jsx("div",{className:"md:hidden flex justify-center mb-6",children:f.jsx("div",{className:"p-3 bg-slate-50 rounded-full border border-slate-100",children:f.jsx("img",{src:"/imagen2.jpeg",alt:"Logo",className:"h-14 w-14 object-contain"})})}),f.jsx("h2",{className:"text-3xl font-extrabold text-slate-800",children:"Bienvenido"}),f.jsx("p",{className:"text-slate-500 mt-3 text-lg leading-relaxed",children:"Ingresa tus credenciales institucionales para acceder."})]}),f.jsxs("form",{onSubmit:j,className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-xs font-bold uppercase text-slate-500 tracking-wider ml-1",children:"Correo Electrnico"}),f.jsxs("div",{className:"relative group",children:[f.jsx(yk,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-[var(--color-brand)] transition-colors",size:20}),f.jsx("input",{type:"email",className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-200 rounded-xl focus:bg-white focus:ring-2 focus:ring-[var(--color-brand)]/20 focus:border-[var(--color-brand)] outline-none transition-all font-medium text-slate-700 shadow-sm group-hover:border-slate-300",placeholder:"usuario@tapachula.gob.mx",value:d,onChange:X=>p(X.target.value)})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-xs font-bold uppercase text-slate-500 tracking-wider ml-1",children:"Contrasea"}),f.jsxs("div",{className:"relative group",children:[f.jsx(fw,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-[var(--color-brand)] transition-colors",size:20}),f.jsx("input",{type:_?"text":"password",className:"w-full pl-12 pr-12 py-4 bg-slate-50 border border-slate-200 rounded-xl focus:bg-white focus:ring-2 focus:ring-[var(--color-brand)]/20 focus:border-[var(--color-brand)] outline-none transition-all font-medium text-slate-700 shadow-sm group-hover:border-slate-300",placeholder:"",value:g,onChange:X=>y(X.target.value)}),f.jsx("button",{type:"button",onClick:()=>x(!_),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 p-1.5 rounded-full hover:bg-slate-200 transition-all outline-none focus:bg-slate-200",children:_?f.jsx(dw,{size:20}):f.jsx(Ls,{size:20})})]})]}),w&&f.jsxs("div",{className:"text-sm font-medium text-amber-700 bg-amber-50 p-4 rounded-xl border border-amber-100 flex items-start gap-3 animate-shake",children:[f.jsx(sl,{size:18,className:"mt-0.5 shrink-0"}),w]}),e&&f.jsxs("div",{className:"text-sm font-medium text-red-700 bg-red-50 p-4 rounded-xl border border-red-100 flex items-start gap-3 animate-shake",children:[f.jsx(sl,{size:18,className:"mt-0.5 shrink-0"}),e]}),f.jsx(Le,{type:"submit",size:"lg",className:"w-full py-4 text-base font-bold shadow-xl shadow-[var(--color-brand)]/20 hover:shadow-[var(--color-brand)]/30 mt-2 transition-all hover:-translate-y-0.5",loading:n,icon:wM,children:"INGRESAR AL SISTEMA"}),f.jsx("div",{className:"pt-6 text-center border-t border-slate-100 mt-6",children:f.jsxs("button",{type:"button",onClick:()=>q(!0),className:"text-sm font-medium text-slate-500 hover:text-[var(--color-brand)] transition-colors hover:underline flex items-center justify-center gap-2 mx-auto",children:[f.jsx(QE,{size:16}),"Tienes problemas para ingresar?"]})})]})]})})]})]})}function Or({isOpen:i,onClose:e,onConfirm:n,title:s="Ests seguro?",message:o,children:c,type:d="danger"}){return i?f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:f.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-scale-in",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[f.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[d==="danger"&&f.jsx(Da,{className:"text-red-500",size:20}),d==="warning"&&f.jsx(Da,{className:"text-amber-500",size:20}),s]}),f.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:f.jsx(Ws,{size:20})})]}),f.jsxs("div",{className:"p-6",children:[o&&f.jsx("p",{className:"text-gray-600 leading-relaxed text-sm mb-2",children:o}),c]}),f.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[f.jsx(Le,{variant:"ghost",onClick:e,size:"sm",children:"Cancelar"}),f.jsx(Le,{variant:d==="danger"?"danger":"primary",onClick:n,size:"sm",children:"Confirmar"})]})]})}):null}const Sy=({children:i,variant:e="default",className:n=""})=>{const s={default:"bg-[var(--color-brand)]/10 text-[var(--color-brand)] border-[var(--color-brand)]/20",success:"bg-emerald-50 text-emerald-700 border-emerald-200",warning:"bg-amber-50 text-amber-700 border-amber-200",danger:"bg-red-50 text-red-700 border-red-200",neutral:"bg-gray-100 text-gray-600 border-gray-200"};return f.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-[10px] uppercase font-bold tracking-wide border ${s[e]} ${n}`,children:i})};function Jk(){const{user:i}=dn(),{requisiciones:e,loading:n,eliminarBorrador:s}=Ga(),o=Hr(),{toast:c}=Ay(),[d,p]=M.useState("por_atender"),[g,y]=M.useState(""),[_,x]=M.useState(null);if(n)return f.jsx("div",{className:"p-8 text-center text-gray-500 animate-pulse",children:"Cargando tus trmites..."});const w=e.filter(j=>j.creadoPor?.uid===i?.uid),D=w.filter(j=>{if(g&&!((j.folio||"").toLowerCase().includes(g.toLowerCase())||(j.area||"").toLowerCase().includes(g.toLowerCase())||(j.tipoMaterial||"").toLowerCase().includes(g.toLowerCase())))return!1;switch(d){case"por_atender":return["borrador"].includes(j.estado);case"proceso":return["en_revision","cotizacion","suficiencia"].includes(j.estado);case"finalizadas":return["autorizada","finalizada","material_entregado","rechazada"].includes(j.estado);default:return!0}}),R={por_atender:w.filter(j=>["borrador"].includes(j.estado)).length,proceso:w.filter(j=>["en_revision","cotizacion","suficiencia"].includes(j.estado)).length,finalizadas:w.filter(j=>["autorizada","finalizada","material_entregado","rechazada"].includes(j.estado)).length},q=async()=>{_&&(await s(_),c("Solicitud eliminada correctamente","success"),x(null))},k=[{id:"por_atender",label:"Por Atender",icon:sl,count:R.por_atender},{id:"proceso",label:"En Proceso",icon:Xc,count:R.proceso},{id:"finalizadas",label:"Finalizadas",icon:Mh,count:R.finalizadas}];return f.jsxs(Jc.Fragment,{children:[f.jsx(Or,{isOpen:!!_,onClose:()=>x(null),onConfirm:q,title:"Eliminar Solicitud",message:"Ests seguro de que deseas eliminar esta solicitud permanentemente? Esta accin no se puede deshacer."}),f.jsxs("div",{className:"space-y-6 pb-20",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mis Trmites"}),f.jsx("p",{className:"text-sm text-gray-500",children:"Consulta el estado de tus solicitudes."})]}),f.jsx(Le,{icon:lg,onClick:()=>o("/nueva"),children:"Nueva Solicitud"})]}),f.jsxs("div",{className:"relative",children:[f.jsx(gw,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),f.jsx("input",{type:"text",placeholder:"Buscar por folio, rea o material...",className:"w-full pl-10 p-3 bg-white border border-gray-200 rounded-xl outline-none shadow-sm focus:ring-2 focus:ring-[var(--color-brand)]/20 transition-all",value:g,onChange:j=>y(j.target.value)})]}),f.jsx("div",{className:"flex overflow-x-auto border-b border-gray-200 no-scrollbar",children:k.map(j=>f.jsxs("button",{onClick:()=>p(j.id),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${d===j.id?"border-brand text-brand":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[f.jsx(j.icon,{size:16}),j.label,j.count>0&&f.jsx("span",{className:`ml-2 text-xs py-0.5 px-2 rounded-full ${d===j.id?"bg-brand text-white":"bg-gray-100 text-gray-600"}`,children:j.count})]},j.id))}),f.jsx("div",{className:"min-h-[300px]",children:D.length===0?f.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-dashed border-gray-300",children:[f.jsx("div",{className:"inline-flex p-4 rounded-full bg-gray-50 mb-4",children:f.jsx(hw,{className:"text-gray-400",size:32})}),f.jsx("p",{className:"text-gray-900 font-medium",children:"No hay solicitudes en esta seccin."}),d==="por_atender"&&f.jsx("button",{onClick:()=>o("/nueva"),className:"mt-2 text-sm text-[var(--color-brand)] font-medium hover:underline",children:"Crear una nueva solicitud"})]}):f.jsx("div",{className:"grid gap-4",children:D.map(j=>f.jsxs("div",{className:"group bg-white p-5 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all flex flex-col md:flex-row gap-4 items-start md:items-center",children:[f.jsx("div",{className:`p-3 rounded-full shrink-0 ${j.estado==="borrador"?"bg-gray-100 text-gray-500":j.estado==="autorizada"||j.estado==="finalizada"?"bg-emerald-50 text-emerald-600":j.estado==="rechazada"?"bg-red-50 text-red-600":"bg-blue-50 text-blue-600"}`,children:f.jsx(Us,{size:24})}),f.jsxs("div",{className:"flex-1 w-full space-y-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"font-mono font-bold text-xs text-gray-500",children:j.folio||"SIN FOLIO"}),f.jsx(Sy,{variant:j.estado==="autorizada"||j.estado==="finalizada"?"success":j.estado==="rechazada"?"danger":j.estado==="borrador"?"neutral":"warning",children:j.estado.replace("_"," ")})]}),f.jsx("h3",{className:"font-bold text-gray-900 text-sm md:text-base",children:j.tipoMaterial}),j.subTipoMaterial&&f.jsx("p",{className:"text-xs text-gray-500",children:j.subTipoMaterial}),f.jsx("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-400",children:f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(Xc,{size:12}),j.createdAt?.seconds?new Date(j.createdAt.seconds*1e3).toLocaleDateString():"Reciente"]})})]}),f.jsxs("div",{className:"w-full md:w-auto flex gap-2 justify-end self-center",children:[j.estado==="borrador"&&f.jsxs(f.Fragment,{children:[f.jsx(Le,{variant:"outline",size:"sm",icon:Lk,onClick:()=>o(`/nueva?edit=${j.id}`),className:"w-full md:w-auto",children:"Editar"}),f.jsx("button",{onClick:()=>x(j.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar borrador",children:f.jsx(Ua,{size:18})})]}),j.estado==="rechazada"&&f.jsxs(f.Fragment,{children:[f.jsx(Le,{variant:"ghost",size:"sm",icon:Ls,onClick:()=>o(`/requisiciones/${j.id}`),className:"w-full md:w-auto border border-red-100 text-red-700 bg-red-50",children:"Ver Motivo"}),f.jsx("button",{onClick:()=>x(j.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar del historial",children:f.jsx(Ua,{size:18})})]}),!["borrador","rechazada"].includes(j.estado)&&f.jsx(Le,{variant:"ghost",size:"sm",icon:Ls,onClick:()=>o(`/requisiciones/${j.id}`),className:"w-full md:w-auto border border-gray-200",children:"Ver Detalle"})]})]},j.id))})})]})]})}function Wk(){const{user:i,role:e}=dn(),[n,s]=M.useState(null),[o,c]=M.useState(!0),[d,p]=M.useState(!1);return M.useEffect(()=>{const g=kr(Kt(ft,"configuracion","reglas_envio"),y=>{y.exists()?s(y.data()):s({diasFestivos:[],excepcionGlobal:!1,excepcionesUsuarios:[]}),c(!1)},y=>{console.error("Error de Firebase (Seguramente faltan reglas):",y),s({diasFestivos:[],excepcionGlobal:!1,excepcionesUsuarios:[]}),c(!1)});return()=>g()},[]),M.useEffect(()=>{if(!(!n||!i||o))try{const g=new Date;let y=!1;const _=n.excepcionesUsuarios?.find(j=>typeof j=="string"?j===i.uid:j.uid===i.uid);if(_&&typeof _!="string"){const j=new Date(_.expira+"T23:59:59");g.getTime()<=j.getTime()&&(y=!0)}if(n.excepcionGlobal||y||e==="admin"||e==="direccion"){p(!0);return}const x=g.getFullYear(),w=g.getMonth();let D=0,R=new Date(x,w,1),q=new Date(x,w,1);const k=n.diasFestivos||[];for(;D<5;){const j=R.getDay(),X=R.getTimezoneOffset()*6e4,Q=new Date(R.getTime()-X).toISOString().split("T")[0],re=k.includes(Q);j!==0&&j!==6&&!re&&(D++,q=new Date(R)),D<5&&R.setDate(R.getDate()+1)}q.setHours(23,59,59,999),p(g.getTime()<=q.getTime())}catch(g){console.error("Error calculando fechas:",g),p(!1)}},[n,i,e,o]),{puedeEnviar:d,loadingConfig:o,config:n}}const Zk=["Pieza","Paquete","Caja","Kilo","Litro","Metro","Juego","Lote","Servicio","Bote","Lata","Par","Galn","Tramo","Rollo","Cubeta"],Ec={"MATERIALES Y SUMINISTROS":{"MATERIALES DE ADMINISTRACION, EMISION DE DOCUMENTOS Y ARTICULOS OFICIALES":["Materiales, tiles y equipos menores de oficina","Material estadstico y geogrfico","Materiales, tiles y equipos menores de tecnologas de la informacin y comunicaciones","Material impreso e informacin digital","Material de limpieza","Materiales y tiles de enseanza"],"ALIMENTOS Y UTENSILIOS":["Productos alimenticios para personas","Productos alimenticios para animales","Utensilios para el servicio de alimentacin"],"MATERIAS PRIMAS Y MATERIALES DE PRODUCCION Y COMERCIALIZACION":["Productos alimenticios, agropecuarios y forestales adquiridos como materia prima","Insumos textiles adquiridos como materia prima"],"MATERIALES Y ARTICULOS DE CONSTRUCCION Y DE REPARACION":["Cemento y productos de concreto","Cal, yeso y productos de yeso","Madera y productos de madera","Vidrio y productos de vidrio","Material elctrico y electrnico","Artculos metlicos para la construccin","Otros materiales y artculos de construccin y reparacin"],"PRODUCTOS QUIMICOS, FARMACEUTICOS Y DE LABORATORIO":["Fertilizantes, pesticidas y otros agroqumicos","Medicinas y productos farmacuticos","Materiales, accesorios y suministros mdicos"],"COMBUSTIBLES, LUBRICANTES Y ADITIVOS":["Combustibles, lubricantes y aditivos"],"VESTUARIO, BLANCOS, PRENDAS DE PROTECCION Y ARTICULOS DEPORTIVOS":["Vestuario y uniformes","Prendas de seguridad y proteccin personal","Artculos deportivos","Blancos y otros productos textiles, excepto prendas de vestir"],"MATERIALES Y SUMINISTROS PARA SEGURIDAD":["Materiales de seguridad pblica","Prendas de proteccin para seguridad pblica y nacional"],"HERRAMIENTAS, REFACCIONES Y ACCESORIOS MENORES":["Herramientas menores","Refacciones y accesorios menores de equipo de cmputo y tecnologas de la informacin","Refacciones y accesorios menores de equipo de transporte","Refacciones y accesorios menores de maquinaria y otros equipos"]},"SERVICIOS GENERALES":{"SERVICIOS BASICOS":["Gas","Agua","Servicios de acceso de Internet, redes y procesamiento de informacin"],"SERVICIOS DE ARRENDAMIENTO":["Arrendamiento de edificios","Arrendamiento de mobiliario y equipo de administracin, educacional y recreativo","Arrendamiento de equipo de transporte","Arrendamiento de maquinaria, otros equipos y herramientas","Arrendamiento financiero"],"SERVICIOS PROFESIONALES, CIENTIFICOS, TECNICOS Y OTROS SERVICIOS":["Servicios legales, de contabilidad, auditora y relacionados","Servicios de consultora administrativa, procesos, tcnica y en tecnologas de la informacin","Servicios de capacitacin","Servicios de apoyo administrativo, traduccin, fotocopiado e impresin","Servicios profesionales, cientficos y tcnicos integrales"],"SERVICIOS FINANCIEROS, BANCARIOS Y COMERCIALES":["Seguro de bienes patrimoniales"],"SERVICIOS DE INSTALACION, REPARACION, MANTENIMIENTO Y CONSERVACION":["Instalacin, reparacin y mantenimiento de equipo de cmputo y tecnologa de la informacin","Reparacin y mantenimiento de equipo de transporte","Instalacin, reparacin y mantenimiento de maquinaria, otros equipos y herramienta","Servicios de jardinera y fumigacin"],"SERVICIOS DE COMUNICACION SOCIAL Y PUBLICIDAD":["Difusin de mensajes sobre programas y actividades gubernamentales"],"SERVICIOS DE TRASLADO Y VIATICOS":["Pasajes areos"],"SERVICIOS OFICIALES":["Gastos de orden social y cultural"],"OTROS SERVICIOS GENERALES":["Impuestos y derechos","Otros servicios generales"]},"BIENES MUEBLES, INMUEBLES E INTANGIBLES":{"MOBILIARIO Y EQUIPO DE ADMINISTRACION":["Muebles de oficina y estantera","Bienes artsticos, culturales y cientficos","Equipo de cmputo y de tecnologas de la informacin","Otros mobiliarios y equipos de administracin"],"MOBILIARIO Y EQUIPO EDUCACIONAL Y RECREATIVO":["Equipos y aparatos audiovisuales","Aparatos deportivos","Cmaras fotogrficas y de video","Otro mobiliario y equipo educacional y recreativo"],"EQUIPO E INSTRUMENTAL MEDICO Y DE LABORATORIO":["Equipo mdico y de laboratorio"],"VEHICULOS Y EQUIPO DE TRANSPORTE":["Vehculos y equipo terrestre","Carroceras y remolques","Otros equipos de transporte"],"EQUIPO DE DEFENSA Y SEGURIDAD":["Equipo de defensa y seguridad"],"MAQUINARIA, OTROS EQUIPOS Y HERRAMIENTAS":["Maquinaria y equipo de construccin","Sistemas de aire acondicionado, calefaccin y de refrigeracin industrial y comercial","Equipo de comunicacin y telecomunicacin","Equipos de generacin elctrica, aparatos y accesorios elctricos","Otros equipos"],"ACTIVOS BIOLOGICOS":["Bovinos","Porcinos","Aves","Peces y acuicultura","Equinos","rboles y plantas"],"ACTIVOS INTANGIBLES":["Software","Licencias informticas e intelectuales","Otros activos intangibles"],"BIENES INMUEBLES":["Terrenos","Edificios no residenciales"]}},Cp=["Oficina de la Presidencia Municipal","Sindicatura Municipal","Primera Regidura","Segunda Regidura","Tercera Regidura","Cuarta Regidura","Quinta Regidura","Sexta Regidura","Sptima Regidura","Octava Regidura","Novena Regidura","Secretara Ejecutiva de Gabinete","Secretara Particular","Direccin de Informtica","Direccin Tcnica de Eventos","Direccin de Atencin Ciudadana","Secretara Privada","Direccin de Comunicacin Social","Delegacin Tcnica Municipal del Agua","Coordinacin General de Transparencia, Acceso a la Informacin Pblica y Proteccin de Datos Personales","Secretara General del Ayuntamiento","Tesorera Municipal","Oficiala Mayor","Direccin de Adquisiciones y Servicios","Direccin de Recursos Humanos","Direccin de Recursos Materiales, Servicios y Patrimonio","Secretara de Planeacin y Desarrollo Municipal","Secretara de Seguridad Pblica y Proteccin Ciudadana Municipal","Secretara de Proteccin Civil Municipal","Secretara de Obras Pblicas Municipal","Secretara de Bienestar Municipal","Secretara de Economa y Turismo Municipal","Secretara de Salud Pblica Municipal","Secretara de Desarrollo Urbano y Ecologa","Secretara de Igualdad de Gnero","Secretara de la Juventud y Deporte Municipal","Secretara de Desarrollo Rural y Fomento a Agronegocios","Secretara de Educacin y Cultura Municipal","Secretara de Servicios Pblicos Municipales","rgano Interno de Control Municipal","Consejera Jurdica","Comit de Planeacin para el Desarrollo Municipal","Secretariado Ejecutivo del Consejo Municipal de Seguridad Pblica","DIF - CAS Centro","DIF - CAS Perla del Soconusco"],cg=(i,e="")=>{const n=(i||"").toUpperCase().trim(),s=(e||"").toUpperCase().trim();return n.includes("MATERIALES")?!0:n.includes("SERVICIOS")?!1:n.includes("BIENES")||n.includes("MUEBLES")||n.includes("ACTIVOS")?!!(s.includes("ADMINISTRACION")||s.includes("EDUCACIONAL")||s.includes("RECREATIVO")||s.includes("MEDICO")||s.includes("LABORATORIO")||s.includes("VEHICULOS")||s.includes("TRANSPORTE")||s.includes("DEFENSA")||s.includes("SEGURIDAD")||s.includes("MAQUINARIA")||s.includes("HERRAMIENTAS")||s.includes("BIOLOGICOS")&&!s.includes("INTANGIBLES")):!0};function e6(){const i=Hr(),[e]=C2(),n=e.get("edit"),{toast:s}=Ay(),{user:o,role:c}=dn(),{crearRequisicion:d,actualizarRequisicion:p,requisiciones:g,actualizarEstado:y}=Ga(),{agregarNotificacion:_}=cf(),{puedeEnviar:x,loadingConfig:w}=Wk(),[D,R]=M.useState(!1),[q,k]=M.useState(!1),[j,X]=M.useState(!1),[Q,re]=M.useState(!1),[ce,de]=M.useState([]),[N,S]=M.useState({open:!1,index:null}),[C,U]=M.useState({open:!1,file:null}),[V,B]=M.useState(""),I=()=>{const se=new Date,ve=se.getFullYear(),be=String(se.getMonth()+1).padStart(2,"0"),je=String(se.getDate()).padStart(2,"0");return`${ve}-${be}-${je}`},ot=["admin","revision","direccion","autorizacion"].includes(c||"")?void 0:I(),[Ie,J]=M.useState({fechaSolicitud:I(),area:o?.area||"",tipoMaterial:"",subTipoMaterial:"",organoRequirente:o?.organo||"",responsableNombre:"",responsableTelefono:"",justificacion:""}),[ae,ge]=M.useState([{id:Date.now().toString(),cantidad:1,unidad:"",concepto:"",descripcion:"",cantidadAutorizada:0}]),[De,Ye]=M.useState(null);M.useEffect(()=>{if(n){const se=g.find(ve=>ve.id===n);if(se){Ye(se),J({fechaSolicitud:se.fechaSolicitud||I(),area:se.area,tipoMaterial:se.tipoMaterial,subTipoMaterial:se.subTipoMaterial||"",organoRequirente:se.organoRequirente,responsableNombre:se.responsableNombre,responsableTelefono:se.responsableTelefono,justificacion:se.justificacion}),ge(se.lineas),de(se.adjuntos||[]);const ve=Object.keys(Ec).find(be=>Object.keys(Ec[be]).includes(se.tipoMaterial));ve&&B(ve)}}else o&&J(se=>({...se,area:o?.area||"",organoRequirente:o?.organo||""}))},[n,g,o]);const P=async se=>{if(se.target.files){const be=Array.from(se.target.files).filter(je=>{const gt=je.type.startsWith("image/")||je.type==="application/pdf",vn=je.size<=5*1024*1024;return gt||s(`${je.name} no es imagen o PDF`,"error"),vn||s(`${je.name} excede 5MB`,"error"),gt&&vn});be.length>0&&await ee(be)}},ee=async se=>{re(!0);try{const ve=[];for(const be of se){const je=Sp(Rp,`evidencias/${o?.uid}/${Date.now()}_${be.name}`);await iM(je,be);const gt=await rM(je);ve.push({nombre:be.name,url:gt,tipo:be.type,fullPath:je.fullPath})}de(be=>[...be,...ve]),s("Archivos adjuntados correctamente","success")}catch(ve){console.error("Error subiendo",ve),s("Error al subir archivos","error")}finally{re(!1)}},ue=se=>{U({open:!0,file:se})},fe=async()=>{const se=C.file;if(se){U({open:!1,file:null});try{if(se.fullPath){const ve=Sp(Rp,se.fullPath);await HE(ve)}else{const ve=Sp(Rp,se.url);await HE(ve)}de(ve=>ve.filter(be=>be.url!==se.url)),s("Archivo eliminado correctamente","success")}catch(ve){console.error("Error eliminando archivo:",ve),s("No se pudo eliminar el archivo del servidor","error")}}},Te=se=>{if(ae.length===1)return s("Mnimo una partida","error");const ve=ae[se];ve.concepto.trim()!==""||ve.descripcion.trim()!==""?S({open:!0,index:se}):Ae(se)},Ae=se=>{const ve=[...ae];ve.splice(se,1),ge(ve),S({open:!1,index:null})},Ve=()=>{ge([...ae,{id:Date.now().toString(),cantidad:1,unidad:"",concepto:"",descripcion:"",cantidadAutorizada:0}])},lt=(se,ve,be)=>{const je=[...ae];je[se]={...je[se],[ve]:be},ge(je)},nt=se=>{B(se.target.value),J(ve=>({...ve,tipoMaterial:"",subTipoMaterial:""}))},pi=se=>{J(ve=>({...ve,tipoMaterial:se.target.value,subTipoMaterial:""}))},gi=se=>{J(ve=>({...ve,subTipoMaterial:se.target.value}))},An=se=>{J(ve=>({...ve,[se.target.name]:se.target.value}))},ti=se=>{if(se){if(!Ie.area.trim())return s("Falta el rea Solicitante","error");if(!Ie.responsableNombre.trim())return s("Falta el Responsable de Seguimiento","error");if(!Ie.responsableTelefono.trim())return s("Falta el Telfono de Contacto","error");if(!Ie.tipoMaterial||!Ie.subTipoMaterial)return s("Selecciona la clasificacin del gasto","error");if(!Ie.justificacion.trim())return s("Falta justificacin","error");if(ae.some(ve=>!ve.concepto||!ve.descripcion||!ve.unidad))return s("Completa las partidas (incluyendo unidad)","error")}else if(!Ie.justificacion.trim())return s("Escribe al menos la justificacin para identificar el borrador","info");X(se),k(!0)},yn=async()=>{k(!1),R(!0);try{const se=ae.map(Ln=>({...Ln,observacionRevision:"",cantidadAutorizada:Ln.cantidad})),ve=new Date().getTimezoneOffset()*6e4,be=new Date(Date.now()-ve).toISOString().split("T")[0],je={...Ie,fechaSolicitud:j?be:Ie.fechaSolicitud,titularNombre:o?.titular||"",direccionEntrega:"",lineas:se,adjuntos:ce,estado:j?"en_revision":"borrador",revisionNotas:j?"":De?.revisionNotas||"",historialObservaciones:De?.historialObservaciones||[],creadoPor:{uid:o?.uid||"",email:o?.email||"",nombre:o?.titular||"",telefono:o?.telefono||"",area:o?.area||""}},gt=JSON.parse(JSON.stringify(je));let vn;if(n){const{creadoPor:Ln,...Gt}=gt;await p(n,Gt),j&&await y(n,"en_revision"),vn={id:n,folio:De?.folio||""}}else vn=await d(gt,{enviar:j});j&&n&&De?.revisandoPor?.uid&&vn&&await _({targetUid:De.revisandoPor.uid,reqId:vn.id,folio:vn.folio,tipo:"accion",mensaje:`CORRECCIN: ${vn.folio} ha sido actualizada.`}),s(j?"Enviado con xito":"Borrador guardado","success"),i("/mis-requisiciones")}catch(se){console.error(se),s("Error al guardar","error")}finally{R(!1)}},ji=V?Object.keys(Ec[V]||{}):[],yi=V&&Ie.tipoMaterial?Ec[V][Ie.tipoMaterial]||[]:[];return f.jsxs(Jc.Fragment,{children:[f.jsx(Or,{isOpen:q,onClose:()=>k(!1),onConfirm:yn,title:j?"Enviar Solicitud":"Guardar Borrador",message:j?"Confirmas que la informacin es correcta?":"Se guardar para editar despus.",type:"info"}),f.jsx(Or,{isOpen:N.open,onClose:()=>S({open:!1,index:null}),onConfirm:()=>N.index!==null&&Ae(N.index),title:"Eliminar partida",message:"Deseas eliminar este rengln?",type:"warning"}),f.jsx(Or,{isOpen:C.open,onClose:()=>U({open:!1,file:null}),onConfirm:fe,title:"Eliminar archivo adjunto",message:`Ests seguro de eliminar "${C.file?.nombre}" de forma permanente?`,type:"danger"}),f.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 pb-24",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:()=>i(-1),className:"p-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:f.jsx(cw,{size:24})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Corregir Solicitud":"Nueva Solicitud"}),f.jsx("p",{className:"text-gray-500 text-sm",children:"Completa la informacin del requerimiento."})]})]}),De?.revisionNotas&&n&&f.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-6 animate-fade-in shadow-sm",children:[f.jsxs("h3",{className:"text-amber-800 font-bold flex items-center gap-2 mb-2",children:[f.jsx(Da,{size:20})," Correcciones Solicitadas"]}),f.jsx("p",{className:"text-amber-900 text-sm whitespace-pre-wrap leading-relaxed",children:De.revisionNotas})]}),f.jsxs("form",{className:"space-y-8",onSubmit:se=>se.preventDefault(),children:[f.jsx("section",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 tracking-wider mb-1 block",children:"Fecha de Solicitud"}),f.jsx("input",{type:"date",value:Ie.fechaSolicitud,onChange:An,name:"fechaSolicitud",min:ot,className:"w-full p-3 bg-white border border-gray-300 rounded-lg outline-none focus:ring-2 focus:ring-[var(--color-brand)]/20 font-medium cursor-pointer"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 tracking-wider mb-1 block",children:"rgano Requirente"}),f.jsx("input",{type:"text",value:Ie.organoRequirente,disabled:!0,className:"w-full p-3 bg-gray-100 border border-gray-200 rounded-lg text-gray-600 font-bold cursor-not-allowed"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 tracking-wider mb-1 block",children:"rea Solicitante"}),f.jsx("input",{type:"text",name:"area",value:Ie.area,onChange:An,className:"w-full p-3 bg-white border border-gray-300 rounded-lg outline-none focus:border-[var(--color-brand)]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 tracking-wider mb-1 block",children:"Responsable Seguimiento"}),f.jsx("input",{type:"text",name:"responsableNombre",value:Ie.responsableNombre,onChange:An,className:"w-full p-3 bg-white border border-gray-300 rounded-lg outline-none focus:border-[var(--color-brand)]",placeholder:"Nombre completo"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 tracking-wider mb-1 block",children:"Telfono Contacto"}),f.jsx("input",{type:"tel",name:"responsableTelefono",value:Ie.responsableTelefono,onChange:An,className:"w-full p-3 bg-white border border-gray-300 rounded-lg outline-none focus:border-[var(--color-brand)]",placeholder:"Celular / Extensin"})]}),f.jsxs("div",{className:"md:col-span-2 bg-gray-50 p-5 rounded-lg border border-gray-200 grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx("div",{className:"md:col-span-3 mb-1",children:f.jsxs("span",{className:"text-sm font-bold text-[var(--color-brand)] uppercase flex items-center gap-2",children:[f.jsx(Us,{size:16})," Clasificacin Presupuestal"]})}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-gray-500 mb-1 uppercase",children:"1. Captulo"}),f.jsxs("select",{value:V,onChange:nt,className:"w-full p-2 bg-white border border-gray-300 rounded-md text-sm outline-none focus:border-blue-500",children:[f.jsx("option",{value:"",children:"-- Seleccione --"}),Object.keys(Ec).map(se=>f.jsx("option",{value:se,children:se},se))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-gray-500 mb-1 uppercase",children:"2. Concepto"}),f.jsxs("select",{value:Ie.tipoMaterial,onChange:pi,disabled:!V,className:"w-full p-2 bg-white border border-gray-300 rounded-md text-sm outline-none focus:border-blue-500 disabled:bg-gray-100 disabled:text-gray-400",children:[f.jsx("option",{value:"",children:"-- Seleccione --"}),ji.map(se=>f.jsx("option",{value:se,children:se},se))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-gray-500 mb-1 uppercase",children:"3. Partida Genrica"}),f.jsxs("select",{value:Ie.subTipoMaterial,onChange:gi,disabled:!Ie.tipoMaterial,className:"w-full p-2 bg-white border border-gray-300 rounded-md text-sm outline-none focus:border-blue-500 disabled:bg-gray-100 disabled:text-gray-400",children:[f.jsx("option",{value:"",children:"-- Seleccione --"}),yi.map(se=>f.jsx("option",{value:se,children:se},se))]})]})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 tracking-wider mb-1 block",children:"Justificacin del Gasto"}),f.jsx("textarea",{name:"justificacion",rows:3,value:Ie.justificacion,onChange:An,className:"w-full p-3 bg-white border border-gray-300 rounded-lg outline-none resize-none focus:border-[var(--color-brand)]",placeholder:"Describa la necesidad..."})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Evidencias / Adjuntos (PDF o Imagen)"}),ce.length>0&&f.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:ce.map(se=>f.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 text-blue-700 px-3 py-1.5 rounded-lg text-xs border border-blue-100",children:[f.jsx(Us,{size:14}),f.jsx("a",{href:se.url,target:"_blank",rel:"noreferrer",className:"hover:underline max-w-[150px] truncate",children:se.nombre}),f.jsx("button",{type:"button",onClick:()=>ue(se),className:"text-blue-400 hover:text-red-500",children:f.jsx(Ws,{size:14})})]},se.url))}),f.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:bg-gray-50 transition-colors relative",children:[f.jsx("input",{type:"file",multiple:!0,accept:"image/*,.pdf",onChange:P,disabled:Q,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer disabled:cursor-not-allowed"}),f.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-500",children:[f.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-full",children:f.jsx(pw,{size:24})}),f.jsx("span",{className:"text-sm font-medium",children:Q?"Subiendo archivos...":"Clic para adjuntar o arrastra archivos aqu"}),f.jsx("span",{className:"text-xs text-gray-400",children:"Mx 5MB por archivo"})]})]})]})]})}),f.jsxs("section",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[f.jsx("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200 flex justify-between items-center",children:f.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[f.jsx(lg,{size:18,className:"text-[var(--color-brand)]"})," Detalle de Bienes / Servicios"]})}),f.jsxs("div",{className:"hidden md:grid md:grid-cols-12 gap-4 px-4 py-2 bg-gray-100 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:[f.jsx("div",{className:"col-span-1 text-center",children:"Cantidad"}),f.jsx("div",{className:"col-span-2",children:"Unidad"}),f.jsx("div",{className:"col-span-3",children:"Concepto"}),f.jsx("div",{className:"col-span-5",children:"Descripcin"}),f.jsx("div",{className:"col-span-1 text-center",children:"Accin"})]}),f.jsx("div",{className:"divide-y divide-gray-100",children:ae.map((se,ve)=>f.jsxs("div",{className:"p-4 md:grid md:grid-cols-12 md:gap-4 md:items-start hover:bg-gray-50/50 transition-colors group",children:[f.jsxs("div",{className:"col-span-1 mb-2 md:mb-0",children:[f.jsx("label",{className:"md:hidden text-xs font-bold text-gray-400 block mb-1",children:"Cantidad"}),f.jsx("input",{type:"number",min:"1",className:"w-full p-2 border border-gray-300 rounded text-center font-bold focus:border-[var(--color-brand)] outline-none",value:se.cantidad,onChange:be=>lt(ve,"cantidad",parseInt(be.target.value)||0)})]}),f.jsxs("div",{className:"col-span-2 mb-2 md:mb-0",children:[f.jsx("label",{className:"md:hidden text-xs font-bold text-gray-400 block mb-1",children:"Unidad"}),f.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded bg-white text-sm outline-none focus:border-[var(--color-brand)]",value:se.unidad,onChange:be=>lt(ve,"unidad",be.target.value),children:[f.jsx("option",{value:"",disabled:!0,children:"-- Seleccione --"}),Zk.map(be=>f.jsx("option",{value:be,children:be},be))]})]}),f.jsxs("div",{className:"col-span-3 mb-2 md:mb-0",children:[f.jsx("label",{className:"md:hidden text-xs font-bold text-gray-400 block mb-1",children:"Concepto"}),f.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded text-sm font-medium outline-none focus:border-[var(--color-brand)] placeholder:font-normal",placeholder:"Ej. Papel Bond",value:se.concepto,onChange:be=>lt(ve,"concepto",be.target.value)})]}),f.jsxs("div",{className:"col-span-5 mb-2 md:mb-0",children:[f.jsx("label",{className:"md:hidden text-xs font-bold text-gray-400 block mb-1",children:"Descripcin"}),f.jsx("textarea",{rows:1,className:"w-full p-2 border border-gray-300 rounded text-sm resize-none outline-none focus:border-[var(--color-brand)]",placeholder:"Detalles especficos...",value:se.descripcion,onChange:be=>lt(ve,"descripcion",be.target.value)}),se.observacionRevision&&f.jsxs("div",{className:"mt-1 text-xs text-red-600 font-medium bg-red-50 p-2 rounded border border-red-100 flex gap-1 items-start",children:[f.jsx(og,{size:14,className:"shrink-0 mt-0.5"}),f.jsx("span",{children:se.observacionRevision})]})]}),f.jsx("div",{className:"col-span-1 flex justify-center pt-1",children:f.jsx("button",{type:"button",onClick:()=>Te(ve),className:"text-gray-300 hover:text-red-600 hover:bg-red-50 p-2 rounded-lg transition-colors",children:f.jsx(Ua,{size:18})})})]},se.id))}),f.jsx("div",{className:"bg-gray-50 p-3 flex justify-center border-t border-gray-200",children:f.jsx(Le,{type:"button",variant:"ghost",size:"sm",onClick:Ve,icon:lg,children:"Agregar otra partida"})})]}),!x&&!w&&f.jsxs("div",{className:"bg-amber-50 border border-amber-200 text-amber-800 px-4 py-3 rounded-xl flex items-start gap-3 mt-4 mb-2 animate-fade-in",children:[f.jsx(og,{className:"shrink-0 mt-0.5",size:20}),f.jsxs("div",{className:"text-sm",children:[f.jsx("p",{className:"font-bold mb-1",children:"El periodo de recepcin ordinaria ha finalizado"}),f.jsxs("p",{children:["El sistema de requerimientos solo recibe solicitudes los primeros 5 das hbiles de cada mes. Puede continuar elaborando su solicitud y guardarla como ",f.jsx("strong",{children:"Borrador"})," para enviarla el prximo mes."]})]})]}),f.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-200",children:[f.jsx(Le,{type:"button",variant:"secondary",onClick:()=>i("/mis-requisiciones"),disabled:D,children:"Cancelar"}),f.jsx(Le,{type:"button",variant:"outline",loading:D,onClick:()=>ti(!1),icon:wy,disabled:D,children:"Guardar Borrador"}),f.jsx(Le,{type:"button",variant:"primary",loading:D,onClick:()=>ti(!0),icon:yw,disabled:D||w||!x,children:"Enviar Solicitud"})]})]})]})]})}function t6(){const{user:i}=dn(),{requisiciones:e,loading:n}=Ga(),s=Hr(),o=i?.role==="almacen",[c,d]=M.useState("nuevas"),[p,g]=M.useState(""),[y,_]=M.useState("todos");if(M.useEffect(()=>{o&&d("autorizadas")},[o]),n)return f.jsx("div",{className:"p-8 text-center text-gray-500 animate-pulse",children:"Cargando bandeja..."});const x=e.filter(R=>{if(p){const q=p.toLowerCase(),k=(R.folio||"").toLowerCase(),j=(R.organoRequirente||"").toLowerCase(),X=(R.tipoMaterial||"").toLowerCase(),Q=(R.subTipoMaterial||"").toLowerCase(),re=(R.justificacion||"").toLowerCase();if(!(k.includes(q)||j.includes(q)||X.includes(q)||Q.includes(q)||re.includes(q)))return!1}if(y!=="todos"){const q=`${R.tipoMaterial} ${R.subTipoMaterial||""}`.toLowerCase();if(y==="vehicular"&&!["combustibles, lubricantes y aditivos","refacciones y accesorios menores de equipo de transporte","refacciones y accesorios menores de maquinaria y otros equipos","reparacin y mantenimiento de equipo de transporte","instalacin, reparacin y mantenimiento de maquinaria, otros equipos y herramienta"].some(X=>q.includes(X))||y==="limpieza"&&!q.includes("material de limpieza"))return!1}switch(c){case"nuevas":return R.estado==="en_revision"&&(!R.revisandoPor||!R.revisandoPor.uid);case"en_revision":return R.estado==="en_revision"&&R.revisandoPor?.uid===i?.uid;case"proceso":return["cotizacion","suficiencia"].includes(R.estado)&&R.revisandoPor?.uid===i?.uid;case"autorizadas":return o?R.estado==="autorizada"&&cg(R.tipoMaterial,R.subTipoMaterial):R.estado==="autorizada"&&R.revisandoPor?.uid===i?.uid;case"finalizadas":return o?R.estado==="finalizada":R.estado==="finalizada"&&R.revisandoPor?.uid===i?.uid;default:return!0}}).sort((R,q)=>new Date(q.fechaSolicitud).getTime()-new Date(R.fechaSolicitud).getTime());let w=[];o?w=[{id:"autorizadas",label:"Por Entregar",icon:Np},{id:"finalizadas",label:"Histrico",icon:Mh}]:w=[{id:"nuevas",label:"Nuevas",icon:Mk},{id:"en_revision",label:"Mis Revisiones",icon:qM},{id:"proceso",label:"En Seguimiento",icon:Xc},{id:"autorizadas",label:"Autorizadas",icon:Np},{id:"finalizadas",label:"Histrico",icon:Mh}];const D=R=>{if(o)return R.estado==="autorizada"?f.jsx(Le,{variant:"primary",size:"sm",icon:Np,onClick:()=>s(`/revision/${R.id}`),children:"Gestionar Entrega"}):f.jsx(Le,{variant:"ghost",size:"sm",icon:Ls,onClick:()=>s(`/revision/${R.id}`),children:"Ver Detalle"});const q=R.revisandoPor?.uid===i?.uid;return R.estado==="en_revision"?R.revisandoPor?.uid?q?f.jsx(Le,{variant:"outline",size:"sm",icon:Us,onClick:()=>s(`/revision/${R.id}`),children:"Continuar Revisin"}):f.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 bg-gray-100 px-3 py-1.5 rounded-full border border-gray-200",children:[f.jsx(Hk,{size:12}),f.jsx("span",{className:"truncate max-w-[120px] font-medium",children:R.revisandoPor?.nombre||"Otro Revisor"})]}):f.jsx(Le,{variant:"ghost",size:"sm",icon:Ls,onClick:()=>s(`/revision/${R.id}`),children:"Ver Detalle"}):f.jsx(Le,{variant:"ghost",size:"sm",icon:Ls,onClick:()=>s(`/revision/${R.id}`),children:"Ver Detalle"})};return f.jsxs("div",{className:"space-y-6 pb-20",children:[f.jsx("div",{className:"flex justify-between items-center",children:f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:o?"Despacho de Almacn":"Bandeja de Gestin"}),f.jsx("p",{className:"text-sm text-gray-500",children:o?"Gestin de entregas de material.":"Administracin de solicitudes."})]})}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[f.jsxs("div",{className:"relative flex-1",children:[f.jsx(gw,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),f.jsx("input",{type:"text",placeholder:"Buscar...",className:"w-full pl-10 p-3 bg-white border border-gray-200 rounded-xl outline-none shadow-sm",value:p,onChange:R=>g(R.target.value)})]}),f.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 md:pb-0",children:[f.jsxs("button",{onClick:()=>_("todos"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium border ${y==="todos"?"bg-gray-800 text-white":"bg-white"}`,children:[f.jsx(nk,{size:16})," Todos"]}),f.jsxs("button",{onClick:()=>_("vehicular"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium border ${y==="vehicular"?"bg-blue-600 text-white":"bg-white"}`,children:[f.jsx(IM,{size:16})," Mantenimiento vehicular"]}),f.jsxs("button",{onClick:()=>_("limpieza"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium border ${y==="limpieza"?"bg-emerald-600 text-white":"bg-white"}`,children:[f.jsx(Vk,{size:16})," Material de limpieza"]})]})]}),f.jsx("div",{className:"flex overflow-x-auto border-b border-gray-200 no-scrollbar",children:w.map(R=>{const q=e.filter(k=>R.id==="nuevas"?k.estado==="en_revision"&&(!k.revisandoPor||!k.revisandoPor.uid):R.id==="en_revision"?k.estado==="en_revision"&&k.revisandoPor?.uid===i?.uid:R.id==="proceso"?["cotizacion","suficiencia"].includes(k.estado)&&k.revisandoPor?.uid===i?.uid:R.id==="autorizadas"?o?k.estado==="autorizada"&&cg(k.tipoMaterial,k.subTipoMaterial):k.estado==="autorizada"&&k.revisandoPor?.uid===i?.uid:R.id==="finalizadas"?o?k.estado==="finalizada":k.estado==="finalizada"&&k.revisandoPor?.uid===i?.uid:!1).length;return f.jsxs("button",{onClick:()=>d(R.id),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${c===R.id?"border-brand text-brand":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[f.jsx(R.icon,{size:16}),R.label,q>0&&f.jsx("span",{className:`ml-2 text-xs py-0.5 px-2 rounded-full ${c===R.id?"bg-brand text-white":"bg-gray-100 text-gray-600"}`,children:q})]},R.id)})}),f.jsx("div",{className:"min-h-[300px]",children:x.length===0?f.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-dashed border-gray-300",children:[f.jsx("div",{className:"inline-flex p-4 rounded-full bg-gray-50 mb-4",children:f.jsx(sk,{className:"text-gray-400",size:32})}),f.jsx("p",{className:"text-gray-900 font-medium",children:"No se encontraron solicitudes."})]}):f.jsx("div",{className:"grid gap-4",children:x.map(R=>f.jsxs("div",{className:"group bg-white p-5 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all flex flex-col md:flex-row gap-4 items-start md:items-center",children:[f.jsxs("div",{className:"flex-1 w-full space-y-2",children:[f.jsxs("div",{className:"flex items-center flex-wrap gap-2 text-sm",children:[f.jsx("span",{className:"font-mono font-bold text-[var(--color-brand)] bg-gray-50 px-2 py-0.5 rounded border border-gray-100",children:R.folio}),f.jsx(Sy,{variant:R.estado==="autorizada"?"success":R.estado==="rechazada"?"danger":R.estado==="cotizacion"?"warning":"default",children:R.estado.replace("_"," ")}),f.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1 ml-1",children:[f.jsx(Xc,{size:12}),new Date(R.fechaSolicitud+"T12:00:00").toLocaleDateString()]})]}),f.jsx("div",{children:f.jsx("h3",{className:"text-base font-bold text-gray-900 leading-tight",children:R.organoRequirente})}),f.jsx("div",{children:f.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold bg-gray-100 text-gray-600 border border-gray-200",children:[f.jsx(zk,{size:12}),R.subTipoMaterial||R.tipoMaterial]})}),f.jsx("div",{children:f.jsxs("p",{className:"text-xs text-gray-500 italic line-clamp-2",children:['"',R.justificacion,'"']})})]}),f.jsx("div",{className:"w-full md:w-auto flex justify-end md:border-l md:border-gray-100 md:pl-4 self-stretch items-center",children:D(R)})]},R.id))})})]})}function WE(){const{id:i}=mg(),e=Hr(),{user:n,role:s}=dn(),{requisiciones:o,actualizarLineas:c,actualizarRequisicion:d,obtenerRequisicion:p}=Ga(),{agregarNotificacion:g}=cf(),{toast:y}=Ay(),[_,x]=M.useState(void 0),[w,D]=M.useState(!0),[R,q]=M.useState([]),[k,j]=M.useState(!1),[X,Q]=M.useState(!1),[re,ce]=M.useState(null),[de,N]=M.useState(""),[S,C]=M.useState(!1),[U,V]=M.useState(!1),[B,I]=M.useState(!1),[ot,Ie]=M.useState(!1),[J,ae]=M.useState(!1),[ge,De]=M.useState(""),Ye=M.useRef(null),[P,ee]=M.useState({open:!1,title:"",message:"",action:async()=>{}});if(M.useEffect(()=>{if(!i)return;(async()=>{D(!0);const Ze=o.find(Ue=>Ue.id===i);if(Ze)x(Ze),q(Ze.lineas||[]),D(!1);else{const Ue=await p(i);Ue?(x(Ue),q(Ue.lineas||[])):(y("La solicitud no existe o no tienes acceso.","error"),e("/revision/requisiciones")),D(!1)}})()},[i,o,p,e]),M.useEffect(()=>{if(J){const oe=setTimeout(()=>{Ye.current&&Ye.current.focus()},100);return()=>clearTimeout(oe)}},[J]),w)return f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] animate-pulse",children:[f.jsx("div",{className:"w-10 h-10 border-4 border-[var(--color-brand)]/30 border-t-[var(--color-brand)] rounded-full animate-spin mb-4"}),f.jsx("p",{className:"text-gray-400 font-medium",children:"Cargando detalles..."})]});if(!_)return null;const ue=_?cg(_.tipoMaterial,_.subTipoMaterial):!0,fe=s,Te=fe==="almacen",Ae=fe==="revision"||fe==="admin",Ve=fe==="autorizacion"||fe==="direccion"||fe==="admin",lt=_.estado==="en_revision",nt=_.estado==="cotizacion",pi=_.estado==="suficiencia",gi=_.estado==="autorizada",An=_.estado==="material_entregado",ti=_.estado==="finalizada",yn=["suficiencia","autorizada","material_entregado","finalizada"].includes(_.estado),ji=_.revisandoPor?.uid===n?.uid,yi=!_.revisandoPor?.uid,se=lt&&ji,ve=Ve,be=()=>R.filter(oe=>oe.observacionRevision&&oe.observacionRevision.trim()!==""),je=be(),gt=(oe,Ze="")=>({fecha:new Date().toISOString(),autor:n?.email||n?.titular||"Sistema",accion:oe,comentario:Ze}),vn=()=>{const oe=R.filter(Rn=>(Rn.cantidadAutorizada??0)>0);if(oe.length===0){y("No hay partidas con cantidad autorizada para exportar.","info");return}const Ze="\uFEFF",Ue=`CANT. AUT.,UNIDAD,CONCEPTO,DESCRIPCIN
`,Yt=oe.map(Rn=>{const Nn=dr=>`"${(dr||"").replace(/"/g,'""')}"`;return`${Rn.cantidadAutorizada},${Nn(Rn.unidad)},${Nn(Rn.concepto)},${Nn(Rn.descripcion)}`}).join(`
`),_n=new Blob([Ze+Ue+Yt],{type:"text/csv;charset=utf-8;"}),hn=URL.createObjectURL(_n),vi=document.createElement("a");vi.href=hn,vi.setAttribute("download",`Cotizacion_${_.folio}.csv`),document.body.appendChild(vi),vi.click(),document.body.removeChild(vi)},Ln=(oe,Ze,Ue)=>{ee({open:!0,title:oe,message:Ze,action:Ue})},Gt=async()=>{ee(oe=>({...oe,open:!1})),j(!0);try{await P.action()}catch(oe){console.error(oe),y("Ocurri un error en la operacin.","error")}finally{j(!1)}},ur=async()=>{if(n){C(!1),j(!0);try{await d(_.id,{revisandoPor:{uid:n.uid,nombre:n.titular||n.email,email:n.email,fechaInicio:new Date().toISOString()}}),await g({targetUid:_.creadoPor.uid,reqId:_.id,folio:_.folio,tipo:"info",mensaje:`Su solicitud con folio ${_.folio} ha sido asignada a un analista tcnico. Se ha iniciado el proceso de revisin.`}),y("Solicitud asignada correctamente.","success")}catch{y("Error al asignar.","error")}finally{j(!1)}}},Zs=async()=>{j(!0);try{await c(_.id,R),y("Cambios guardados.","success")}catch{y("Error al guardar.","error")}finally{j(!1)}},ea=async()=>{const oe=gt("Turnado a Cotizacin","Validacin tcnica completada. Se procede a cotizar.");await d(_.id,{estado:"cotizacion",lineas:R,historialObservaciones:[..._.historialObservaciones||[],oe]}),await g({targetUid:_.creadoPor.uid,reqId:_.id,folio:_.folio,tipo:"info",mensaje:`La solicitud ${_.folio} ha avanzado a la etapa de Cotizacin. Por favor, mantente atento a cualquier indicacin.`}),y("Enviado a Cotizacin.","success")},Mi=async()=>{const oe=gt("Suficiencia Presupuestal","Turnado para Validacin Presupuestal.");await d(_.id,{estado:"suficiencia",historialObservaciones:[..._.historialObservaciones||[],oe]}),await g({targetUid:_.creadoPor.uid,reqId:_.id,folio:_.folio,tipo:"info",mensaje:`La solicitud ${_.folio} cuenta con cotizacin validada y est lista para solicitar Suficiencia Presupuestal para dictamen financiero. IMPORTANTE: Descargue el formato, imprmalo y entrguelo firmado en la Direccin de Adquisiciones.`}),y("Turnado a suficiencia.","success")},gl=async()=>{const oe=gt("Devolucin a Revisin","Se requiere ajustar especificaciones tcnicas.");await d(_.id,{estado:"en_revision",historialObservaciones:[..._.historialObservaciones||[],oe]}),await g({targetUid:_.creadoPor.uid,reqId:_.id,folio:_.folio,tipo:"info",mensaje:`La solicitud ${_.folio} ha sido devuelta a la etapa de Revisin Tcnica para ajustes en la cotizacin o especificaciones. Por favor, mantente atento a cualquier indicacin.`}),y("Devuelto a Revisin.","info")},$a=async()=>{const oe=gt("Rechazo Presupuestal","Devuelto a Revisin para ajuste de partidas por insuficiencia.");await d(_.id,{estado:"en_revision",historialObservaciones:[..._.historialObservaciones||[],oe]}),await g({targetUid:_.creadoPor.uid,reqId:_.id,folio:_.folio,tipo:"error",mensaje:`La solicitud ${_.folio} ha sido devuelta a la etapa de Revisin por ajustes presupuestales. Por favor, mantente atento a cualquier indicacin.`}),y("Devuelto a Revisin por Presupuesto.","info")},Ya=async()=>{const Ze=be().length>0,Ue=de.trim().length>0;if(!Ze&&!Ue){y("Si no hay observaciones por partida, debes indicar una instruccin general.","error");return}j(!0);try{const Yt=re==="rechazar"?"rechazada":"borrador";let _n="";Ze&&(_n=`
DETALLE TCNICO:
`+je.map(Rn=>`- ${Rn.concepto}: ${Rn.observacionRevision}`).join(`
`));const hn=`${de}
${_n}`.trim(),vi=gt(re==="rechazar"?"No Procedente":"Solicitud de Ajustes",hn);await d(_.id,{estado:Yt,revisionNotas:hn,historialObservaciones:[..._.historialObservaciones||[],vi],lineas:R}),re==="rechazar"?await g({targetUid:_.creadoPor.uid,reqId:_.id,folio:_.folio,tipo:"error",mensaje:`La solicitud ${_.folio} ha sido RECHAZADA por no cumplir con los criterios establecidos. Favor de revisar el motivo en el sistema.`}):await g({targetUid:_.creadoPor.uid,reqId:_.id,folio:_.folio,tipo:"info",mensaje:`Se han detectado observaciones en la solicitud ${_.folio}. Favor de ingresar al sistema para realizar los ajustes indicados.`}),y("Procesado correctamente.","info"),Q(!1),e("/revision/requisiciones")}catch{y("Error al procesar.","error")}finally{j(!1)}},Qa=()=>{ce("rechazar"),N(""),Q(!0)},Un=()=>{ce("corregir"),N(""),Q(!0)},$t=()=>{De(""),ae(!0)},Sn=async()=>{if(!ge.trim())return y("Ingresa el proveedor","error");j(!0);try{const oe=gt("Solicitud Aprobada",`Adjudicado a: ${ge}`);await d(_.id,{estado:"autorizada",proveedor:ge,historialObservaciones:[..._.historialObservaciones||[],oe]}),ue&&await g({reqId:_.id,folio:_.folio,mensaje:`Entrega Autorizada (${_.area}).`,tipo:"success",targetRole:"almacen"}),await g({targetUid:_.creadoPor.uid,reqId:_.id,folio:_.folio,tipo:"success",mensaje:`La solicitud ${_.folio} ha sido AUTORIZADA. Favor de contactar a la Direccin de Adquisiciones y Servicios para coordinar la entrega o ejecucin.`}),y("Autorizada correctamente.","success"),ae(!1)}catch(oe){console.error(oe)}finally{j(!1)}},Tt=async()=>{I(!1),j(!0);try{const oe=gt("Entrega en Almacn","Entrega de Bienes Concluida.");await d(_.id,{estado:"finalizada",historialObservaciones:[..._.historialObservaciones||[],oe]}),await g({targetUid:_.creadoPor.uid,reqId:_.id,folio:_.folio,tipo:"success",mensaje:`Se ha registrado la entrega fsica de los bienes correspondientes a la solicitud ${_.folio}. El trmite ha concluido exitosamente.`}),y("Entrega registrada.","success"),e("/revision/requisiciones")}catch(oe){console.error(oe)}finally{j(!1)}},Ka=async()=>{Ie(!1),j(!0);try{const oe=gt("Servicio/Intangible Entregado","Concluido satisfactoriamente.");await d(_.id,{estado:"finalizada",historialObservaciones:[..._.historialObservaciones||[],oe]}),await g({targetUid:_.creadoPor.uid,reqId:_.id,folio:_.folio,tipo:"success",mensaje:`El servicio de la solicitud ${_.folio} ha sido marcado como CONCLUIDO y recibido a satisfaccin.`}),y("Proceso finalizado.","success"),e("/revision/requisiciones")}catch(oe){console.error(oe)}finally{j(!1)}},$r=async()=>{const oe=gt("Cierre Administrativo","Expediente archivado.");await d(_.id,{estado:"finalizada",historialObservaciones:[..._.historialObservaciones||[],oe]}),y("Proceso finalizado.","success"),e("/revision/requisiciones")},ta=(oe,Ze,Ue)=>{const Yt=[...R];Yt[oe]={...Yt[oe],[Ze]:Ue},q(Yt)};return f.jsxs("div",{className:"pb-20",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3 group",children:[f.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-slate-400 hover:text-[var(--color-brand)] transition-colors py-2",title:"Volver a la bandeja",children:[f.jsx("div",{className:"p-2 rounded-full border border-slate-200 bg-white group-hover:border-[var(--color-brand)]/30 group-hover:bg-[var(--color-brand)]/5 transition-all shadow-sm",children:f.jsx(cw,{size:18,className:"transition-transform group-hover:-translate-x-0.5"})}),f.jsx("div",{className:"hidden sm:block text-xs font-bold uppercase tracking-wider text-slate-500 group-hover:text-[var(--color-brand)] transition-colors",children:"SALIR"})]}),f.jsx("div",{className:"h-8 w-px bg-gray-200 mx-1"}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[_.folio,f.jsx(Sy,{variant:_.estado==="autorizada"?"success":_.estado==="rechazada"?"danger":"default",children:_.estado.replace("_"," ")})]}),f.jsxs("p",{className:"text-sm text-gray-500 font-medium",children:["Solicitado el ",new Date(_.fechaSolicitud).toLocaleDateString()]})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsx(Le,{variant:"ghost",size:"sm",icon:KE,onClick:()=>V(!0),children:"Historial"}),!Te&&f.jsxs(f.Fragment,{children:[nt&&Ae&&f.jsxs(f.Fragment,{children:[f.jsx(Le,{variant:"outline",size:"sm",icon:YM,onClick:vn,children:"CSV"}),f.jsx(Le,{variant:"outline",size:"sm",icon:Vc,onClick:()=>window.open(`#/requisiciones/${_.id}/cotizacion`,"_blank"),children:"Cotizacin"})]}),yn&&f.jsx(Le,{variant:"outline",size:"sm",icon:Vc,onClick:()=>window.open(`#/requisiciones/${_.id}/print`,"_blank"),children:"Formato"})]}),Te&&yn&&f.jsx(Le,{variant:"outline",size:"sm",icon:Vc,onClick:()=>window.open(`#/requisiciones/${_.id}/print`,"_blank"),children:"Formato"})]})]}),_.estado==="rechazada"&&_.revisionNotas&&f.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded-r-lg shadow-sm animate-fade-in-up",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(Da,{className:"text-red-600 mt-0.5 shrink-0",size:24}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-red-800 text-lg",children:"Solicitud No Procedente"}),f.jsx("div",{className:"text-red-700 text-sm mt-2 whitespace-pre-wrap leading-relaxed border-t border-red-200 pt-2",children:_.revisionNotas})]})]})}),f.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6",children:f.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase block",children:"rgano Requirente"}),f.jsx("p",{className:"font-medium text-gray-900",children:_.organoRequirente})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase block",children:"rea Solicitante"}),f.jsx("p",{className:"font-medium text-gray-900",children:_.area})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase block mb-1",children:"Categora del Gasto"}),f.jsx("div",{className:"inline-block p-2 bg-gray-50 border border-gray-200 rounded-lg text-sm font-bold text-gray-800",children:_.subTipoMaterial||_.tipoMaterial})]}),f.jsxs("div",{className:"md:col-span-2 space-y-1",children:[f.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase block",children:"Justificacin"}),f.jsx("div",{className:"p-3 bg-gray-50 rounded-lg text-sm text-gray-700 italic border border-gray-100",children:_.justificacion})]}),_.adjuntos&&_.adjuntos.length>0&&f.jsxs("div",{className:"md:col-span-2 space-y-1",children:[f.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase block flex items-center gap-2",children:[f.jsx(pw,{size:14})," Evidencias Adjuntas"]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:_.adjuntos.map((oe,Ze)=>f.jsxs("a",{href:oe.url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 px-3 py-2 bg-blue-50 text-blue-700 rounded-lg text-sm font-medium border border-blue-100",children:[f.jsx(Us,{size:16}),oe.nombre]},Ze))})]}),f.jsx("div",{className:"space-y-1 border-t border-gray-100 pt-4 md:col-span-2",children:f.jsxs("div",{className:"flex gap-8",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase block",children:"Responsable"}),f.jsx("p",{className:"font-medium text-gray-900",children:_.responsableNombre})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase block",children:"Contacto"}),f.jsxs("div",{className:"flex items-center gap-1 text-gray-900 font-medium",children:[f.jsx(wk,{size:14,className:"text-gray-400"}),_.responsableTelefono]})]})]})}),_.proveedor&&f.jsxs("div",{className:"md:col-span-2 border-t border-gray-100 pt-4",children:[f.jsx("label",{className:"text-xs font-bold text-blue-600 uppercase block",children:"Proveedor"}),f.jsx("p",{className:"font-medium text-gray-900",children:_.proveedor})]})]})}),f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6",children:[f.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200 flex justify-between items-center",children:[f.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[f.jsx(dk,{size:18,className:"text-[var(--color-brand)]"}),"Detalle de Material o Servicio"]}),!se&&f.jsx("span",{className:"text-xs bg-gray-200 text-gray-600 px-2 py-1 rounded",children:"Lectura"})]}),f.jsxs("div",{className:"hidden md:grid md:grid-cols-12 gap-2 px-6 py-3 bg-gray-50/50 border-b border-gray-100 text-xs font-bold text-gray-500 uppercase tracking-wider",children:[f.jsx("div",{className:"col-span-1 text-center",children:"Cant."}),f.jsx("div",{className:"col-span-1",children:"Unidad"}),f.jsx("div",{className:"col-span-3",children:"Concepto"}),f.jsx("div",{className:"col-span-4",children:"Descripcin"}),f.jsx("div",{className:"col-span-1 text-center",children:"Autorizada"}),f.jsx("div",{className:"col-span-2 text-center",children:"Observaciones"})]}),f.jsx("div",{className:"divide-y divide-gray-100",children:R.map((oe,Ze)=>f.jsxs("div",{className:"flex flex-col md:grid md:grid-cols-12 gap-2 p-4 md:px-6 md:py-4 md:items-start text-sm hover:bg-gray-50 transition-colors",children:[f.jsxs("div",{className:"md:col-span-1 md:text-center flex justify-between md:block",children:[f.jsx("span",{className:"md:hidden text-xs font-bold text-gray-400",children:"CANTIDAD:"}),f.jsx("span",{className:"font-bold text-gray-800",children:oe.cantidad})]}),f.jsxs("div",{className:"md:col-span-1 flex justify-between md:block",children:[f.jsx("span",{className:"md:hidden text-xs font-bold text-gray-400",children:"UNIDAD:"}),f.jsx("span",{className:"text-gray-500 uppercase text-xs",children:oe.unidad})]}),f.jsxs("div",{className:"md:col-span-3",children:[f.jsx("span",{className:"md:hidden text-xs font-bold text-gray-400 block mb-1",children:"CONCEPTO:"}),f.jsx("p",{className:"font-medium text-gray-900",children:oe.concepto})]}),f.jsxs("div",{className:"md:col-span-4 text-gray-600 text-xs leading-relaxed",children:[f.jsx("span",{className:"md:hidden text-xs font-bold text-gray-400 block mb-1",children:"DESCRIPCIN:"}),oe.descripcion]}),f.jsxs("div",{className:"md:col-span-1 flex justify-between md:block md:text-center bg-yellow-50/30 -mx-4 md:mx-0 px-4 md:px-0 py-2 md:py-0",children:[f.jsx("span",{className:"md:hidden text-xs font-bold text-gray-400 self-center",children:"AUTORIZADA:"}),se?f.jsx("input",{type:"number",min:"0",className:`w-full text-center border rounded outline-none p-1 font-bold 
                                    ${oe.cantidadAutorizada===0?"border-red-500 bg-red-100 text-red-600 focus:ring-red-400":"border-yellow-200 bg-yellow-50 text-gray-800 focus:ring-1 focus:ring-yellow-400"}`,value:oe.cantidadAutorizada??oe.cantidad,onChange:Ue=>ta(Ze,"cantidadAutorizada",parseInt(Ue.target.value)||0)}):f.jsx("span",{className:`font-bold ${oe.cantidadAutorizada===0?"text-red-600":"text-gray-900"}`,children:oe.cantidadAutorizada??"-"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("span",{className:"md:hidden text-xs font-bold text-gray-400 block mb-1",children:"OBSERVACIONES:"}),se?f.jsx("textarea",{className:"w-full border border-gray-200 rounded px-2 py-1 text-xs resize-y",placeholder:"Observacin...",rows:1,value:oe.observacionRevision||"",onChange:Ue=>ta(Ze,"observacionRevision",Ue.target.value)}):oe.observacionRevision&&f.jsx("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded border border-red-100",children:oe.observacionRevision})]})]},oe.id))})]}),f.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t border-gray-200 flex justify-end gap-3 z-40 md:static md:bg-transparent md:border-0 md:p-0",children:[!Te&&f.jsxs(f.Fragment,{children:[lt&&yi&&Ae&&f.jsx(Le,{variant:"primary",icon:Sk,onClick:()=>C(!0),loading:k,children:"Tomar Revisin"}),lt&&ji&&f.jsxs(f.Fragment,{children:[f.jsx(Le,{variant:"danger",icon:LM,onClick:Qa,children:"Rechazar"}),f.jsx(Le,{variant:"secondary",icon:Da,onClick:Un,children:"Correccin"}),f.jsx(Le,{variant:"outline",icon:wy,onClick:Zs,loading:k,children:"Guardar"}),f.jsx(Le,{variant:"primary",icon:yw,onClick:()=>Ln("Avanzar a Cotizacin","Ests seguro de finalizar la revisin tcnica y enviar a cotizacin? Asegrate de haber guardado los cambios.",ea),loading:k,children:"A Cotizacin"})]}),nt&&(Ae||Ve)&&f.jsxs(f.Fragment,{children:[f.jsx(Le,{variant:"secondary",icon:JE,onClick:()=>Ln("Regresar a Revisin","Esta accin devolver la solicitud a la etapa de Revisin Tcnica para realizar ajustes.",gl),children:"Regresar a Revisin"}),f.jsx(Le,{variant:"primary",icon:GM,onClick:()=>Ln("Enviar a Suficiencia","Se enviar el expediente para validacin presupuestal. Confirmar envo?",Mi),children:"A Suficiencia"})]}),pi&&f.jsxs(f.Fragment,{children:[(Ae||Ve)&&f.jsx(Le,{variant:"secondary",icon:JE,onClick:()=>Ln("Devolver a Revisin","La solicitud ser devuelta a la etapa de Revisin para ajuste de partidas por temas presupuestales.",$a),children:"Regresar a Revisin"}),(Ae||ve)&&f.jsx(Le,{variant:"primary",icon:oh,onClick:$t,children:"Autorizar"})]}),gi&&f.jsx(f.Fragment,{children:ue?f.jsxs("div",{className:"flex items-center gap-2 text-blue-600 bg-blue-50 px-4 py-2 rounded-lg",children:[f.jsx(XE,{size:18}),f.jsx("span",{className:"font-bold text-sm",children:"Esperando entrega en Almacn"})]}):(Ae||Ve)&&f.jsx(Le,{variant:"primary",icon:oh,className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>Ie(!0),children:"Finalizar Servicio/Entrega"})})]}),Te&&f.jsx(f.Fragment,{children:gi&&ue?f.jsx(Le,{variant:"primary",icon:XE,onClick:()=>I(!0),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Confirmar Entrega"}):ti?null:f.jsx("span",{className:"text-gray-400 italic text-sm",children:"Espera autorizacin o no requiere entrega fsica..."})}),ti&&f.jsxs("span",{className:"text-green-600 font-bold flex items-center gap-2",children:[f.jsx($E,{size:16})," Finalizado"]}),Ae&&An&&f.jsx(Le,{variant:"primary",icon:$E,onClick:$r,children:"Finalizar Proceso"})]}),f.jsx(Or,{isOpen:P.open,onClose:()=>ee(oe=>({...oe,open:!1})),onConfirm:Gt,title:P.title,message:P.message,type:"info"}),f.jsx(Or,{isOpen:B,onClose:()=>I(!1),onConfirm:Tt,title:"Confirmar Entrega",message:"Confirmo que he entregado los bienes o servicios. Esta accin registrar la salida definitiva.",type:"info"}),f.jsx(Or,{isOpen:ot,onClose:()=>Ie(!1),onConfirm:Ka,title:"Confirmar Finalizacin",message:"Confirmo que el servicio ha sido recibido satisfactoriamente.",type:"info"}),f.jsx(Or,{isOpen:X,onClose:()=>Q(!1),onConfirm:Ya,title:re==="rechazar"?"Dictaminar No Procedencia":"Solicitar Ajustes",type:"warning",children:f.jsxs("div",{className:"space-y-4 text-sm text-gray-700",children:[f.jsx("p",{className:"font-medium",children:re==="rechazar"?"Se notificar que la solicitud no procede por los siguientes motivos:":"Se devolver la solicitud al usuario para subsanar lo siguiente:"}),je.length>0&&f.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg overflow-hidden",children:[f.jsxs("div",{className:"px-3 py-2 bg-amber-100/50 border-b border-amber-200 flex items-center gap-2",children:[f.jsx(Da,{size:14,className:"text-amber-700"}),f.jsx("span",{className:"text-xs font-bold text-amber-800 uppercase",children:"Observaciones Tcnicas"})]}),f.jsx("ul",{className:"divide-y divide-amber-200/50 max-h-40 overflow-y-auto",children:je.map((oe,Ze)=>f.jsxs("li",{className:"p-3 text-xs",children:[f.jsxs("span",{className:"font-bold text-gray-900",children:[oe.concepto,":"]}),f.jsx("span",{className:"ml-1 text-gray-600 italic",children:oe.observacionRevision})]},Ze))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase block mb-1",children:"Dictamen General / Instrucciones"}),f.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-[var(--color-brand)]/20 outline-none resize-y min-h-[80px]",placeholder:je.length>0?"Opcional: Comentarios adicionales...":"Requerido: Describe el motivo del ajuste...",value:de,onChange:oe=>N(oe.target.value)})]})]})}),f.jsx(Or,{isOpen:S,onClose:()=>C(!1),onConfirm:ur,title:"Tomar Revisin",message:"Al confirmar, te asignars esta solicitud para su revisin tcnica.",type:"info"}),J&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-scale-in",children:f.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl p-6 shadow-2xl",children:[f.jsxs("h3",{className:"text-xl font-bold mb-2 flex items-center gap-2 text-gray-900",children:[f.jsx(oh,{className:"text-green-600"})," Autorizar Adquisicin"]}),f.jsxs("p",{className:"text-sm text-gray-500 mb-4 leading-relaxed",children:["Para finalizar la autorizacin, ingrese el nombre del ",f.jsx("strong",{children:"proveedor adjudicado"}),"."]}),f.jsx("input",{ref:Ye,className:"w-full border border-gray-300 p-3 rounded-lg mb-4 outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all",placeholder:"Ej. Papelera El Centro S.A. de C.V.",value:ge,onChange:oe=>De(oe.target.value)}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(Le,{variant:"ghost",onClick:()=>ae(!1),children:"Cancelar"}),f.jsx(Le,{variant:"primary",onClick:Sn,loading:k,children:"Confirmar y Autorizar"})]})]})}),U&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:f.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[80vh] animate-scale-in",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[f.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[f.jsx(KE,{size:20,className:"text-[var(--color-brand)]"}),"Bitcora de Movimientos"]}),f.jsx("button",{onClick:()=>V(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition-colors",children:f.jsx(Ws,{size:20})})]}),f.jsx("div",{className:"p-6 overflow-y-auto",children:_.historialObservaciones?.length?f.jsx("div",{className:"space-y-6 relative before:absolute before:inset-0 before:ml-2.5 before:-translate-x-px md:before:mx-auto md:before:translate-x-0 before:h-full before:w-0.5 before:bg-gradient-to-b before:from-transparent before:via-gray-200 before:to-transparent",children:_.historialObservaciones.map((oe,Ze)=>f.jsxs("div",{className:"relative pl-8",children:[f.jsx("div",{className:"absolute left-0 top-1 h-5 w-5 rounded-full border-4 border-white bg-[var(--color-brand)] shadow-sm"}),f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-baseline sm:justify-between",children:[f.jsx("p",{className:"font-bold text-gray-900",children:oe.accion}),f.jsx("span",{className:"text-xs text-gray-400 font-mono",children:new Date(oe.fecha).toLocaleString()})]}),f.jsx("p",{className:"text-xs text-[var(--color-brand)] font-medium mt-0.5 lowercase tracking-wide",children:oe.autor}),oe.comentario&&f.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg text-sm text-gray-600 italic border border-gray-100 whitespace-pre-wrap",children:oe.comentario})]},Ze))}):f.jsx("p",{className:"text-center text-gray-500 italic py-8",children:"Sin registros en bitcora."})})]})})]})}function n6(){const{user:i,role:e}=dn(),n=Hr(),{notificaciones:s,limpiarTodas:o,eliminarNotificacion:c,marcarTodasLeidas:d,marcarLeida:p}=cf(),{requisiciones:g}=Ga();if(!i)return f.jsx("div",{className:"text-sm p-4",children:"Debes iniciar sesin."});const y=x=>{const D=g.find(R=>R.id===x.reqId)?.estado;return e==="solicitud"?D==="borrador"?{label:"Corregir ahora",url:`/nueva?edit=${x.reqId}`,priority:!0,icon:f.jsx(sl,{size:14})}:D==="rechazada"?{label:"Ver motivo",url:`/requisiciones/${x.reqId}`,priority:!0,icon:f.jsx(Ls,{size:14})}:{label:"Ver estado",url:`/requisiciones/${x.reqId}`,priority:!1,icon:f.jsx(Us,{size:14})}:e==="revision"?{label:"Gestionar",url:`/requisiciones/${x.reqId}`,priority:!0,icon:f.jsx(Us,{size:14})}:{label:"Ver detalle",url:`/requisiciones/${x.reqId}`,priority:!1,icon:f.jsx(Us,{size:14})}},_=async(x,w,D)=>{x.preventDefault(),await p(w),n(D)};return f.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-12",children:[f.jsxs("header",{className:"flex items-center justify-between pb-4 border-b border-gray-100",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[f.jsx(YE,{className:"text-[var(--color-brand)]"}),"Bandeja de Entrada"]}),f.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Avisos y actualizaciones de tus trmites"})]}),s.length>0&&f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>d(),className:"flex items-center gap-1 text-xs font-medium text-[var(--color-brand)] hover:bg-blue-50 px-3 py-1.5 rounded-lg transition-colors border border-transparent hover:border-blue-100",children:[f.jsx(oh,{size:14})," Marcar ledas"]}),f.jsxs("button",{onClick:()=>o(),className:"flex items-center gap-1 text-xs font-medium text-red-600 hover:bg-red-50 px-3 py-1.5 rounded-lg transition-colors border border-transparent hover:border-red-100",children:[f.jsx(Ua,{size:14})," Limpiar todo"]})]})]}),s.length===0?f.jsxs("div",{className:"bg-white rounded-xl p-12 text-center border border-gray-200 shadow-sm",children:[f.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(YE,{className:"text-gray-300",size:32})}),f.jsx("p",{className:"text-gray-900 font-medium",children:"Ests al da"}),f.jsx("p",{className:"text-sm text-gray-500",children:"No tienes notificaciones pendientes."})]}):f.jsx("ul",{className:"space-y-3",children:s.map(x=>{const w=y(x);return f.jsx("li",{className:`group relative bg-white rounded-xl shadow-sm p-5 border transition-all duration-200 hover:shadow-md ${x.leida?"border-gray-200":"border-l-4 border-l-[var(--color-brand)] bg-blue-50/10"}`,children:f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[f.jsxs("div",{className:"flex-1 pr-0 sm:pr-8",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.folio&&f.jsx("span",{className:"font-mono text-[10px] font-bold text-gray-600 bg-gray-100 px-1.5 py-0.5 rounded",children:x.folio}),f.jsx("span",{className:"text-[10px] text-gray-400 uppercase tracking-wide",children:x.createdAt?.seconds?new Date(x.createdAt.seconds*1e3).toLocaleDateString():"Hoy"}),!x.leida&&f.jsx("span",{className:"bg-blue-600 text-white px-1.5 py-0.5 rounded text-[9px] font-bold shadow-sm animate-pulse",children:"NUEVA"})]}),f.jsx("div",{className:"font-medium text-gray-800 text-sm leading-relaxed",children:x.mensaje})]}),f.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto mt-3 sm:mt-0 justify-end",children:[x.reqId&&f.jsxs("a",{href:w.url,onClick:D=>_(D,x.id,w.url),className:`flex items-center gap-1.5 shrink-0 text-center px-4 py-2 rounded-lg text-xs font-bold transition-all shadow-sm
                                ${w.priority?"bg-[var(--color-brand)] text-white hover:brightness-90 hover:shadow":"bg-white border border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[w.icon,w.label]}),f.jsx("button",{onClick:D=>{D.stopPropagation(),c(x.id)},className:"text-gray-300 hover:text-red-500 hover:bg-red-50 p-2 rounded-lg transition-colors",title:"Eliminar",children:f.jsx(Ua,{size:16})})]})]})},x.id)})})]})}function ZE(i){const e=i?.code||i?.name||"",n=String(i?.message||"");return e==="auth/email-already-in-use"?"Ese correo ya existe. Usa otro correo.":e==="auth/invalid-email"?"Correo invlido.":e==="auth/weak-password"?"Contrasea dbil. Usa al menos 6 caracteres.":e==="auth/operation-not-allowed"?"Email/Password no est habilitado en Firebase Auth (Authentication > Sign-in method).":e==="permission-denied"||n.includes("Missing or insufficient permissions")?"Sin permisos para crear usuarios. Revisa/implementa tus Firestore Rules y despliega reglas.":n||"No se pudo completar la operacin. Revisa consola y reglas."}function i6(){const{user:i,allUsers:e,createUser:n,updateUser:s,deleteUser:o,loading:c,error:d}=dn(),[p,g]=M.useState(null);if(i?.role!=="admin")return f.jsx(bw,{});const y=async()=>{if(!p||!p.email||!p.role||!p.organo){alert("Complete campos");return}if(!p.uid&&!p.password){alert("La contrasea es requerida para crear el usuario.");return}try{p.uid?(await s(p.uid,{email:p.email.trim(),role:p.role,organo:p.organo,titular:p.titular??""}),g(null),alert("Usuario actualizado.")):(await n({email:p.email.trim(),password:String(p.password||""),role:p.role,organo:p.organo,titular:p.titular??""}),g(null),alert("Usuario creado."))}catch(x){console.error(x),alert(ZE(x))}},_=async x=>{if(window.confirm(`Eliminar el perfil de ${x.email}?`))try{await o(x.uid),alert("Usuario eliminado.")}catch(w){console.error(w),alert(ZE(w))}};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-xl font-bold",children:"Administracin de Usuarios"}),f.jsx("button",{onClick:()=>g({role:"solicitud",organo:Cp[0]}),className:"bg-brand text-white px-4 py-2 rounded shadow",disabled:c,children:"+ Nuevo Usuario"})]}),(d||"")&&f.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-800 text-sm rounded p-3",children:d}),p?f.jsxs("div",{className:"bg-white p-6 rounded shadow border max-w-lg mx-auto space-y-4",children:[f.jsxs("h3",{className:"font-bold",children:[p.uid?"Editar":"Crear"," Usuario"]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold",children:"Correo"}),f.jsx("input",{type:"email",className:"w-full border p-2 rounded",value:p.email||"",onChange:x=>g({...p,email:x.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold",children:"Contrasea"}),f.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:p.password||"",onChange:x=>g({...p,password:x.target.value}),placeholder:"Requerido"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold",children:"rgano Requirente"}),f.jsx("select",{className:"w-full border p-2 rounded",value:p.organo||Cp[0],onChange:x=>g({...p,organo:x.target.value}),children:Cp.map(x=>f.jsx("option",{children:x},x))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold",children:"Nombre del Titular"}),f.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:p.titular||"",onChange:x=>g({...p,titular:x.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold",children:"Rol"}),f.jsxs("select",{className:"w-full border p-2 rounded",value:p.role||"solicitud",onChange:x=>g({...p,role:x.target.value}),children:[f.jsx("option",{value:"solicitud",children:"Solicitante"}),f.jsx("option",{value:"revision",children:"Revisin"}),f.jsx("option",{value:"direccion",children:"Direccin"}),f.jsx("option",{value:"autorizacion",children:"Autorizacin"}),f.jsx("option",{value:"admin",children:"Admin"}),f.jsx("option",{value:"almacen",children:"Almacn"})]})]}),f.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[f.jsx("button",{onClick:()=>g(null),className:"px-3 py-1 border rounded",disabled:c,children:"Cancelar"}),f.jsx("button",{onClick:y,className:"px-3 py-1 bg-brand text-white rounded",disabled:c,children:c?"Guardando...":"Guardar"})]})]}):f.jsx("div",{className:"bg-white rounded shadow overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm",children:[f.jsx("thead",{className:"bg-gray-50 text-left",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-3",children:"Usuario / Correo"}),f.jsx("th",{className:"p-3",children:"rgano / Titular"}),f.jsx("th",{className:"p-3",children:"Rol"}),f.jsx("th",{className:"p-3 text-right",children:"Acciones"})]})}),f.jsxs("tbody",{className:"divide-y",children:[e.map(x=>f.jsxs("tr",{children:[f.jsx("td",{className:"p-3 font-mono",children:x.email}),f.jsxs("td",{className:"p-3",children:[f.jsx("div",{className:"font-bold",children:x.organo}),f.jsx("div",{className:"text-gray-500",children:x.titular})]}),f.jsx("td",{className:"p-3",children:f.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs uppercase",children:x.role})}),f.jsxs("td",{className:"p-3 text-right space-x-2",children:[f.jsx("button",{onClick:()=>g(x),className:"text-blue-600 hover:underline",children:"Editar"}),f.jsx("button",{onClick:()=>_(x),className:"text-red-600 hover:underline",children:"Eliminar"})]})]},x.uid)),e.length===0&&f.jsx("tr",{children:f.jsx("td",{className:"p-3 text-gray-500",colSpan:4,children:"No hay usuarios cargados."})})]})]})})]})}function r6(){const{id:i}=mg(),{requisiciones:e}=Ga(),{role:n}=dn(),s=e.find(p=>p.id===i);if(M.useEffect(()=>{s&&setTimeout(()=>window.print(),800)},[s]),!s)return f.jsx("div",{className:"p-8 text-center font-bold",children:"Preparando formato oficial..."});const o=n==="almacen",c=o?s.lineas.filter(p=>(p.cantidadAutorizada??0)>0):s.lineas,d=p=>{if(!p)return"SIN FECHA";const[g,y,_]=p.split("-");return new Date(parseInt(g),parseInt(y)-1,parseInt(_)).toLocaleDateString("es-MX",{year:"numeric",month:"2-digit",day:"2-digit"})};return f.jsxs("div",{className:"bg-white text-black min-h-screen w-full max-w-[21.59cm] mx-auto p-8 print:p-0 print:m-0 font-sans text-xs",children:[f.jsxs("div",{className:"print:hidden fixed top-4 right-4 z-50 flex flex-col gap-2",children:[f.jsxs("button",{onClick:()=>window.close(),className:"bg-white text-gray-700 border border-gray-300 px-5 py-3 rounded-full shadow-lg flex items-center gap-2 font-bold hover:bg-gray-50 transition-all",children:[f.jsx(Ws,{size:18})," Cerrar"]}),f.jsxs("button",{onClick:()=>window.print(),className:"bg-gray-900 text-white px-5 py-3 rounded-full shadow-xl flex items-center gap-2 font-bold hover:scale-105 transition-transform",children:[f.jsx(Vc,{size:18})," Imprimir"]})]}),f.jsxs("header",{className:"flex justify-between items-start mb-6 border-b-2 border-black pb-2",children:[f.jsx("div",{className:"w-1/5",children:f.jsx("img",{src:"/logo-tapachula.jpeg",alt:"Logo",className:"h-20 object-contain"})}),f.jsxs("div",{className:"flex-1 text-center pt-4",children:[f.jsx("h3",{className:"text-xl font-bold uppercase mt-2",children:"H. Ayuntamiento de Tapachula"}),f.jsx("h4",{className:"text-sm font-bold uppercase",children:"Oficiala Mayor"}),f.jsx("div",{className:"mt-2 bg-black text-white px-4 py-1 inline-block font-bold text-sm uppercase rounded-sm",children:o?"Orden de Surtido de Materiales":"Requisicin de Materiales y Servicios"})]}),f.jsx("div",{className:"w-1/5 flex justify-end",children:f.jsx("img",{src:"/oficialia.jpeg",alt:"Oficiala",className:"h-20 object-contain"})})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[f.jsxs("div",{className:"col-span-2 space-y-2 border border-black p-2",children:[f.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[f.jsx("span",{className:"font-bold uppercase text-right",children:"rgano Requirente:"}),f.jsx("span",{className:"col-span-2 border-b border-gray-400 uppercase",children:s.organoRequirente})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[f.jsx("span",{className:"font-bold uppercase text-right",children:"rea:"}),f.jsx("span",{className:"col-span-2 border-b border-gray-400 uppercase",children:s.area})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[f.jsx("span",{className:"font-bold uppercase text-right",children:"Tipo de Material:"}),f.jsx("span",{className:"col-span-2 border-b border-gray-400 uppercase text-[10px] leading-tight",children:s.subTipoMaterial||s.tipoMaterial})]}),o&&s.proveedor&&f.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[f.jsx("span",{className:"font-bold uppercase text-right",children:"Proveedor:"}),f.jsx("span",{className:"col-span-2 border-b border-gray-400 uppercase font-bold",children:s.proveedor})]})]}),f.jsxs("div",{className:"col-span-1 space-y-4",children:[f.jsxs("div",{className:"border border-black p-2 text-center",children:[f.jsx("p",{className:"font-bold uppercase text-[10px] mb-1",children:"Fecha de Solicitud"}),f.jsx("p",{className:"font-mono text-sm font-bold",children:d(s.fechaSolicitud)})]}),f.jsxs("div",{className:"border border-black p-2 text-center bg-gray-100",children:[f.jsx("p",{className:"font-bold uppercase text-[10px] mb-1",children:"Folio"}),f.jsx("p",{className:"font-mono text-sm font-bold text-red-600",children:s.folio})]})]})]}),f.jsx("div",{className:"mb-6",children:f.jsxs("table",{className:"w-full border-collapse border border-black text-[10px]",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-200 text-black text-center",children:[!o&&f.jsxs("th",{className:"border border-black px-1 py-2 w-12",children:["CANT.",f.jsx("br",{}),"SOLIC."]}),f.jsxs("th",{className:"border border-black px-1 py-2 w-12",children:["CANT.",f.jsx("br",{}),"AUT."]}),f.jsx("th",{className:"border border-black px-1 py-2 w-16",children:"UNIDAD"}),f.jsx("th",{className:"border border-black px-2 py-2 w-1/4",children:"CONCEPTO"}),f.jsx("th",{className:"border border-black px-2 py-2",children:"DESCRIPCIN"})]})}),f.jsxs("tbody",{children:[c.map((p,g)=>{const _=!o&&p.cantidadAutorizada===0?"text-red-600 line-through decoration-red-600":"text-black";return f.jsxs("tr",{className:"text-center align-top",children:[!o&&f.jsx("td",{className:"border border-black px-1 py-2 font-bold text-black",children:p.cantidad}),f.jsx("td",{className:`border border-black px-1 py-2 font-bold bg-gray-50 ${_}`,children:p.cantidadAutorizada??""}),f.jsx("td",{className:`border border-black px-1 py-2 uppercase ${_}`,children:p.unidad}),f.jsx("td",{className:`border border-black px-2 py-2 uppercase text-left font-bold ${_}`,children:p.concepto}),f.jsx("td",{className:`border border-black px-2 py-2 uppercase text-left text-[9px] ${_}`,children:p.descripcion})]},g)}),Array.from({length:Math.max(0,5-c.length)}).map((p,g)=>f.jsxs("tr",{className:"h-8",children:[!o&&f.jsx("td",{className:"border border-black"}),f.jsx("td",{className:"border border-black"}),f.jsx("td",{className:"border border-black"}),f.jsx("td",{className:"border border-black"}),f.jsx("td",{className:"border border-black"})]},`empty-${g}`))]})]})}),f.jsxs("div",{className:"mb-8 border border-black p-2 min-h-[80px]",children:[f.jsx("p",{className:"font-bold uppercase text-xs mb-1",children:"Justificacin:"}),f.jsx("p",{className:"text-xs uppercase leading-snug mb-4",children:s.justificacion}),f.jsxs("div",{className:"flex gap-8 mt-2 pt-2 border-t border-gray-300 text-[10px]",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-bold",children:"RESPONSABLE / CONTACTO: "}),f.jsx("span",{className:"uppercase",children:s.responsableNombre})]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-bold",children:"TELFONO: "}),f.jsx("span",{children:s.responsableTelefono})]})]})]}),f.jsx("div",{className:"mt-auto break-inside-avoid",children:f.jsxs("div",{className:"grid grid-cols-3 gap-4 items-end",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"font-bold uppercase text-[10px] mb-8",children:"SOLICITA"}),f.jsx("div",{className:"border-b border-black w-3/4 mx-auto mb-1"}),f.jsx("p",{className:"font-bold uppercase text-[9px] px-2",children:s.titularNombre}),f.jsxs("p",{className:"text-[8px] uppercase text-gray-600",children:["Titular de ",s.organoRequirente]})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"font-bold uppercase text-[10px] mb-8",children:"Vo. Bo."}),f.jsx("div",{className:"border-b border-black w-3/4 mx-auto mb-1"}),f.jsx("p",{className:"font-bold uppercase text-[9px] px-2",children:"LIC. ERICK DANIEL RODAS MORENO"}),f.jsx("p",{className:"text-[8px] uppercase text-gray-600",children:"Direccin de Adquisiciones y Servicios"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"font-bold uppercase text-[10px] mb-8",children:"AUTORIZA"}),f.jsx("div",{className:"border-b border-black w-3/4 mx-auto mb-1"}),f.jsx("p",{className:"font-bold uppercase text-[9px] px-2",children:"CP. DAYTON VENTURA MONTECINOS"}),f.jsx("p",{className:"text-[8px] uppercase text-gray-600",children:"Oficial Mayor"})]})]})})]})}function s6(){const{id:i}=mg(),{requisiciones:e}=Ga(),n=e.find(c=>c.id===i);if(M.useEffect(()=>{n&&setTimeout(()=>window.print(),800)},[n]),!n)return f.jsx("div",{className:"p-8 text-center font-bold",children:"Preparando formato de impresin..."});const s=n.lineas.filter(c=>(c.cantidadAutorizada??c.cantidad)>0),o=new Date().toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric"});return f.jsxs("div",{className:"bg-white text-black min-h-screen w-full max-w-[21.59cm] mx-auto p-12 print:p-0 print:m-0 font-sans text-sm relative",children:[f.jsxs("div",{className:"print:hidden fixed top-4 right-4 z-50 flex flex-col gap-2",children:[f.jsxs("button",{onClick:()=>window.close(),className:"bg-white text-gray-700 border border-gray-300 px-5 py-3 rounded-full shadow-lg flex items-center gap-2 font-bold hover:bg-gray-50 transition-all",children:[f.jsx(Ws,{size:18})," Cerrar"]}),f.jsxs("button",{onClick:()=>window.print(),className:"bg-gray-900 text-white px-5 py-3 rounded-full shadow-xl flex items-center gap-2 font-bold hover:scale-105 transition-transform",children:[f.jsx(Vc,{size:18})," Imprimir"]})]}),f.jsxs("header",{className:"flex justify-between items-center mb-8 border-b-2 border-gray-800 pb-4 gap-4",children:[f.jsx("div",{className:"w-1/5 flex justify-start",children:f.jsx("img",{src:"/logo-tapachula.jpeg",alt:"Gobierno Municipal",className:"h-24 object-contain"})}),f.jsxs("div",{className:"flex-1 text-center",children:[f.jsx("h1",{className:"text-xl font-black uppercase tracking-widest text-gray-900 whitespace-nowrap scale-x-95 origin-center",children:"H. Ayuntamiento de Tapachula"}),f.jsx("h2",{className:"text-lg font-bold uppercase text-gray-700 mt-1 tracking-wide",children:"Oficiala Mayor"}),f.jsx("h3",{className:"text-[11px] font-bold uppercase bg-gray-100 inline-block px-3 py-1 rounded-full mt-2 tracking-wider",children:"Direccin de Adquisiciones y Servicios"})]}),f.jsx("div",{className:"w-1/5 flex justify-end",children:f.jsx("img",{src:"/oficialia.jpeg",alt:"Oficiala Mayor",className:"h-24 object-contain"})})]}),f.jsx("div",{className:"text-right mb-8",children:f.jsxs("p",{className:"font-bold uppercase text-xs",children:["Tapachula, Chiapas a ",o]})}),f.jsxs("div",{className:"mb-6",children:[f.jsx("p",{className:"font-bold mb-2",children:"A QUIEN CORRESPONDA:"}),f.jsxs("p",{className:"text-justify leading-relaxed indent-8",children:["Por medio de la presente, y con la finalidad de dar cumplimiento a los procesos de adjudicacin de bienes y servicios, me permito solicitarle de la manera ms atenta, nos brinde su ",f.jsx("strong",{children:"cotizacin formal"})," (incluyendo IVA desglosado y tiempo de entrega) para los siguientes conceptos:"]})]}),f.jsx("div",{className:"mb-12",children:f.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-100 text-gray-900",children:[f.jsx("th",{className:"border border-gray-300 px-3 py-2 w-16 font-bold uppercase",children:"Cant."}),f.jsx("th",{className:"border border-gray-300 px-3 py-2 w-24 font-bold uppercase",children:"Unidad"}),f.jsx("th",{className:"border border-gray-300 px-3 py-2 font-bold uppercase text-left",children:"Descripcin Detallada"})]})}),f.jsx("tbody",{children:s.map((c,d)=>f.jsxs("tr",{children:[f.jsx("td",{className:"border border-gray-300 px-3 py-3 text-center font-bold",children:c.cantidadAutorizada??c.cantidad}),f.jsx("td",{className:"border border-gray-300 px-3 py-3 text-center uppercase",children:c.unidad}),f.jsxs("td",{className:"border border-gray-300 px-3 py-3 uppercase",children:[f.jsx("span",{className:"font-bold block",children:c.concepto}),f.jsx("span",{className:"text-gray-600",children:c.descripcion})]})]},d))})]})}),f.jsxs("div",{className:"mt-auto pt-10 text-center break-inside-avoid",children:[f.jsx("p",{className:"text-xs font-bold uppercase mb-12",children:"Atentamente"}),f.jsxs("div",{className:"inline-block border-t border-black px-12 pt-2",children:[f.jsx("p",{className:"font-bold uppercase text-xs",children:"Direccin de Adquisiciones y Servicios"}),f.jsx("p",{className:"text-[10px] text-gray-500 uppercase mt-1",children:"Oficiala Mayor"})]})]})]})}function a6(){const{allUsers:i}=dn(),[e,n]=M.useState({diasFestivos:[],excepcionGlobal:!1,excepcionesUsuarios:[]}),[s,o]=M.useState(!0),[c,d]=M.useState(!1),[p,g]=M.useState(""),[y,_]=M.useState(""),[x,w]=M.useState("");M.useEffect(()=>{const Q=kr(Kt(ft,"configuracion","reglas_envio"),re=>{re.exists()&&n(re.data()),o(!1)});return()=>Q()},[]);const D=async Q=>{d(!0);try{await UT(Kt(ft,"configuracion","reglas_envio"),Q,{merge:!0})}catch(re){console.error("Error al guardar:",re)}finally{d(!1)}},R=()=>{!p||e.diasFestivos.includes(p)||(D({...e,diasFestivos:[...e.diasFestivos,p].sort()}),g(""))},q=Q=>{D({...e,diasFestivos:e.diasFestivos.filter(re=>re!==Q)})},k=()=>{D({...e,excepcionGlobal:!e.excepcionGlobal})},j=()=>{if(!y||!x)return;const Q=e.excepcionesUsuarios.filter(re=>(typeof re=="string"?re:re.uid)!==y);D({...e,excepcionesUsuarios:[...Q,{uid:y,expira:x}]}),_(""),w("")},X=Q=>{D({...e,excepcionesUsuarios:e.excepcionesUsuarios.filter(re=>(typeof re=="string"?re:re.uid)!==Q)})};return s?f.jsx("div",{className:"p-8 text-center text-gray-500 animate-pulse",children:"Cargando configuracin..."}):f.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[f.jsxs("div",{children:[f.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[f.jsx(uw,{className:"text-[var(--color-brand)]"}),"Configuracin de Recepcin"]}),f.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Administra las reglas y excepciones para los 5 das hbiles de envo de requerimientos."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[f.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2 mb-4",children:[f.jsx(Da,{size:18,className:"text-amber-500"}),"Das Inhbiles Oficiales"]}),f.jsxs("div",{className:"flex gap-2 mb-4",children:[f.jsx("input",{type:"date",className:"flex-1 p-2 border border-gray-200 rounded-lg outline-none",value:p,onChange:Q=>g(Q.target.value)}),f.jsx(Le,{variant:"secondary",onClick:R,disabled:!p||c,children:"Agregar"})]}),f.jsx("ul",{className:"space-y-2",children:e.diasFestivos.map(Q=>f.jsxs("li",{className:"flex justify-between items-center p-2 bg-gray-50 rounded-lg text-sm text-gray-700",children:[new Date(Q+"T12:00:00").toLocaleDateString("es-MX",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),f.jsx("button",{onClick:()=>q(Q),className:"text-red-400 hover:text-red-600",children:f.jsx(Ua,{size:16})})]},Q))})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:`p-6 rounded-xl border ${e.excepcionGlobal?"bg-red-50 border-red-200":"bg-white border-gray-100"}`,children:f.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center justify-between mb-2",children:["Apertura Global Extraordinaria",f.jsx("button",{onClick:k,disabled:c,className:`w-12 h-6 rounded-full flex items-center px-1 ${e.excepcionGlobal?"bg-red-500 justify-end":"bg-gray-300 justify-start"}`,children:f.jsx("div",{className:"w-4 h-4 bg-white rounded-full"})})]})}),f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[f.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2 mb-4",children:[f.jsx(vw,{size:18,className:"text-blue-500"}),"Permisos Temporales"]}),f.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[f.jsxs("select",{className:"w-full p-2 border border-gray-200 rounded-lg text-sm",value:y,onChange:Q=>_(Q.target.value),children:[f.jsx("option",{value:"",children:"1. Selecciona un usuario..."}),i.filter(Q=>Q.role==="solicitud").map(Q=>f.jsxs("option",{value:Q.uid,children:[Q.organo," - ",Q.email]},Q.uid))]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"date",className:"flex-1 p-2 border border-gray-200 rounded-lg text-sm",value:x,min:new Date().toISOString().split("T")[0],onChange:Q=>w(Q.target.value)}),f.jsx(Le,{variant:"secondary",onClick:j,disabled:!y||!x||c,children:"Conceder"})]})]}),f.jsx("ul",{className:"space-y-2 mt-4",children:e.excepcionesUsuarios.map(Q=>{const re=typeof Q=="string"?Q:Q.uid,ce=typeof Q=="string"?"Indefinido":Q.expira,de=i.find(S=>S.uid===re),N=ce!=="Indefinido"&&new Date(ce+"T23:59:59").getTime()<new Date().getTime();return f.jsxs("li",{className:`flex justify-between items-center p-3 rounded-lg border ${N?"bg-gray-50 border-gray-200 opacity-60":"bg-blue-50 border-blue-100"}`,children:[f.jsxs("div",{children:[f.jsx("span",{className:`font-semibold text-sm ${N?"text-gray-500":"text-blue-800"}`,children:de?.organo||"Desconocido"}),f.jsxs("div",{className:`text-xs flex items-center gap-1 mt-0.5 ${N?"text-red-500 font-bold":"text-blue-600"}`,children:[f.jsx(Xc,{size:12}),N?"Vencido":`Vlido hasta: ${new Date(ce+"T12:00:00").toLocaleDateString()}`]})]}),f.jsx("button",{onClick:()=>X(re),className:"text-gray-400 hover:text-red-600",children:f.jsx(Ua,{size:16})})]},re)})})]})]})]})]})}function Ip({children:i}){const{user:e,booting:n}=dn();return n?f.jsx("div",{className:"flex h-screen items-center justify-center",children:"Cargando..."}):e?f.jsx(f.Fragment,{children:i}):f.jsx(Lc,{to:"/login",replace:!0})}function Qd({allowed:i,children:e}){const{user:n,role:s,booting:o}=dn();return o?null:n?!s||!i.includes(s)?f.jsx(bw,{}):f.jsx(f.Fragment,{children:e}):f.jsx(Lc,{to:"/login",replace:!0})}function o6(){const{role:i,booting:e}=dn();return e?null:i==="revision"||i==="autorizacion"||i==="direccion"||i==="admin"||i==="almacen"?f.jsx(Lc,{to:"/revision/requisiciones",replace:!0}):f.jsx(Lc,{to:"/mis-requisiciones",replace:!0})}function l6(){return f.jsx(w2,{children:f.jsxs(e2,{children:[f.jsx(Tn,{path:"/login",element:f.jsx(Xk,{})}),f.jsx(Tn,{path:"/requisiciones/:id/print",element:f.jsx(Ip,{children:f.jsx(r6,{})})}),f.jsx(Tn,{path:"/requisiciones/:id/cotizacion",element:f.jsx(Ip,{children:f.jsx(s6,{})})}),f.jsxs(Tn,{element:f.jsx(Ip,{children:f.jsx(Kk,{})}),children:[f.jsx(Tn,{path:"/",element:f.jsx(o6,{})}),f.jsx(Tn,{path:"/mis-requisiciones",element:f.jsx(Jk,{})}),f.jsx(Tn,{path:"/nueva",element:f.jsx(Qd,{allowed:["solicitud","admin","revision"],children:f.jsx(e6,{})})}),f.jsx(Tn,{path:"/revision/requisiciones",element:f.jsx(Qd,{allowed:["revision","autorizacion","direccion","admin","almacen"],children:f.jsx(t6,{})})}),f.jsx(Tn,{path:"/revision/:id",element:f.jsx(WE,{})}),f.jsx(Tn,{path:"/requisiciones/:id",element:f.jsx(WE,{})}),f.jsx(Tn,{path:"/notificaciones",element:f.jsx(n6,{})}),f.jsx(Tn,{path:"/admin/usuarios",element:f.jsx(Qd,{allowed:["admin"],children:f.jsx(i6,{})})}),f.jsx(Tn,{path:"/admin/configuracion",element:f.jsx(Qd,{allowed:["admin","direccion"],children:f.jsx(a6,{})})})]}),f.jsx(Tn,{path:"*",element:f.jsx(Lc,{to:"/",replace:!0})})]})})}function c6(){return f.jsx(fM,{children:f.jsx(Yk,{children:f.jsx(mM,{children:f.jsx(pM,{children:f.jsx(l6,{})})})})})}function u6(){return f.jsx(c6,{})}oS.createRoot(document.getElementById("root")).render(f.jsx(Jc.StrictMode,{children:f.jsx(u6,{})}));
